function FC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ef={exports:{}},oa={},_f={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function VC(){if(m0)return Oe;m0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function E(I,G,X){this.props=I,this.context=G,this.refs=S,this.updater=X||b}E.prototype.isReactComponent={},E.prototype.setState=function(I,G){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,G,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function C(){}C.prototype=E.prototype;function j(I,G,X){this.props=I,this.context=G,this.refs=S,this.updater=X||b}var N=j.prototype=new C;N.constructor=j,k(N,E.prototype),N.isPureReactComponent=!0;var R=Array.isArray,M=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(I,G,X){var se,de={},pe=null,K=null;if(G!=null)for(se in G.ref!==void 0&&(K=G.ref),G.key!==void 0&&(pe=""+G.key),G)M.call(G,se)&&!D.hasOwnProperty(se)&&(de[se]=G[se]);var le=arguments.length-2;if(le===1)de.children=X;else if(1<le){for(var J=Array(le),ne=0;ne<le;ne++)J[ne]=arguments[ne+2];de.children=J}if(I&&I.defaultProps)for(se in le=I.defaultProps,le)de[se]===void 0&&(de[se]=le[se]);return{$$typeof:t,type:I,key:pe,ref:K,props:de,_owner:L.current}}function V(I,G){return{$$typeof:t,type:I.type,key:G,ref:I.ref,props:I.props,_owner:I._owner}}function H(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function Z(I){var G={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(X){return G[X]})}var ce=/\/+/g;function ae(I,G){return typeof I=="object"&&I!==null&&I.key!=null?Z(""+I.key):G.toString(36)}function ue(I,G,X,se,de){var pe=typeof I;(pe==="undefined"||pe==="boolean")&&(I=null);var K=!1;if(I===null)K=!0;else switch(pe){case"string":case"number":K=!0;break;case"object":switch(I.$$typeof){case t:case e:K=!0}}if(K)return K=I,de=de(K),I=se===""?"."+ae(K,0):se,R(de)?(X="",I!=null&&(X=I.replace(ce,"$&/")+"/"),ue(de,G,X,"",function(ne){return ne})):de!=null&&(H(de)&&(de=V(de,X+(!de.key||K&&K.key===de.key?"":(""+de.key).replace(ce,"$&/")+"/")+I)),G.push(de)),1;if(K=0,se=se===""?".":se+":",R(I))for(var le=0;le<I.length;le++){pe=I[le];var J=se+ae(pe,le);K+=ue(pe,G,X,J,de)}else if(J=y(I),typeof J=="function")for(I=J.call(I),le=0;!(pe=I.next()).done;)pe=pe.value,J=se+ae(pe,le++),K+=ue(pe,G,X,J,de);else if(pe==="object")throw G=String(I),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return K}function ye(I,G,X){if(I==null)return I;var se=[],de=0;return ue(I,se,"","",function(pe){return G.call(X,pe,de++)}),se}function Y(I){if(I._status===-1){var G=I._result;G=G(),G.then(function(X){(I._status===0||I._status===-1)&&(I._status=1,I._result=X)},function(X){(I._status===0||I._status===-1)&&(I._status=2,I._result=X)}),I._status===-1&&(I._status=0,I._result=G)}if(I._status===1)return I._result.default;throw I._result}var q={current:null},T={transition:null},U={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:T,ReactCurrentOwner:L};function F(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ye,forEach:function(I,G,X){ye(I,function(){G.apply(this,arguments)},X)},count:function(I){var G=0;return ye(I,function(){G++}),G},toArray:function(I){return ye(I,function(G){return G})||[]},only:function(I){if(!H(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Oe.Component=E,Oe.Fragment=r,Oe.Profiler=i,Oe.PureComponent=j,Oe.StrictMode=n,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Oe.act=F,Oe.cloneElement=function(I,G,X){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var se=k({},I.props),de=I.key,pe=I.ref,K=I._owner;if(G!=null){if(G.ref!==void 0&&(pe=G.ref,K=L.current),G.key!==void 0&&(de=""+G.key),I.type&&I.type.defaultProps)var le=I.type.defaultProps;for(J in G)M.call(G,J)&&!D.hasOwnProperty(J)&&(se[J]=G[J]===void 0&&le!==void 0?le[J]:G[J])}var J=arguments.length-2;if(J===1)se.children=X;else if(1<J){le=Array(J);for(var ne=0;ne<J;ne++)le[ne]=arguments[ne+2];se.children=le}return{$$typeof:t,type:I.type,key:de,ref:pe,props:se,_owner:K}},Oe.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},Oe.createElement=A,Oe.createFactory=function(I){var G=A.bind(null,I);return G.type=I,G},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(I){return{$$typeof:d,render:I}},Oe.isValidElement=H,Oe.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:Y}},Oe.memo=function(I,G){return{$$typeof:p,type:I,compare:G===void 0?null:G}},Oe.startTransition=function(I){var G=T.transition;T.transition={};try{I()}finally{T.transition=G}},Oe.unstable_act=F,Oe.useCallback=function(I,G){return q.current.useCallback(I,G)},Oe.useContext=function(I){return q.current.useContext(I)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(I){return q.current.useDeferredValue(I)},Oe.useEffect=function(I,G){return q.current.useEffect(I,G)},Oe.useId=function(){return q.current.useId()},Oe.useImperativeHandle=function(I,G,X){return q.current.useImperativeHandle(I,G,X)},Oe.useInsertionEffect=function(I,G){return q.current.useInsertionEffect(I,G)},Oe.useLayoutEffect=function(I,G){return q.current.useLayoutEffect(I,G)},Oe.useMemo=function(I,G){return q.current.useMemo(I,G)},Oe.useReducer=function(I,G,X){return q.current.useReducer(I,G,X)},Oe.useRef=function(I){return q.current.useRef(I)},Oe.useState=function(I){return q.current.useState(I)},Oe.useSyncExternalStore=function(I,G,X){return q.current.useSyncExternalStore(I,G,X)},Oe.useTransition=function(){return q.current.useTransition()},Oe.version="18.3.1",Oe}var g0;function cu(){return g0||(g0=1,_f.exports=VC()),_f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function WC(){if(v0)return oa;v0=1;var t=cu(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,p){var m,g={},y=null,b=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(b=f.ref);for(m in f)n.call(f,m)&&!a.hasOwnProperty(m)&&(g[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:e,type:d,key:y,ref:b,props:g,_owner:i.current}}return oa.Fragment=r,oa.jsx=l,oa.jsxs=l,oa}var y0;function HC(){return y0||(y0=1,Ef.exports=WC()),Ef.exports}var c=HC(),uc={},Cf={exports:{}},Kt={},jf={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function GC(){return x0||(x0=1,(function(t){function e(T,U){var F=T.length;T.push(U);e:for(;0<F;){var I=F-1>>>1,G=T[I];if(0<i(G,U))T[I]=U,T[F]=G,F=I;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var U=T[0],F=T.pop();if(F!==U){T[0]=F;e:for(var I=0,G=T.length,X=G>>>1;I<X;){var se=2*(I+1)-1,de=T[se],pe=se+1,K=T[pe];if(0>i(de,F))pe<G&&0>i(K,de)?(T[I]=K,T[pe]=F,I=pe):(T[I]=de,T[se]=F,I=se);else if(pe<G&&0>i(K,F))T[I]=K,T[pe]=F,I=pe;else break e}}return U}function i(T,U){var F=T.sortIndex-U.sortIndex;return F!==0?F:T.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],p=[],m=1,g=null,y=3,b=!1,k=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(T){for(var U=r(p);U!==null;){if(U.callback===null)n(p);else if(U.startTime<=T)n(p),U.sortIndex=U.expirationTime,e(f,U);else break;U=r(p)}}function R(T){if(S=!1,N(T),!k)if(r(f)!==null)k=!0,Y(M);else{var U=r(p);U!==null&&q(R,U.startTime-T)}}function M(T,U){k=!1,S&&(S=!1,C(A),A=-1),b=!0;var F=y;try{for(N(U),g=r(f);g!==null&&(!(g.expirationTime>U)||T&&!Z());){var I=g.callback;if(typeof I=="function"){g.callback=null,y=g.priorityLevel;var G=I(g.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?g.callback=G:g===r(f)&&n(f),N(U)}else n(f);g=r(f)}if(g!==null)var X=!0;else{var se=r(p);se!==null&&q(R,se.startTime-U),X=!1}return X}finally{g=null,y=F,b=!1}}var L=!1,D=null,A=-1,V=5,H=-1;function Z(){return!(t.unstable_now()-H<V)}function ce(){if(D!==null){var T=t.unstable_now();H=T;var U=!0;try{U=D(!0,T)}finally{U?ae():(L=!1,D=null)}}else L=!1}var ae;if(typeof j=="function")ae=function(){j(ce)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ye=ue.port2;ue.port1.onmessage=ce,ae=function(){ye.postMessage(null)}}else ae=function(){E(ce,0)};function Y(T){D=T,L||(L=!0,ae())}function q(T,U){A=E(function(){T(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,Y(M))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(T){switch(y){case 1:case 2:case 3:var U=3;break;default:U=y}var F=y;y=U;try{return T()}finally{y=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=y;y=T;try{return U()}finally{y=F}},t.unstable_scheduleCallback=function(T,U,F){var I=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?I+F:I):F=I,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,T={id:m++,callback:U,priorityLevel:T,startTime:F,expirationTime:G,sortIndex:-1},F>I?(T.sortIndex=F,e(p,T),r(f)===null&&T===r(p)&&(S?(C(A),A=-1):S=!0,q(R,F-I))):(T.sortIndex=G,e(f,T),k||b||(k=!0,Y(M))),T},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(T){var U=y;return function(){var F=y;y=U;try{return T.apply(this,arguments)}finally{y=F}}}})(Nf)),Nf}var w0;function KC(){return w0||(w0=1,jf.exports=GC()),jf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function qC(){if(b0)return Kt;b0=1;var t=cu(),e=KC();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(s){return f.call(g,s)?!0:f.call(m,s)?!1:p.test(s)?g[s]=!0:(m[s]=!0,!1)}function b(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,o,u,h){if(o===null||typeof o>"u"||b(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,u,h,v,w,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];E[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(C,j);E[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(C,j);E[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(C,j);E[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,o,u,h){var v=E.hasOwnProperty(o)?E[o]:null;(v!==null?v.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,v,h)&&(u=null),h||v===null?y(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):v.mustUseProperty?s[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,h=v.attributeNamespace,u===null?s.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),T=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=T&&s[T]||s["@@iterator"],typeof s=="function"?s:null)}var F=Object.assign,I;function G(s){if(I===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);I=o&&o[1]||""}return`
`+I+s}var X=!1;function se(s,o){if(!s||X)return"";X=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var h=W}Reflect.construct(s,[],o)}else{try{o.call()}catch(W){h=W}s.call(o.prototype)}else{try{throw Error()}catch(W){h=W}s()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var v=W.stack.split(`
`),w=h.stack.split(`
`),_=v.length-1,P=w.length-1;1<=_&&0<=P&&v[_]!==w[P];)P--;for(;1<=_&&0<=P;_--,P--)if(v[_]!==w[P]){if(_!==1||P!==1)do if(_--,P--,0>P||v[_]!==w[P]){var O=`
`+v[_].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=_&&0<=P);break}}}finally{X=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?G(s):""}function de(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case L:return"Portal";case V:return"Profiler";case A:return"StrictMode";case ae:return"Suspense";case ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Z:return(s.displayName||"Context")+".Consumer";case H:return(s._context.displayName||"Context")+".Provider";case ce:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ye:return o=s.displayName||null,o!==null?o:pe(s.type)||"Memo";case Y:o=s._payload,s=s._init;try{return pe(s(o))}catch{}}return null}function K(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function J(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ne(s){var o=J(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(_){h=""+_,w.call(this,_)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function me(s){s._valueTracker||(s._valueTracker=ne(s))}function Pe(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=J(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function Je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function nt(s,o){var u=o.checked;return F({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ar(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=le(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function on(s,o){o=o.checked,o!=null&&N(s,"checked",o,!1)}function Jt(s,o){on(s,o);var u=le(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Qt(s,o.type,u):o.hasOwnProperty("defaultValue")&&Qt(s,o.type,le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function wi(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Qt(s,o,u){(o!=="number"||Je(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var xs=Array.isArray;function Cn(s,o,u,h){if(s=s.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=o.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&h&&(s[u].defaultSelected=!0)}else{for(u=""+le(u),o=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function Ct(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return F({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function an(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(r(92));if(xs(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:le(u)}}function el(s,o){var u=le(o.value),h=le(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function tl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function ws(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bi(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?ws(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var bs,oo=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,v){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,v)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(bs=bs||document.createElement("div"),bs.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=bs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function lr(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nn=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(s){Nn.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),jn[o]=jn[s]})});function rl(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||jn.hasOwnProperty(s)&&jn[s]?(""+o).trim():o+"px"}function nl(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,v=rl(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,v):s[u]=v}}var sl=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(s,o){if(o){if(sl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Si(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ss=null;function cr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ki=null,Tn=null,ln=null;function Ei(s){if(s=Wi(s)){if(typeof ki!="function")throw Error(r(280));var o=s.stateNode;o&&(o=_l(o),ki(s.stateNode,s.type,o))}}function Ae(s){Tn?ln?ln.push(s):ln=[s]:Tn=s}function st(){if(Tn){var s=Tn,o=ln;if(ln=Tn=null,Ei(s),o)for(s=0;s<o.length;s++)Ei(o[s])}}function ht(s,o){return s(o)}function Pt(){}var Rn=!1;function lt(s,o,u){if(Rn)return s(o,u);Rn=!0;try{return ht(s,o,u)}finally{Rn=!1,(Tn!==null||ln!==null)&&(Pt(),st())}}function yt(s,o){var u=s.stateNode;if(u===null)return null;var h=_l(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Pn=!1;if(d)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{Pn=!1}function Zt(s,o,u,h,v,w,_,P,O){var W=Array.prototype.slice.call(arguments,3);try{o.apply(u,W)}catch(ee){this.onError(ee)}}var An=!1,ur=null,_i=!1,zu=null,qE={onError:function(s){An=!0,ur=s}};function YE(s,o,u,h,v,w,_,P,O){An=!1,ur=null,Zt.apply(qE,arguments)}function XE(s,o,u,h,v,w,_,P,O){if(YE.apply(this,arguments),An){if(An){var W=ur;An=!1,ur=null}else throw Error(r(198));_i||(_i=!0,zu=W)}}function ks(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Bm(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Um(s){if(ks(s)!==s)throw Error(r(188))}function JE(s){var o=s.alternate;if(!o){if(o=ks(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,h=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return Um(v),s;if(w===h)return Um(v),o;w=w.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=w;else{for(var _=!1,P=v.child;P;){if(P===u){_=!0,u=v,h=w;break}if(P===h){_=!0,h=v,u=w;break}P=P.sibling}if(!_){for(P=w.child;P;){if(P===u){_=!0,u=w,h=v;break}if(P===h){_=!0,h=w,u=v;break}P=P.sibling}if(!_)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function $m(s){return s=JE(s),s!==null?Fm(s):null}function Fm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Fm(s);if(o!==null)return o;s=s.sibling}return null}var zm=e.unstable_scheduleCallback,Vm=e.unstable_cancelCallback,QE=e.unstable_shouldYield,ZE=e.unstable_requestPaint,ot=e.unstable_now,e_=e.unstable_getCurrentPriorityLevel,Vu=e.unstable_ImmediatePriority,Wm=e.unstable_UserBlockingPriority,ol=e.unstable_NormalPriority,t_=e.unstable_LowPriority,Hm=e.unstable_IdlePriority,il=null,zr=null;function r_(s){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(il,s,void 0,(s.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:o_,n_=Math.log,s_=Math.LN2;function o_(s){return s>>>=0,s===0?32:31-(n_(s)/s_|0)|0}var al=64,ll=4194304;function Ci(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function cl(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,v=s.suspendedLanes,w=s.pingedLanes,_=u&268435455;if(_!==0){var P=_&~v;P!==0?h=Ci(P):(w&=_,w!==0&&(h=Ci(w)))}else _=u&~v,_!==0?h=Ci(_):w!==0&&(h=Ci(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&v)===0&&(v=h&-h,w=o&-o,v>=w||v===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-Nr(o),v=1<<u,h|=s[u],o&=~v;return h}function i_(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a_(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes;0<w;){var _=31-Nr(w),P=1<<_,O=v[_];O===-1?((P&u)===0||(P&h)!==0)&&(v[_]=i_(P,o)):O<=o&&(s.expiredLanes|=P),w&=~P}}function Wu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Gm(){var s=al;return al<<=1,(al&4194240)===0&&(al=64),s}function Hu(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ji(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Nr(o),s[o]=u}function l_(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var v=31-Nr(u),w=1<<v;o[v]=0,h[v]=-1,s[v]=-1,u&=~w}}function Gu(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-Nr(u),v=1<<h;v&o|s[h]&o&&(s[h]|=o),u&=~v}}var We=0;function Km(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var qm,Ku,Ym,Xm,Jm,qu=!1,ul=[],Dn=null,In=null,Mn=null,Ni=new Map,Ti=new Map,On=[],c_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qm(s,o){switch(s){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Ni.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(o.pointerId)}}function Ri(s,o,u,h,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Wi(o),o!==null&&Ku(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function u_(s,o,u,h,v){switch(o){case"focusin":return Dn=Ri(Dn,s,o,u,h,v),!0;case"dragenter":return In=Ri(In,s,o,u,h,v),!0;case"mouseover":return Mn=Ri(Mn,s,o,u,h,v),!0;case"pointerover":var w=v.pointerId;return Ni.set(w,Ri(Ni.get(w)||null,s,o,u,h,v)),!0;case"gotpointercapture":return w=v.pointerId,Ti.set(w,Ri(Ti.get(w)||null,s,o,u,h,v)),!0}return!1}function Zm(s){var o=Es(s.target);if(o!==null){var u=ks(o);if(u!==null){if(o=u.tag,o===13){if(o=Bm(u),o!==null){s.blockedOn=o,Jm(s.priority,function(){Ym(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dl(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Xu(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Ss=h,u.target.dispatchEvent(h),Ss=null}else return o=Wi(u),o!==null&&Ku(o),s.blockedOn=u,!1;o.shift()}return!0}function eg(s,o,u){dl(s)&&u.delete(o)}function d_(){qu=!1,Dn!==null&&dl(Dn)&&(Dn=null),In!==null&&dl(In)&&(In=null),Mn!==null&&dl(Mn)&&(Mn=null),Ni.forEach(eg),Ti.forEach(eg)}function Pi(s,o){s.blockedOn===o&&(s.blockedOn=null,qu||(qu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,d_)))}function Ai(s){function o(v){return Pi(v,s)}if(0<ul.length){Pi(ul[0],s);for(var u=1;u<ul.length;u++){var h=ul[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Dn!==null&&Pi(Dn,s),In!==null&&Pi(In,s),Mn!==null&&Pi(Mn,s),Ni.forEach(o),Ti.forEach(o),u=0;u<On.length;u++)h=On[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<On.length&&(u=On[0],u.blockedOn===null);)Zm(u),u.blockedOn===null&&On.shift()}var ao=R.ReactCurrentBatchConfig,fl=!0;function f_(s,o,u,h){var v=We,w=ao.transition;ao.transition=null;try{We=1,Yu(s,o,u,h)}finally{We=v,ao.transition=w}}function h_(s,o,u,h){var v=We,w=ao.transition;ao.transition=null;try{We=4,Yu(s,o,u,h)}finally{We=v,ao.transition=w}}function Yu(s,o,u,h){if(fl){var v=Xu(s,o,u,h);if(v===null)hd(s,o,h,hl,u),Qm(s,h);else if(u_(v,s,o,u,h))h.stopPropagation();else if(Qm(s,h),o&4&&-1<c_.indexOf(s)){for(;v!==null;){var w=Wi(v);if(w!==null&&qm(w),w=Xu(s,o,u,h),w===null&&hd(s,o,h,hl,u),w===v)break;v=w}v!==null&&h.stopPropagation()}else hd(s,o,h,null,u)}}var hl=null;function Xu(s,o,u,h){if(hl=null,s=cr(h),s=Es(s),s!==null)if(o=ks(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Bm(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return hl=s,null}function tg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e_()){case Vu:return 1;case Wm:return 4;case ol:case t_:return 16;case Hm:return 536870912;default:return 16}default:return 16}}var Ln=null,Ju=null,pl=null;function rg(){if(pl)return pl;var s,o=Ju,u=o.length,h,v="value"in Ln?Ln.value:Ln.textContent,w=v.length;for(s=0;s<u&&o[s]===v[s];s++);var _=u-s;for(h=1;h<=_&&o[u-h]===v[w-h];h++);return pl=v.slice(s,1<h?1-h:void 0)}function ml(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function gl(){return!0}function ng(){return!1}function er(s){function o(u,h,v,w,_){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?gl:ng,this.isPropagationStopped=ng,this}return F(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),o}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=er(lo),Di=F({},lo,{view:0,detail:0}),p_=er(Di),Zu,ed,Ii,vl=F({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ii&&(Ii&&s.type==="mousemove"?(Zu=s.screenX-Ii.screenX,ed=s.screenY-Ii.screenY):ed=Zu=0,Ii=s),Zu)},movementY:function(s){return"movementY"in s?s.movementY:ed}}),sg=er(vl),m_=F({},vl,{dataTransfer:0}),g_=er(m_),v_=F({},Di,{relatedTarget:0}),td=er(v_),y_=F({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),x_=er(y_),w_=F({},lo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),b_=er(w_),S_=F({},lo,{data:0}),og=er(S_),k_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},__={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C_(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=__[s])?!!o[s]:!1}function rd(){return C_}var j_=F({},Di,{key:function(s){if(s.key){var o=k_[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ml(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?E_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(s){return s.type==="keypress"?ml(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ml(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),N_=er(j_),T_=F({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=er(T_),R_=F({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),P_=er(R_),A_=F({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),D_=er(A_),I_=F({},vl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),M_=er(I_),O_=[9,13,27,32],nd=d&&"CompositionEvent"in window,Mi=null;d&&"documentMode"in document&&(Mi=document.documentMode);var L_=d&&"TextEvent"in window&&!Mi,ag=d&&(!nd||Mi&&8<Mi&&11>=Mi),lg=" ",cg=!1;function ug(s,o){switch(s){case"keyup":return O_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var co=!1;function B_(s,o){switch(s){case"compositionend":return dg(o);case"keypress":return o.which!==32?null:(cg=!0,lg);case"textInput":return s=o.data,s===lg&&cg?null:s;default:return null}}function U_(s,o){if(co)return s==="compositionend"||!nd&&ug(s,o)?(s=rg(),pl=Ju=Ln=null,co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ag&&o.locale!=="ko"?null:o.data;default:return null}}var $_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$_[s.type]:o==="textarea"}function hg(s,o,u,h){Ae(h),o=Sl(o,"onChange"),0<o.length&&(u=new Qu("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Oi=null,Li=null;function F_(s){Pg(s,0)}function yl(s){var o=mo(s);if(Pe(o))return s}function z_(s,o){if(s==="change")return o}var pg=!1;if(d){var sd;if(d){var od="oninput"in document;if(!od){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),od=typeof mg.oninput=="function"}sd=od}else sd=!1;pg=sd&&(!document.documentMode||9<document.documentMode)}function gg(){Oi&&(Oi.detachEvent("onpropertychange",vg),Li=Oi=null)}function vg(s){if(s.propertyName==="value"&&yl(Li)){var o=[];hg(o,Li,s,cr(s)),lt(F_,o)}}function V_(s,o,u){s==="focusin"?(gg(),Oi=o,Li=u,Oi.attachEvent("onpropertychange",vg)):s==="focusout"&&gg()}function W_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return yl(Li)}function H_(s,o){if(s==="click")return yl(o)}function G_(s,o){if(s==="input"||s==="change")return yl(o)}function K_(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Tr=typeof Object.is=="function"?Object.is:K_;function Bi(s,o){if(Tr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!f.call(o,v)||!Tr(s[v],o[v]))return!1}return!0}function yg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xg(s,o){var u=yg(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yg(u)}}function wg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function bg(){for(var s=window,o=Je();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Je(s.document)}return o}function id(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function q_(s){var o=bg(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&wg(u.ownerDocument.documentElement,u)){if(h!==null&&id(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var v=u.textContent.length,w=Math.min(h.start,v);h=h.end===void 0?w:Math.min(h.end,v),!s.extend&&w>h&&(v=h,h=w,w=v),v=xg(u,w);var _=xg(u,h);v&&_&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),s.removeAllRanges(),w>h?(s.addRange(o),s.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Y_=d&&"documentMode"in document&&11>=document.documentMode,uo=null,ad=null,Ui=null,ld=!1;function Sg(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ld||uo==null||uo!==Je(h)||(h=uo,"selectionStart"in h&&id(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ui&&Bi(Ui,h)||(Ui=h,h=Sl(ad,"onSelect"),0<h.length&&(o=new Qu("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=uo)))}function xl(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var fo={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},cd={},kg={};d&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function wl(s){if(cd[s])return cd[s];if(!fo[s])return s;var o=fo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in kg)return cd[s]=o[u];return s}var Eg=wl("animationend"),_g=wl("animationiteration"),Cg=wl("animationstart"),jg=wl("transitionend"),Ng=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(s,o){Ng.set(s,o),a(o,[s])}for(var ud=0;ud<Tg.length;ud++){var dd=Tg[ud],X_=dd.toLowerCase(),J_=dd[0].toUpperCase()+dd.slice(1);Bn(X_,"on"+J_)}Bn(Eg,"onAnimationEnd"),Bn(_g,"onAnimationIteration"),Bn(Cg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(jg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q_=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Rg(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,XE(h,o,void 0,s),s.currentTarget=null}function Pg(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],v=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var _=h.length-1;0<=_;_--){var P=h[_],O=P.instance,W=P.currentTarget;if(P=P.listener,O!==w&&v.isPropagationStopped())break e;Rg(v,P,W),w=O}else for(_=0;_<h.length;_++){if(P=h[_],O=P.instance,W=P.currentTarget,P=P.listener,O!==w&&v.isPropagationStopped())break e;Rg(v,P,W),w=O}}}if(_i)throw s=zu,_i=!1,zu=null,s}function Ke(s,o){var u=o[xd];u===void 0&&(u=o[xd]=new Set);var h=s+"__bubble";u.has(h)||(Ag(o,s,2,!1),u.add(h))}function fd(s,o,u){var h=0;o&&(h|=4),Ag(u,s,h,o)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Fi(s){if(!s[bl]){s[bl]=!0,n.forEach(function(u){u!=="selectionchange"&&(Q_.has(u)||fd(u,!1,s),fd(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[bl]||(o[bl]=!0,fd("selectionchange",!1,o))}}function Ag(s,o,u,h){switch(tg(o)){case 1:var v=f_;break;case 4:v=h_;break;default:v=Yu}u=v.bind(null,o,u,s),v=void 0,!Pn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(o,u,{capture:!0,passive:v}):s.addEventListener(o,u,!0):v!==void 0?s.addEventListener(o,u,{passive:v}):s.addEventListener(o,u,!1)}function hd(s,o,u,h,v){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var P=h.stateNode.containerInfo;if(P===v||P.nodeType===8&&P.parentNode===v)break;if(_===4)for(_=h.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===v||O.nodeType===8&&O.parentNode===v))return;_=_.return}for(;P!==null;){if(_=Es(P),_===null)return;if(O=_.tag,O===5||O===6){h=w=_;continue e}P=P.parentNode}}h=h.return}lt(function(){var W=w,ee=cr(u),te=[];e:{var Q=Ng.get(s);if(Q!==void 0){var fe=Qu,xe=s;switch(s){case"keypress":if(ml(u)===0)break e;case"keydown":case"keyup":fe=N_;break;case"focusin":xe="focus",fe=td;break;case"focusout":xe="blur",fe=td;break;case"beforeblur":case"afterblur":fe=td;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=g_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=P_;break;case Eg:case _g:case Cg:fe=x_;break;case jg:fe=D_;break;case"scroll":fe=p_;break;case"wheel":fe=M_;break;case"copy":case"cut":case"paste":fe=b_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=ig}var Se=(o&4)!==0,it=!Se&&s==="scroll",$=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var B=W,z;B!==null;){z=B;var oe=z.stateNode;if(z.tag===5&&oe!==null&&(z=oe,$!==null&&(oe=yt(B,$),oe!=null&&Se.push(zi(B,oe,z)))),it)break;B=B.return}0<Se.length&&(Q=new fe(Q,xe,null,u,ee),te.push({event:Q,listeners:Se}))}}if((o&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",Q&&u!==Ss&&(xe=u.relatedTarget||u.fromElement)&&(Es(xe)||xe[cn]))break e;if((fe||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,fe?(xe=u.relatedTarget||u.toElement,fe=W,xe=xe?Es(xe):null,xe!==null&&(it=ks(xe),xe!==it||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=W),fe!==xe)){if(Se=sg,oe="onMouseLeave",$="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Se=ig,oe="onPointerLeave",$="onPointerEnter",B="pointer"),it=fe==null?Q:mo(fe),z=xe==null?Q:mo(xe),Q=new Se(oe,B+"leave",fe,u,ee),Q.target=it,Q.relatedTarget=z,oe=null,Es(ee)===W&&(Se=new Se($,B+"enter",xe,u,ee),Se.target=z,Se.relatedTarget=it,oe=Se),it=oe,fe&&xe)t:{for(Se=fe,$=xe,B=0,z=Se;z;z=ho(z))B++;for(z=0,oe=$;oe;oe=ho(oe))z++;for(;0<B-z;)Se=ho(Se),B--;for(;0<z-B;)$=ho($),z--;for(;B--;){if(Se===$||$!==null&&Se===$.alternate)break t;Se=ho(Se),$=ho($)}Se=null}else Se=null;fe!==null&&Dg(te,Q,fe,Se,!1),xe!==null&&it!==null&&Dg(te,it,xe,Se,!0)}}e:{if(Q=W?mo(W):window,fe=Q.nodeName&&Q.nodeName.toLowerCase(),fe==="select"||fe==="input"&&Q.type==="file")var ke=z_;else if(fg(Q))if(pg)ke=G_;else{ke=W_;var Ce=V_}else(fe=Q.nodeName)&&fe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ke=H_);if(ke&&(ke=ke(s,W))){hg(te,ke,u,ee);break e}Ce&&Ce(s,Q,W),s==="focusout"&&(Ce=Q._wrapperState)&&Ce.controlled&&Q.type==="number"&&Qt(Q,"number",Q.value)}switch(Ce=W?mo(W):window,s){case"focusin":(fg(Ce)||Ce.contentEditable==="true")&&(uo=Ce,ad=W,Ui=null);break;case"focusout":Ui=ad=uo=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Sg(te,u,ee);break;case"selectionchange":if(Y_)break;case"keydown":case"keyup":Sg(te,u,ee)}var je;if(nd)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else co?ug(s,u)&&(Re="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(ag&&u.locale!=="ko"&&(co||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&co&&(je=rg()):(Ln=ee,Ju="value"in Ln?Ln.value:Ln.textContent,co=!0)),Ce=Sl(W,Re),0<Ce.length&&(Re=new og(Re,s,null,u,ee),te.push({event:Re,listeners:Ce}),je?Re.data=je:(je=dg(u),je!==null&&(Re.data=je)))),(je=L_?B_(s,u):U_(s,u))&&(W=Sl(W,"onBeforeInput"),0<W.length&&(ee=new og("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:W}),ee.data=je))}Pg(te,o)})}function zi(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Sl(s,o){for(var u=o+"Capture",h=[];s!==null;){var v=s,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=yt(s,u),w!=null&&h.unshift(zi(s,w,v)),w=yt(s,o),w!=null&&h.push(zi(s,w,v))),s=s.return}return h}function ho(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Dg(s,o,u,h,v){for(var w=o._reactName,_=[];u!==null&&u!==h;){var P=u,O=P.alternate,W=P.stateNode;if(O!==null&&O===h)break;P.tag===5&&W!==null&&(P=W,v?(O=yt(u,w),O!=null&&_.unshift(zi(u,O,P))):v||(O=yt(u,w),O!=null&&_.push(zi(u,O,P)))),u=u.return}_.length!==0&&s.push({event:o,listeners:_})}var Z_=/\r\n?/g,eC=/\u0000|\uFFFD/g;function Ig(s){return(typeof s=="string"?s:""+s).replace(Z_,`
`).replace(eC,"")}function kl(s,o,u){if(o=Ig(o),Ig(s)!==o&&u)throw Error(r(425))}function El(){}var pd=null,md=null;function gd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vd=typeof setTimeout=="function"?setTimeout:void 0,tC=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,rC=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(s){return Mg.resolve(null).then(s).catch(nC)}:vd;function nC(s){setTimeout(function(){throw s})}function yd(s,o){var u=o,h=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(h===0){s.removeChild(v),Ai(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=v}while(u);Ai(o)}function Un(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Og(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var po=Math.random().toString(36).slice(2),Vr="__reactFiber$"+po,Vi="__reactProps$"+po,cn="__reactContainer$"+po,xd="__reactEvents$"+po,sC="__reactListeners$"+po,oC="__reactHandles$"+po;function Es(s){var o=s[Vr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[cn]||u[Vr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Og(s);s!==null;){if(u=s[Vr])return u;s=Og(s)}return o}s=u,u=s.parentNode}return null}function Wi(s){return s=s[Vr]||s[cn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function mo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function _l(s){return s[Vi]||null}var wd=[],go=-1;function $n(s){return{current:s}}function qe(s){0>go||(s.current=wd[go],wd[go]=null,go--)}function He(s,o){go++,wd[go]=s.current,s.current=o}var Fn={},At=$n(Fn),zt=$n(!1),_s=Fn;function vo(s,o){var u=s.type.contextTypes;if(!u)return Fn;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in u)v[w]=o[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=v),v}function Vt(s){return s=s.childContextTypes,s!=null}function Cl(){qe(zt),qe(At)}function Lg(s,o,u){if(At.current!==Fn)throw Error(r(168));He(At,o),He(zt,u)}function Bg(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var v in h)if(!(v in o))throw Error(r(108,K(s)||"Unknown",v));return F({},u,h)}function jl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fn,_s=At.current,He(At,s),He(zt,zt.current),!0}function Ug(s,o,u){var h=s.stateNode;if(!h)throw Error(r(169));u?(s=Bg(s,o,_s),h.__reactInternalMemoizedMergedChildContext=s,qe(zt),qe(At),He(At,s)):qe(zt),He(zt,u)}var un=null,Nl=!1,bd=!1;function $g(s){un===null?un=[s]:un.push(s)}function iC(s){Nl=!0,$g(s)}function zn(){if(!bd&&un!==null){bd=!0;var s=0,o=We;try{var u=un;for(We=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}un=null,Nl=!1}catch(v){throw un!==null&&(un=un.slice(s+1)),zm(Vu,zn),v}finally{We=o,bd=!1}}return null}var yo=[],xo=0,Tl=null,Rl=0,dr=[],fr=0,Cs=null,dn=1,fn="";function js(s,o){yo[xo++]=Rl,yo[xo++]=Tl,Tl=s,Rl=o}function Fg(s,o,u){dr[fr++]=dn,dr[fr++]=fn,dr[fr++]=Cs,Cs=s;var h=dn;s=fn;var v=32-Nr(h)-1;h&=~(1<<v),u+=1;var w=32-Nr(o)+v;if(30<w){var _=v-v%5;w=(h&(1<<_)-1).toString(32),h>>=_,v-=_,dn=1<<32-Nr(o)+v|u<<v|h,fn=w+s}else dn=1<<w|u<<v|h,fn=s}function Sd(s){s.return!==null&&(js(s,1),Fg(s,1,0))}function kd(s){for(;s===Tl;)Tl=yo[--xo],yo[xo]=null,Rl=yo[--xo],yo[xo]=null;for(;s===Cs;)Cs=dr[--fr],dr[fr]=null,fn=dr[--fr],dr[fr]=null,dn=dr[--fr],dr[fr]=null}var tr=null,rr=null,Ye=!1,Rr=null;function zg(s,o){var u=gr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Vg(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,tr=s,rr=Un(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,tr=s,rr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Cs!==null?{id:dn,overflow:fn}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=gr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,tr=s,rr=null,!0):!1;default:return!1}}function Ed(s){return(s.mode&1)!==0&&(s.flags&128)===0}function _d(s){if(Ye){var o=rr;if(o){var u=o;if(!Vg(s,o)){if(Ed(s))throw Error(r(418));o=Un(u.nextSibling);var h=tr;o&&Vg(s,o)?zg(h,u):(s.flags=s.flags&-4097|2,Ye=!1,tr=s)}}else{if(Ed(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ye=!1,tr=s}}}function Wg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;tr=s}function Pl(s){if(s!==tr)return!1;if(!Ye)return Wg(s),Ye=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!gd(s.type,s.memoizedProps)),o&&(o=rr)){if(Ed(s))throw Hg(),Error(r(418));for(;o;)zg(s,o),o=Un(o.nextSibling)}if(Wg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){rr=Un(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}rr=null}}else rr=tr?Un(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=rr;s;)s=Un(s.nextSibling)}function wo(){rr=tr=null,Ye=!1}function Cd(s){Rr===null?Rr=[s]:Rr.push(s)}var aC=R.ReactCurrentBatchConfig;function Hi(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var h=u.stateNode}if(!h)throw Error(r(147,s));var v=h,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(_){var P=v.refs;_===null?delete P[w]:P[w]=_},o._stringRef=w,o)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function Al(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Gg(s){var o=s._init;return o(s._payload)}function Kg(s){function o($,B){if(s){var z=$.deletions;z===null?($.deletions=[B],$.flags|=16):z.push(B)}}function u($,B){if(!s)return null;for(;B!==null;)o($,B),B=B.sibling;return null}function h($,B){for($=new Map;B!==null;)B.key!==null?$.set(B.key,B):$.set(B.index,B),B=B.sibling;return $}function v($,B){return $=Xn($,B),$.index=0,$.sibling=null,$}function w($,B,z){return $.index=z,s?(z=$.alternate,z!==null?(z=z.index,z<B?($.flags|=2,B):z):($.flags|=2,B)):($.flags|=1048576,B)}function _($){return s&&$.alternate===null&&($.flags|=2),$}function P($,B,z,oe){return B===null||B.tag!==6?(B=yf(z,$.mode,oe),B.return=$,B):(B=v(B,z),B.return=$,B)}function O($,B,z,oe){var ke=z.type;return ke===D?ee($,B,z.props.children,oe,z.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&Gg(ke)===B.type)?(oe=v(B,z.props),oe.ref=Hi($,B,z),oe.return=$,oe):(oe=rc(z.type,z.key,z.props,null,$.mode,oe),oe.ref=Hi($,B,z),oe.return=$,oe)}function W($,B,z,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==z.containerInfo||B.stateNode.implementation!==z.implementation?(B=xf(z,$.mode,oe),B.return=$,B):(B=v(B,z.children||[]),B.return=$,B)}function ee($,B,z,oe,ke){return B===null||B.tag!==7?(B=Ms(z,$.mode,oe,ke),B.return=$,B):(B=v(B,z),B.return=$,B)}function te($,B,z){if(typeof B=="string"&&B!==""||typeof B=="number")return B=yf(""+B,$.mode,z),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return z=rc(B.type,B.key,B.props,null,$.mode,z),z.ref=Hi($,null,B),z.return=$,z;case L:return B=xf(B,$.mode,z),B.return=$,B;case Y:var oe=B._init;return te($,oe(B._payload),z)}if(xs(B)||U(B))return B=Ms(B,$.mode,z,null),B.return=$,B;Al($,B)}return null}function Q($,B,z,oe){var ke=B!==null?B.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ke!==null?null:P($,B,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===ke?O($,B,z,oe):null;case L:return z.key===ke?W($,B,z,oe):null;case Y:return ke=z._init,Q($,B,ke(z._payload),oe)}if(xs(z)||U(z))return ke!==null?null:ee($,B,z,oe,null);Al($,z)}return null}function fe($,B,z,oe,ke){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $=$.get(z)||null,P(B,$,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case M:return $=$.get(oe.key===null?z:oe.key)||null,O(B,$,oe,ke);case L:return $=$.get(oe.key===null?z:oe.key)||null,W(B,$,oe,ke);case Y:var Ce=oe._init;return fe($,B,z,Ce(oe._payload),ke)}if(xs(oe)||U(oe))return $=$.get(z)||null,ee(B,$,oe,ke,null);Al(B,oe)}return null}function xe($,B,z,oe){for(var ke=null,Ce=null,je=B,Re=B=0,bt=null;je!==null&&Re<z.length;Re++){je.index>Re?(bt=je,je=null):bt=je.sibling;var Fe=Q($,je,z[Re],oe);if(Fe===null){je===null&&(je=bt);break}s&&je&&Fe.alternate===null&&o($,je),B=w(Fe,B,Re),Ce===null?ke=Fe:Ce.sibling=Fe,Ce=Fe,je=bt}if(Re===z.length)return u($,je),Ye&&js($,Re),ke;if(je===null){for(;Re<z.length;Re++)je=te($,z[Re],oe),je!==null&&(B=w(je,B,Re),Ce===null?ke=je:Ce.sibling=je,Ce=je);return Ye&&js($,Re),ke}for(je=h($,je);Re<z.length;Re++)bt=fe(je,$,Re,z[Re],oe),bt!==null&&(s&&bt.alternate!==null&&je.delete(bt.key===null?Re:bt.key),B=w(bt,B,Re),Ce===null?ke=bt:Ce.sibling=bt,Ce=bt);return s&&je.forEach(function(Jn){return o($,Jn)}),Ye&&js($,Re),ke}function Se($,B,z,oe){var ke=U(z);if(typeof ke!="function")throw Error(r(150));if(z=ke.call(z),z==null)throw Error(r(151));for(var Ce=ke=null,je=B,Re=B=0,bt=null,Fe=z.next();je!==null&&!Fe.done;Re++,Fe=z.next()){je.index>Re?(bt=je,je=null):bt=je.sibling;var Jn=Q($,je,Fe.value,oe);if(Jn===null){je===null&&(je=bt);break}s&&je&&Jn.alternate===null&&o($,je),B=w(Jn,B,Re),Ce===null?ke=Jn:Ce.sibling=Jn,Ce=Jn,je=bt}if(Fe.done)return u($,je),Ye&&js($,Re),ke;if(je===null){for(;!Fe.done;Re++,Fe=z.next())Fe=te($,Fe.value,oe),Fe!==null&&(B=w(Fe,B,Re),Ce===null?ke=Fe:Ce.sibling=Fe,Ce=Fe);return Ye&&js($,Re),ke}for(je=h($,je);!Fe.done;Re++,Fe=z.next())Fe=fe(je,$,Re,Fe.value,oe),Fe!==null&&(s&&Fe.alternate!==null&&je.delete(Fe.key===null?Re:Fe.key),B=w(Fe,B,Re),Ce===null?ke=Fe:Ce.sibling=Fe,Ce=Fe);return s&&je.forEach(function($C){return o($,$C)}),Ye&&js($,Re),ke}function it($,B,z,oe){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var ke=z.key,Ce=B;Ce!==null;){if(Ce.key===ke){if(ke=z.type,ke===D){if(Ce.tag===7){u($,Ce.sibling),B=v(Ce,z.props.children),B.return=$,$=B;break e}}else if(Ce.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&Gg(ke)===Ce.type){u($,Ce.sibling),B=v(Ce,z.props),B.ref=Hi($,Ce,z),B.return=$,$=B;break e}u($,Ce);break}else o($,Ce);Ce=Ce.sibling}z.type===D?(B=Ms(z.props.children,$.mode,oe,z.key),B.return=$,$=B):(oe=rc(z.type,z.key,z.props,null,$.mode,oe),oe.ref=Hi($,B,z),oe.return=$,$=oe)}return _($);case L:e:{for(Ce=z.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===z.containerInfo&&B.stateNode.implementation===z.implementation){u($,B.sibling),B=v(B,z.children||[]),B.return=$,$=B;break e}else{u($,B);break}else o($,B);B=B.sibling}B=xf(z,$.mode,oe),B.return=$,$=B}return _($);case Y:return Ce=z._init,it($,B,Ce(z._payload),oe)}if(xs(z))return xe($,B,z,oe);if(U(z))return Se($,B,z,oe);Al($,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,B!==null&&B.tag===6?(u($,B.sibling),B=v(B,z),B.return=$,$=B):(u($,B),B=yf(z,$.mode,oe),B.return=$,$=B),_($)):u($,B)}return it}var bo=Kg(!0),qg=Kg(!1),Dl=$n(null),Il=null,So=null,jd=null;function Nd(){jd=So=Il=null}function Td(s){var o=Dl.current;qe(Dl),s._currentValue=o}function Rd(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function ko(s,o){Il=s,jd=So=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Wt=!0),s.firstContext=null)}function hr(s){var o=s._currentValue;if(jd!==s)if(s={context:s,memoizedValue:o,next:null},So===null){if(Il===null)throw Error(r(308));So=s,Il.dependencies={lanes:0,firstContext:s}}else So=So.next=s;return o}var Ns=null;function Pd(s){Ns===null?Ns=[s]:Ns.push(s)}function Yg(s,o,u,h){var v=o.interleaved;return v===null?(u.next=u,Pd(o)):(u.next=v.next,v.next=u),o.interleaved=u,hn(s,h)}function hn(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Vn=!1;function Ad(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function pn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Wn(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,hn(s,u)}return v=h.interleaved,v===null?(o.next=o,Pd(h)):(o.next=v.next,v.next=o),h.interleaved=o,hn(s,u)}function Ml(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Gu(s,u)}}function Jg(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?v=w=_:w=w.next=_,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Ol(s,o,u,h){var v=s.updateQueue;Vn=!1;var w=v.firstBaseUpdate,_=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var O=P,W=O.next;O.next=null,_===null?w=W:_.next=W,_=O;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==_&&(P===null?ee.firstBaseUpdate=W:P.next=W,ee.lastBaseUpdate=O))}if(w!==null){var te=v.baseState;_=0,ee=W=O=null,P=w;do{var Q=P.lane,fe=P.eventTime;if((h&Q)===Q){ee!==null&&(ee=ee.next={eventTime:fe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var xe=s,Se=P;switch(Q=o,fe=u,Se.tag){case 1:if(xe=Se.payload,typeof xe=="function"){te=xe.call(fe,te,Q);break e}te=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Se.payload,Q=typeof xe=="function"?xe.call(fe,te,Q):xe,Q==null)break e;te=F({},te,Q);break e;case 2:Vn=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,Q=v.effects,Q===null?v.effects=[P]:Q.push(P))}else fe={eventTime:fe,lane:Q,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(W=ee=fe,O=te):ee=ee.next=fe,_|=Q;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;Q=P,P=Q.next,Q.next=null,v.lastBaseUpdate=Q,v.shared.pending=null}}while(!0);if(ee===null&&(O=te),v.baseState=O,v.firstBaseUpdate=W,v.lastBaseUpdate=ee,o=v.shared.interleaved,o!==null){v=o;do _|=v.lane,v=v.next;while(v!==o)}else w===null&&(v.shared.lanes=0);Ps|=_,s.lanes=_,s.memoizedState=te}}function Qg(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],v=h.callback;if(v!==null){if(h.callback=null,h=u,typeof v!="function")throw Error(r(191,v));v.call(h)}}}var Gi={},Wr=$n(Gi),Ki=$n(Gi),qi=$n(Gi);function Ts(s){if(s===Gi)throw Error(r(174));return s}function Dd(s,o){switch(He(qi,o),He(Ki,s),He(Wr,Gi),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:bi(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=bi(o,s)}qe(Wr),He(Wr,o)}function Eo(){qe(Wr),qe(Ki),qe(qi)}function Zg(s){Ts(qi.current);var o=Ts(Wr.current),u=bi(o,s.type);o!==u&&(He(Ki,s),He(Wr,u))}function Id(s){Ki.current===s&&(qe(Wr),qe(Ki))}var Qe=$n(0);function Ll(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Md=[];function Od(){for(var s=0;s<Md.length;s++)Md[s]._workInProgressVersionPrimary=null;Md.length=0}var Bl=R.ReactCurrentDispatcher,Ld=R.ReactCurrentBatchConfig,Rs=0,Ze=null,pt=null,xt=null,Ul=!1,Yi=!1,Xi=0,lC=0;function Dt(){throw Error(r(321))}function Bd(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Tr(s[u],o[u]))return!1;return!0}function Ud(s,o,u,h,v,w){if(Rs=w,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Bl.current=s===null||s.memoizedState===null?fC:hC,s=u(h,v),Yi){w=0;do{if(Yi=!1,Xi=0,25<=w)throw Error(r(301));w+=1,xt=pt=null,o.updateQueue=null,Bl.current=pC,s=u(h,v)}while(Yi)}if(Bl.current=zl,o=pt!==null&&pt.next!==null,Rs=0,xt=pt=Ze=null,Ul=!1,o)throw Error(r(300));return s}function $d(){var s=Xi!==0;return Xi=0,s}function Hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=s:xt=xt.next=s,xt}function pr(){if(pt===null){var s=Ze.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var o=xt===null?Ze.memoizedState:xt.next;if(o!==null)xt=o,pt=s;else{if(s===null)throw Error(r(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},xt===null?Ze.memoizedState=xt=s:xt=xt.next=s}return xt}function Ji(s,o){return typeof o=="function"?o(s):o}function Fd(s){var o=pr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=pt,v=h.baseQueue,w=u.pending;if(w!==null){if(v!==null){var _=v.next;v.next=w.next,w.next=_}h.baseQueue=v=w,u.pending=null}if(v!==null){w=v.next,h=h.baseState;var P=_=null,O=null,W=w;do{var ee=W.lane;if((Rs&ee)===ee)O!==null&&(O=O.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:s(h,W.action);else{var te={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};O===null?(P=O=te,_=h):O=O.next=te,Ze.lanes|=ee,Ps|=ee}W=W.next}while(W!==null&&W!==w);O===null?_=h:O.next=P,Tr(h,o.memoizedState)||(Wt=!0),o.memoizedState=h,o.baseState=_,o.baseQueue=O,u.lastRenderedState=h}if(s=u.interleaved,s!==null){v=s;do w=v.lane,Ze.lanes|=w,Ps|=w,v=v.next;while(v!==s)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function zd(s){var o=pr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var _=v=v.next;do w=s(w,_.action),_=_.next;while(_!==v);Tr(w,o.memoizedState)||(Wt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function ev(){}function tv(s,o){var u=Ze,h=pr(),v=o(),w=!Tr(h.memoizedState,v);if(w&&(h.memoizedState=v,Wt=!0),h=h.queue,Vd(sv.bind(null,u,h,s),[s]),h.getSnapshot!==o||w||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,Qi(9,nv.bind(null,u,h,v,o),void 0,null),wt===null)throw Error(r(349));(Rs&30)!==0||rv(u,o,v)}return v}function rv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function nv(s,o,u,h){o.value=u,o.getSnapshot=h,ov(o)&&iv(s)}function sv(s,o,u){return u(function(){ov(o)&&iv(s)})}function ov(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Tr(s,u)}catch{return!0}}function iv(s){var o=hn(s,1);o!==null&&Ir(o,s,1,-1)}function av(s){var o=Hr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},o.queue=s,s=s.dispatch=dC.bind(null,Ze,s),[o.memoizedState,s]}function Qi(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function lv(){return pr().memoizedState}function $l(s,o,u,h){var v=Hr();Ze.flags|=s,v.memoizedState=Qi(1|o,u,void 0,h===void 0?null:h)}function Fl(s,o,u,h){var v=pr();h=h===void 0?null:h;var w=void 0;if(pt!==null){var _=pt.memoizedState;if(w=_.destroy,h!==null&&Bd(h,_.deps)){v.memoizedState=Qi(o,u,w,h);return}}Ze.flags|=s,v.memoizedState=Qi(1|o,u,w,h)}function cv(s,o){return $l(8390656,8,s,o)}function Vd(s,o){return Fl(2048,8,s,o)}function uv(s,o){return Fl(4,2,s,o)}function dv(s,o){return Fl(4,4,s,o)}function fv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function hv(s,o,u){return u=u!=null?u.concat([s]):null,Fl(4,4,fv.bind(null,o,s),u)}function Wd(){}function pv(s,o){var u=pr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Bd(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function mv(s,o){var u=pr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Bd(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function gv(s,o,u){return(Rs&21)===0?(s.baseState&&(s.baseState=!1,Wt=!0),s.memoizedState=u):(Tr(u,o)||(u=Gm(),Ze.lanes|=u,Ps|=u,s.baseState=!0),o)}function cC(s,o){var u=We;We=u!==0&&4>u?u:4,s(!0);var h=Ld.transition;Ld.transition={};try{s(!1),o()}finally{We=u,Ld.transition=h}}function vv(){return pr().memoizedState}function uC(s,o,u){var h=qn(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},yv(s))xv(o,u);else if(u=Yg(s,o,u,h),u!==null){var v=Ut();Ir(u,s,h,v),wv(u,o,h)}}function dC(s,o,u){var h=qn(s),v={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(yv(s))xv(o,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var _=o.lastRenderedState,P=w(_,u);if(v.hasEagerState=!0,v.eagerState=P,Tr(P,_)){var O=o.interleaved;O===null?(v.next=v,Pd(o)):(v.next=O.next,O.next=v),o.interleaved=v;return}}catch{}finally{}u=Yg(s,o,v,h),u!==null&&(v=Ut(),Ir(u,s,h,v),wv(u,o,h))}}function yv(s){var o=s.alternate;return s===Ze||o!==null&&o===Ze}function xv(s,o){Yi=Ul=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function wv(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Gu(s,u)}}var zl={readContext:hr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},fC={readContext:hr,useCallback:function(s,o){return Hr().memoizedState=[s,o===void 0?null:o],s},useContext:hr,useEffect:cv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,$l(4194308,4,fv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return $l(4194308,4,s,o)},useInsertionEffect:function(s,o){return $l(4,2,s,o)},useMemo:function(s,o){var u=Hr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Hr();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=uC.bind(null,Ze,s),[h.memoizedState,s]},useRef:function(s){var o=Hr();return s={current:s},o.memoizedState=s},useState:av,useDebugValue:Wd,useDeferredValue:function(s){return Hr().memoizedState=s},useTransition:function(){var s=av(!1),o=s[0];return s=cC.bind(null,s[1]),Hr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=Ze,v=Hr();if(Ye){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),wt===null)throw Error(r(349));(Rs&30)!==0||rv(h,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,cv(sv.bind(null,h,w,s),[s]),h.flags|=2048,Qi(9,nv.bind(null,h,w,u,o),void 0,null),u},useId:function(){var s=Hr(),o=wt.identifierPrefix;if(Ye){var u=fn,h=dn;u=(h&~(1<<32-Nr(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=Xi++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=lC++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},hC={readContext:hr,useCallback:pv,useContext:hr,useEffect:Vd,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:Fd,useRef:lv,useState:function(){return Fd(Ji)},useDebugValue:Wd,useDeferredValue:function(s){var o=pr();return gv(o,pt.memoizedState,s)},useTransition:function(){var s=Fd(Ji)[0],o=pr().memoizedState;return[s,o]},useMutableSource:ev,useSyncExternalStore:tv,useId:vv,unstable_isNewReconciler:!1},pC={readContext:hr,useCallback:pv,useContext:hr,useEffect:Vd,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:zd,useRef:lv,useState:function(){return zd(Ji)},useDebugValue:Wd,useDeferredValue:function(s){var o=pr();return pt===null?o.memoizedState=s:gv(o,pt.memoizedState,s)},useTransition:function(){var s=zd(Ji)[0],o=pr().memoizedState;return[s,o]},useMutableSource:ev,useSyncExternalStore:tv,useId:vv,unstable_isNewReconciler:!1};function Pr(s,o){if(s&&s.defaultProps){o=F({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Hd(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:F({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Vl={isMounted:function(s){return(s=s._reactInternals)?ks(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Ut(),v=qn(s),w=pn(h,v);w.payload=o,u!=null&&(w.callback=u),o=Wn(s,w,v),o!==null&&(Ir(o,s,v,h),Ml(o,s,v))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Ut(),v=qn(s),w=pn(h,v);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Wn(s,w,v),o!==null&&(Ir(o,s,v,h),Ml(o,s,v))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Ut(),h=qn(s),v=pn(u,h);v.tag=2,o!=null&&(v.callback=o),o=Wn(s,v,h),o!==null&&(Ir(o,s,h,u),Ml(o,s,h))}};function bv(s,o,u,h,v,w,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,_):o.prototype&&o.prototype.isPureReactComponent?!Bi(u,h)||!Bi(v,w):!0}function Sv(s,o,u){var h=!1,v=Fn,w=o.contextType;return typeof w=="object"&&w!==null?w=hr(w):(v=Vt(o)?_s:At.current,h=o.contextTypes,w=(h=h!=null)?vo(s,v):Fn),o=new o(u,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Vl,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=w),o}function kv(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Vl.enqueueReplaceState(o,o.state,null)}function Gd(s,o,u,h){var v=s.stateNode;v.props=u,v.state=s.memoizedState,v.refs={},Ad(s);var w=o.contextType;typeof w=="object"&&w!==null?v.context=hr(w):(w=Vt(o)?_s:At.current,v.context=vo(s,w)),v.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hd(s,o,w,u),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Vl.enqueueReplaceState(v,v.state,null),Ol(s,u,v,h),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function _o(s,o){try{var u="",h=o;do u+=de(h),h=h.return;while(h);var v=u}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:v,digest:null}}function Kd(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function qd(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var mC=typeof WeakMap=="function"?WeakMap:Map;function Ev(s,o,u){u=pn(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Xl||(Xl=!0,uf=h),qd(s,o)},u}function _v(s,o,u){u=pn(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var v=o.value;u.payload=function(){return h(v)},u.callback=function(){qd(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){qd(s,o),typeof h!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),u}function Cv(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new mC;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(v.add(u),s=TC.bind(null,s,o,u),o.then(s,s))}function jv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Nv(s,o,u,h,v){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=pn(-1,1),o.tag=2,Wn(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var gC=R.ReactCurrentOwner,Wt=!1;function Bt(s,o,u,h){o.child=s===null?qg(o,null,u,h):bo(o,s.child,u,h)}function Tv(s,o,u,h,v){u=u.render;var w=o.ref;return ko(o,v),h=Ud(s,o,u,h,w,v),u=$d(),s!==null&&!Wt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,mn(s,o,v)):(Ye&&u&&Sd(o),o.flags|=1,Bt(s,o,h,v),o.child)}function Rv(s,o,u,h,v){if(s===null){var w=u.type;return typeof w=="function"&&!vf(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,Pv(s,o,w,h,v)):(s=rc(u.type,null,h,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&v)===0){var _=w.memoizedProps;if(u=u.compare,u=u!==null?u:Bi,u(_,h)&&s.ref===o.ref)return mn(s,o,v)}return o.flags|=1,s=Xn(w,h),s.ref=o.ref,s.return=o,o.child=s}function Pv(s,o,u,h,v){if(s!==null){var w=s.memoizedProps;if(Bi(w,h)&&s.ref===o.ref)if(Wt=!1,o.pendingProps=h=w,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Wt=!0);else return o.lanes=s.lanes,mn(s,o,v)}return Yd(s,o,u,h,v)}function Av(s,o,u){var h=o.pendingProps,v=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(jo,nr),nr|=u;else{if((u&1073741824)===0)return s=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,He(jo,nr),nr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,He(jo,nr),nr|=h}else w!==null?(h=w.baseLanes|u,o.memoizedState=null):h=u,He(jo,nr),nr|=h;return Bt(s,o,v,u),o.child}function Dv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Yd(s,o,u,h,v){var w=Vt(u)?_s:At.current;return w=vo(o,w),ko(o,v),u=Ud(s,o,u,h,w,v),h=$d(),s!==null&&!Wt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,mn(s,o,v)):(Ye&&h&&Sd(o),o.flags|=1,Bt(s,o,u,v),o.child)}function Iv(s,o,u,h,v){if(Vt(u)){var w=!0;jl(o)}else w=!1;if(ko(o,v),o.stateNode===null)Hl(s,o),Sv(o,u,h),Gd(o,u,h,v),h=!0;else if(s===null){var _=o.stateNode,P=o.memoizedProps;_.props=P;var O=_.context,W=u.contextType;typeof W=="object"&&W!==null?W=hr(W):(W=Vt(u)?_s:At.current,W=vo(o,W));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==h||O!==W)&&kv(o,_,h,W),Vn=!1;var Q=o.memoizedState;_.state=Q,Ol(o,h,_,v),O=o.memoizedState,P!==h||Q!==O||zt.current||Vn?(typeof ee=="function"&&(Hd(o,u,ee,h),O=o.memoizedState),(P=Vn||bv(o,u,P,h,Q,O,W))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),_.props=h,_.state=O,_.context=W,h=P):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Xg(s,o),P=o.memoizedProps,W=o.type===o.elementType?P:Pr(o.type,P),_.props=W,te=o.pendingProps,Q=_.context,O=u.contextType,typeof O=="object"&&O!==null?O=hr(O):(O=Vt(u)?_s:At.current,O=vo(o,O));var fe=u.getDerivedStateFromProps;(ee=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==te||Q!==O)&&kv(o,_,h,O),Vn=!1,Q=o.memoizedState,_.state=Q,Ol(o,h,_,v);var xe=o.memoizedState;P!==te||Q!==xe||zt.current||Vn?(typeof fe=="function"&&(Hd(o,u,fe,h),xe=o.memoizedState),(W=Vn||bv(o,u,W,h,Q,xe,O)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,xe,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,xe,O)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=xe),_.props=h,_.state=xe,_.context=O,h=W):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),h=!1)}return Xd(s,o,u,h,w,v)}function Xd(s,o,u,h,v,w){Dv(s,o);var _=(o.flags&128)!==0;if(!h&&!_)return v&&Ug(o,u,!1),mn(s,o,w);h=o.stateNode,gC.current=o;var P=_&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&_?(o.child=bo(o,s.child,null,w),o.child=bo(o,null,P,w)):Bt(s,o,P,w),o.memoizedState=h.state,v&&Ug(o,u,!0),o.child}function Mv(s){var o=s.stateNode;o.pendingContext?Lg(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Lg(s,o.context,!1),Dd(s,o.containerInfo)}function Ov(s,o,u,h,v){return wo(),Cd(v),o.flags|=256,Bt(s,o,u,h),o.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Qd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Lv(s,o,u){var h=o.pendingProps,v=Qe.current,w=!1,_=(o.flags&128)!==0,P;if((P=_)||(P=s!==null&&s.memoizedState===null?!1:(v&2)!==0),P?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),He(Qe,v&1),s===null)return _d(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=h.children,s=h.fallback,w?(h=o.mode,w=o.child,_={mode:"hidden",children:_},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=_):w=nc(_,h,0,null),s=Ms(s,h,u,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Qd(u),o.memoizedState=Jd,s):Zd(o,_));if(v=s.memoizedState,v!==null&&(P=v.dehydrated,P!==null))return vC(s,o,_,h,P,v,u);if(w){w=h.fallback,_=o.mode,v=s.child,P=v.sibling;var O={mode:"hidden",children:h.children};return(_&1)===0&&o.child!==v?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=Xn(v,O),h.subtreeFlags=v.subtreeFlags&14680064),P!==null?w=Xn(P,w):(w=Ms(w,_,u,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,_=s.child.memoizedState,_=_===null?Qd(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},w.memoizedState=_,w.childLanes=s.childLanes&~u,o.memoizedState=Jd,h}return w=s.child,s=w.sibling,h=Xn(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function Zd(s,o){return o=nc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Wl(s,o,u,h){return h!==null&&Cd(h),bo(o,s.child,null,u),s=Zd(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function vC(s,o,u,h,v,w,_){if(u)return o.flags&256?(o.flags&=-257,h=Kd(Error(r(422))),Wl(s,o,_,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=h.fallback,v=o.mode,h=nc({mode:"visible",children:h.children},v,0,null),w=Ms(w,v,_,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&bo(o,s.child,null,_),o.child.memoizedState=Qd(_),o.memoizedState=Jd,w);if((o.mode&1)===0)return Wl(s,o,_,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var P=h.dgst;return h=P,w=Error(r(419)),h=Kd(w,h,void 0),Wl(s,o,_,h)}if(P=(_&s.childLanes)!==0,Wt||P){if(h=wt,h!==null){switch(_&-_){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|_))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,hn(s,v),Ir(h,s,v,-1))}return gf(),h=Kd(Error(r(421))),Wl(s,o,_,h)}return v.data==="$?"?(o.flags|=128,o.child=s.child,o=RC.bind(null,s),v._reactRetry=o,null):(s=w.treeContext,rr=Un(v.nextSibling),tr=o,Ye=!0,Rr=null,s!==null&&(dr[fr++]=dn,dr[fr++]=fn,dr[fr++]=Cs,dn=s.id,fn=s.overflow,Cs=o),o=Zd(o,h.children),o.flags|=4096,o)}function Bv(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Rd(s.return,o,u)}function ef(s,o,u,h,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=v)}function Uv(s,o,u){var h=o.pendingProps,v=h.revealOrder,w=h.tail;if(Bt(s,o,h.children,u),h=Qe.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bv(s,u,o);else if(s.tag===19)Bv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(He(Qe,h),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)s=u.alternate,s!==null&&Ll(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),ef(o,!1,v,u,w);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&Ll(s)===null){o.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}ef(o,!0,u,null,w);break;case"together":ef(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Hl(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function mn(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ps|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=Xn(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Xn(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function yC(s,o,u){switch(o.tag){case 3:Mv(o),wo();break;case 5:Zg(o);break;case 1:Vt(o.type)&&jl(o);break;case 4:Dd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,v=o.memoizedProps.value;He(Dl,h._currentValue),h._currentValue=v;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(He(Qe,Qe.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Lv(s,o,u):(He(Qe,Qe.current&1),s=mn(s,o,u),s!==null?s.sibling:null);He(Qe,Qe.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Uv(s,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),He(Qe,Qe.current),h)break;return null;case 22:case 23:return o.lanes=0,Av(s,o,u)}return mn(s,o,u)}var $v,tf,Fv,zv;$v=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tf=function(){},Fv=function(s,o,u,h){var v=s.memoizedProps;if(v!==h){s=o.stateNode,Ts(Wr.current);var w=null;switch(u){case"input":v=nt(s,v),h=nt(s,h),w=[];break;case"select":v=F({},v,{value:void 0}),h=F({},h,{value:void 0}),w=[];break;case"textarea":v=Ct(s,v),h=Ct(s,h),w=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=El)}io(u,h);var _;u=null;for(W in v)if(!h.hasOwnProperty(W)&&v.hasOwnProperty(W)&&v[W]!=null)if(W==="style"){var P=v[W];for(_ in P)P.hasOwnProperty(_)&&(u||(u={}),u[_]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?w||(w=[]):(w=w||[]).push(W,null));for(W in h){var O=h[W];if(P=v?.[W],h.hasOwnProperty(W)&&O!==P&&(O!=null||P!=null))if(W==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||O&&O.hasOwnProperty(_)||(u||(u={}),u[_]="");for(_ in O)O.hasOwnProperty(_)&&P[_]!==O[_]&&(u||(u={}),u[_]=O[_])}else u||(w||(w=[]),w.push(W,u)),u=O;else W==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(w=w||[]).push(W,O)):W==="children"?typeof O!="string"&&typeof O!="number"||(w=w||[]).push(W,""+O):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(O!=null&&W==="onScroll"&&Ke("scroll",s),w||P===O||(w=[])):(w=w||[]).push(W,O))}u&&(w=w||[]).push("style",u);var W=w;(o.updateQueue=W)&&(o.flags|=4)}},zv=function(s,o,u,h){u!==h&&(o.flags|=4)};function Zi(s,o){if(!Ye)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function It(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function xC(s,o,u){var h=o.pendingProps;switch(kd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(o),null;case 1:return Vt(o.type)&&Cl(),It(o),null;case 3:return h=o.stateNode,Eo(),qe(zt),qe(At),Od(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Pl(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Rr!==null&&(hf(Rr),Rr=null))),tf(s,o),It(o),null;case 5:Id(o);var v=Ts(qi.current);if(u=o.type,s!==null&&o.stateNode!=null)Fv(s,o,u,h,v),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(r(166));return It(o),null}if(s=Ts(Wr.current),Pl(o)){h=o.stateNode,u=o.type;var w=o.memoizedProps;switch(h[Vr]=o,h[Vi]=w,s=(o.mode&1)!==0,u){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(v=0;v<$i.length;v++)Ke($i[v],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":ar(h,w),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Ke("invalid",h);break;case"textarea":an(h,w),Ke("invalid",h)}io(u,w),v=null;for(var _ in w)if(w.hasOwnProperty(_)){var P=w[_];_==="children"?typeof P=="string"?h.textContent!==P&&(w.suppressHydrationWarning!==!0&&kl(h.textContent,P,s),v=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(w.suppressHydrationWarning!==!0&&kl(h.textContent,P,s),v=["children",""+P]):i.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&Ke("scroll",h)}switch(u){case"input":me(h),wi(h,w,!0);break;case"textarea":me(h),tl(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=El)}h=v,o.updateQueue=h,h!==null&&(o.flags|=4)}else{_=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ws(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=_.createElement(u,{is:h.is}):(s=_.createElement(u),u==="select"&&(_=s,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):s=_.createElementNS(s,u),s[Vr]=o,s[Vi]=h,$v(s,o,!1,!1),o.stateNode=s;e:{switch(_=Si(u,h),u){case"dialog":Ke("cancel",s),Ke("close",s),v=h;break;case"iframe":case"object":case"embed":Ke("load",s),v=h;break;case"video":case"audio":for(v=0;v<$i.length;v++)Ke($i[v],s);v=h;break;case"source":Ke("error",s),v=h;break;case"img":case"image":case"link":Ke("error",s),Ke("load",s),v=h;break;case"details":Ke("toggle",s),v=h;break;case"input":ar(s,h),v=nt(s,h),Ke("invalid",s);break;case"option":v=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},v=F({},h,{value:void 0}),Ke("invalid",s);break;case"textarea":an(s,h),v=Ct(s,h),Ke("invalid",s);break;default:v=h}io(u,v),P=v;for(w in P)if(P.hasOwnProperty(w)){var O=P[w];w==="style"?nl(s,O):w==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&oo(s,O)):w==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&lr(s,O):typeof O=="number"&&lr(s,""+O):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?O!=null&&w==="onScroll"&&Ke("scroll",s):O!=null&&N(s,w,O,_))}switch(u){case"input":me(s),wi(s,h,!1);break;case"textarea":me(s),tl(s);break;case"option":h.value!=null&&s.setAttribute("value",""+le(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?Cn(s,!!h.multiple,w,!1):h.defaultValue!=null&&Cn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=El)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return It(o),null;case 6:if(s&&o.stateNode!=null)zv(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(u=Ts(qi.current),Ts(Wr.current),Pl(o)){if(h=o.stateNode,u=o.memoizedProps,h[Vr]=o,(w=h.nodeValue!==u)&&(s=tr,s!==null))switch(s.tag){case 3:kl(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&kl(h.nodeValue,u,(s.mode&1)!==0)}w&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Vr]=o,o.stateNode=h}return It(o),null;case 13:if(qe(Qe),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ye&&rr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Hg(),wo(),o.flags|=98560,w=!1;else if(w=Pl(o),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Vr]=o}else wo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;It(o),w=!1}else Rr!==null&&(hf(Rr),Rr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Qe.current&1)!==0?mt===0&&(mt=3):gf())),o.updateQueue!==null&&(o.flags|=4),It(o),null);case 4:return Eo(),tf(s,o),s===null&&Fi(o.stateNode.containerInfo),It(o),null;case 10:return Td(o.type._context),It(o),null;case 17:return Vt(o.type)&&Cl(),It(o),null;case 19:if(qe(Qe),w=o.memoizedState,w===null)return It(o),null;if(h=(o.flags&128)!==0,_=w.rendering,_===null)if(h)Zi(w,!1);else{if(mt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=Ll(s),_!==null){for(o.flags|=128,Zi(w,!1),h=_.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)w=u,s=h,w.flags&=14680066,_=w.alternate,_===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=_.childLanes,w.lanes=_.lanes,w.child=_.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=_.memoizedProps,w.memoizedState=_.memoizedState,w.updateQueue=_.updateQueue,w.type=_.type,s=_.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return He(Qe,Qe.current&1|2),o.child}s=s.sibling}w.tail!==null&&ot()>No&&(o.flags|=128,h=!0,Zi(w,!1),o.lanes=4194304)}else{if(!h)if(s=Ll(_),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Zi(w,!0),w.tail===null&&w.tailMode==="hidden"&&!_.alternate&&!Ye)return It(o),null}else 2*ot()-w.renderingStartTime>No&&u!==1073741824&&(o.flags|=128,h=!0,Zi(w,!1),o.lanes=4194304);w.isBackwards?(_.sibling=o.child,o.child=_):(u=w.last,u!==null?u.sibling=_:o.child=_,w.last=_)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ot(),o.sibling=null,u=Qe.current,He(Qe,h?u&1|2:u&1),o):(It(o),null);case 22:case 23:return mf(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(nr&1073741824)!==0&&(It(o),o.subtreeFlags&6&&(o.flags|=8192)):It(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function wC(s,o){switch(kd(o),o.tag){case 1:return Vt(o.type)&&Cl(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Eo(),qe(zt),qe(At),Od(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Id(o),null;case 13:if(qe(Qe),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));wo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return qe(Qe),null;case 4:return Eo(),null;case 10:return Td(o.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var Gl=!1,Mt=!1,bC=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Co(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){tt(s,o,h)}else u.current=null}function rf(s,o,u){try{u()}catch(h){tt(s,o,h)}}var Vv=!1;function SC(s,o){if(pd=fl,s=bg(),id(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var _=0,P=-1,O=-1,W=0,ee=0,te=s,Q=null;t:for(;;){for(var fe;te!==u||v!==0&&te.nodeType!==3||(P=_+v),te!==w||h!==0&&te.nodeType!==3||(O=_+h),te.nodeType===3&&(_+=te.nodeValue.length),(fe=te.firstChild)!==null;)Q=te,te=fe;for(;;){if(te===s)break t;if(Q===u&&++W===v&&(P=_),Q===w&&++ee===h&&(O=_),(fe=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=fe}u=P===-1||O===-1?null:{start:P,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(md={focusedElem:s,selectionRange:u},fl=!1,ve=o;ve!==null;)if(o=ve,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ve=s;else for(;ve!==null;){o=ve;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Se=xe.memoizedProps,it=xe.memoizedState,$=o.stateNode,B=$.getSnapshotBeforeUpdate(o.elementType===o.type?Se:Pr(o.type,Se),it);$.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(oe){tt(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,ve=s;break}ve=o.return}return xe=Vv,Vv=!1,xe}function ea(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&s)===s){var w=v.destroy;v.destroy=void 0,w!==void 0&&rf(o,u,w)}v=v.next}while(v!==h)}}function Kl(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function nf(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Wv(s){var o=s.alternate;o!==null&&(s.alternate=null,Wv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Vr],delete o[Vi],delete o[xd],delete o[sC],delete o[oC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Hv(s){return s.tag===5||s.tag===3||s.tag===4}function Gv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sf(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=El));else if(h!==4&&(s=s.child,s!==null))for(sf(s,o,u),s=s.sibling;s!==null;)sf(s,o,u),s=s.sibling}function of(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(of(s,o,u),s=s.sibling;s!==null;)of(s,o,u),s=s.sibling}var Nt=null,Ar=!1;function Hn(s,o,u){for(u=u.child;u!==null;)Kv(s,o,u),u=u.sibling}function Kv(s,o,u){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(il,u)}catch{}switch(u.tag){case 5:Mt||Co(u,o);case 6:var h=Nt,v=Ar;Nt=null,Hn(s,o,u),Nt=h,Ar=v,Nt!==null&&(Ar?(s=Nt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Nt.removeChild(u.stateNode));break;case 18:Nt!==null&&(Ar?(s=Nt,u=u.stateNode,s.nodeType===8?yd(s.parentNode,u):s.nodeType===1&&yd(s,u),Ai(s)):yd(Nt,u.stateNode));break;case 4:h=Nt,v=Ar,Nt=u.stateNode.containerInfo,Ar=!0,Hn(s,o,u),Nt=h,Ar=v;break;case 0:case 11:case 14:case 15:if(!Mt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var w=v,_=w.destroy;w=w.tag,_!==void 0&&((w&2)!==0||(w&4)!==0)&&rf(u,o,_),v=v.next}while(v!==h)}Hn(s,o,u);break;case 1:if(!Mt&&(Co(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(P){tt(u,o,P)}Hn(s,o,u);break;case 21:Hn(s,o,u);break;case 22:u.mode&1?(Mt=(h=Mt)||u.memoizedState!==null,Hn(s,o,u),Mt=h):Hn(s,o,u);break;default:Hn(s,o,u)}}function qv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new bC),o.forEach(function(h){var v=PC.bind(null,s,h);u.has(h)||(u.add(h),h.then(v,v))})}}function Dr(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];try{var w=s,_=o,P=_;e:for(;P!==null;){switch(P.tag){case 5:Nt=P.stateNode,Ar=!1;break e;case 3:Nt=P.stateNode.containerInfo,Ar=!0;break e;case 4:Nt=P.stateNode.containerInfo,Ar=!0;break e}P=P.return}if(Nt===null)throw Error(r(160));Kv(w,_,v),Nt=null,Ar=!1;var O=v.alternate;O!==null&&(O.return=null),v.return=null}catch(W){tt(v,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Yv(o,s),o=o.sibling}function Yv(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Dr(o,s),Gr(s),h&4){try{ea(3,s,s.return),Kl(3,s)}catch(Se){tt(s,s.return,Se)}try{ea(5,s,s.return)}catch(Se){tt(s,s.return,Se)}}break;case 1:Dr(o,s),Gr(s),h&512&&u!==null&&Co(u,u.return);break;case 5:if(Dr(o,s),Gr(s),h&512&&u!==null&&Co(u,u.return),s.flags&32){var v=s.stateNode;try{lr(v,"")}catch(Se){tt(s,s.return,Se)}}if(h&4&&(v=s.stateNode,v!=null)){var w=s.memoizedProps,_=u!==null?u.memoizedProps:w,P=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{P==="input"&&w.type==="radio"&&w.name!=null&&on(v,w),Si(P,_);var W=Si(P,w);for(_=0;_<O.length;_+=2){var ee=O[_],te=O[_+1];ee==="style"?nl(v,te):ee==="dangerouslySetInnerHTML"?oo(v,te):ee==="children"?lr(v,te):N(v,ee,te,W)}switch(P){case"input":Jt(v,w);break;case"textarea":el(v,w);break;case"select":var Q=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Cn(v,!!w.multiple,fe,!1):Q!==!!w.multiple&&(w.defaultValue!=null?Cn(v,!!w.multiple,w.defaultValue,!0):Cn(v,!!w.multiple,w.multiple?[]:"",!1))}v[Vi]=w}catch(Se){tt(s,s.return,Se)}}break;case 6:if(Dr(o,s),Gr(s),h&4){if(s.stateNode===null)throw Error(r(162));v=s.stateNode,w=s.memoizedProps;try{v.nodeValue=w}catch(Se){tt(s,s.return,Se)}}break;case 3:if(Dr(o,s),Gr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ai(o.containerInfo)}catch(Se){tt(s,s.return,Se)}break;case 4:Dr(o,s),Gr(s);break;case 13:Dr(o,s),Gr(s),v=s.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(cf=ot())),h&4&&qv(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(Mt=(W=Mt)||ee,Dr(o,s),Mt=W):Dr(o,s),Gr(s),h&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!ee&&(s.mode&1)!==0)for(ve=s,ee=s.child;ee!==null;){for(te=ve=ee;ve!==null;){switch(Q=ve,fe=Q.child,Q.tag){case 0:case 11:case 14:case 15:ea(4,Q,Q.return);break;case 1:Co(Q,Q.return);var xe=Q.stateNode;if(typeof xe.componentWillUnmount=="function"){h=Q,u=Q.return;try{o=h,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(Se){tt(h,u,Se)}}break;case 5:Co(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Qv(te);continue}}fe!==null?(fe.return=Q,ve=fe):Qv(te)}ee=ee.sibling}e:for(ee=null,te=s;;){if(te.tag===5){if(ee===null){ee=te;try{v=te.stateNode,W?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(P=te.stateNode,O=te.memoizedProps.style,_=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=rl("display",_))}catch(Se){tt(s,s.return,Se)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(Se){tt(s,s.return,Se)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Dr(o,s),Gr(s),h&4&&qv(s);break;case 21:break;default:Dr(o,s),Gr(s)}}function Gr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Hv(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(lr(v,""),h.flags&=-33);var w=Gv(s);of(s,w,v);break;case 3:case 4:var _=h.stateNode.containerInfo,P=Gv(s);sf(s,P,_);break;default:throw Error(r(161))}}catch(O){tt(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function kC(s,o,u){ve=s,Xv(s)}function Xv(s,o,u){for(var h=(s.mode&1)!==0;ve!==null;){var v=ve,w=v.child;if(v.tag===22&&h){var _=v.memoizedState!==null||Gl;if(!_){var P=v.alternate,O=P!==null&&P.memoizedState!==null||Mt;P=Gl;var W=Mt;if(Gl=_,(Mt=O)&&!W)for(ve=v;ve!==null;)_=ve,O=_.child,_.tag===22&&_.memoizedState!==null?Zv(v):O!==null?(O.return=_,ve=O):Zv(v);for(;w!==null;)ve=w,Xv(w),w=w.sibling;ve=v,Gl=P,Mt=W}Jv(s)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,ve=w):Jv(s)}}function Jv(s){for(;ve!==null;){var o=ve;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Mt||Kl(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Mt)if(u===null)h.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:Pr(o.type,u.memoizedProps);h.componentDidUpdate(v,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Qg(o,w,h);break;case 3:var _=o.updateQueue;if(_!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Qg(o,_,u)}break;case 5:var P=o.stateNode;if(u===null&&o.flags&4){u=P;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Ai(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Mt||o.flags&512&&nf(o)}catch(Q){tt(o,o.return,Q)}}if(o===s){ve=null;break}if(u=o.sibling,u!==null){u.return=o.return,ve=u;break}ve=o.return}}function Qv(s){for(;ve!==null;){var o=ve;if(o===s){ve=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ve=u;break}ve=o.return}}function Zv(s){for(;ve!==null;){var o=ve;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Kl(4,o)}catch(O){tt(o,u,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var v=o.return;try{h.componentDidMount()}catch(O){tt(o,v,O)}}var w=o.return;try{nf(o)}catch(O){tt(o,w,O)}break;case 5:var _=o.return;try{nf(o)}catch(O){tt(o,_,O)}}}catch(O){tt(o,o.return,O)}if(o===s){ve=null;break}var P=o.sibling;if(P!==null){P.return=o.return,ve=P;break}ve=o.return}}var EC=Math.ceil,ql=R.ReactCurrentDispatcher,af=R.ReactCurrentOwner,mr=R.ReactCurrentBatchConfig,$e=0,wt=null,ct=null,Tt=0,nr=0,jo=$n(0),mt=0,ta=null,Ps=0,Yl=0,lf=0,ra=null,Ht=null,cf=0,No=1/0,gn=null,Xl=!1,uf=null,Gn=null,Jl=!1,Kn=null,Ql=0,na=0,df=null,Zl=-1,ec=0;function Ut(){return($e&6)!==0?ot():Zl!==-1?Zl:Zl=ot()}function qn(s){return(s.mode&1)===0?1:($e&2)!==0&&Tt!==0?Tt&-Tt:aC.transition!==null?(ec===0&&(ec=Gm()),ec):(s=We,s!==0||(s=window.event,s=s===void 0?16:tg(s.type)),s)}function Ir(s,o,u,h){if(50<na)throw na=0,df=null,Error(r(185));ji(s,u,h),(($e&2)===0||s!==wt)&&(s===wt&&(($e&2)===0&&(Yl|=u),mt===4&&Yn(s,Tt)),Gt(s,h),u===1&&$e===0&&(o.mode&1)===0&&(No=ot()+500,Nl&&zn()))}function Gt(s,o){var u=s.callbackNode;a_(s,o);var h=cl(s,s===wt?Tt:0);if(h===0)u!==null&&Vm(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Vm(u),o===1)s.tag===0?iC(t0.bind(null,s)):$g(t0.bind(null,s)),rC(function(){($e&6)===0&&zn()}),u=null;else{switch(Km(h)){case 1:u=Vu;break;case 4:u=Wm;break;case 16:u=ol;break;case 536870912:u=Hm;break;default:u=ol}u=c0(u,e0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function e0(s,o){if(Zl=-1,ec=0,($e&6)!==0)throw Error(r(327));var u=s.callbackNode;if(To()&&s.callbackNode!==u)return null;var h=cl(s,s===wt?Tt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=tc(s,h);else{o=h;var v=$e;$e|=2;var w=n0();(wt!==s||Tt!==o)&&(gn=null,No=ot()+500,Ds(s,o));do try{jC();break}catch(P){r0(s,P)}while(!0);Nd(),ql.current=w,$e=v,ct!==null?o=0:(wt=null,Tt=0,o=mt)}if(o!==0){if(o===2&&(v=Wu(s),v!==0&&(h=v,o=ff(s,v))),o===1)throw u=ta,Ds(s,0),Yn(s,h),Gt(s,ot()),u;if(o===6)Yn(s,h);else{if(v=s.current.alternate,(h&30)===0&&!_C(v)&&(o=tc(s,h),o===2&&(w=Wu(s),w!==0&&(h=w,o=ff(s,w))),o===1))throw u=ta,Ds(s,0),Yn(s,h),Gt(s,ot()),u;switch(s.finishedWork=v,s.finishedLanes=h,o){case 0:case 1:throw Error(r(345));case 2:Is(s,Ht,gn);break;case 3:if(Yn(s,h),(h&130023424)===h&&(o=cf+500-ot(),10<o)){if(cl(s,0)!==0)break;if(v=s.suspendedLanes,(v&h)!==h){Ut(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=vd(Is.bind(null,s,Ht,gn),o);break}Is(s,Ht,gn);break;case 4:if(Yn(s,h),(h&4194240)===h)break;for(o=s.eventTimes,v=-1;0<h;){var _=31-Nr(h);w=1<<_,_=o[_],_>v&&(v=_),h&=~w}if(h=v,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*EC(h/1960))-h,10<h){s.timeoutHandle=vd(Is.bind(null,s,Ht,gn),h);break}Is(s,Ht,gn);break;case 5:Is(s,Ht,gn);break;default:throw Error(r(329))}}}return Gt(s,ot()),s.callbackNode===u?e0.bind(null,s):null}function ff(s,o){var u=ra;return s.current.memoizedState.isDehydrated&&(Ds(s,o).flags|=256),s=tc(s,o),s!==2&&(o=Ht,Ht=u,o!==null&&hf(o)),s}function hf(s){Ht===null?Ht=s:Ht.push.apply(Ht,s)}function _C(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var v=u[h],w=v.getSnapshot;v=v.value;try{if(!Tr(w(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yn(s,o){for(o&=~lf,o&=~Yl,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Nr(o),h=1<<u;s[u]=-1,o&=~h}}function t0(s){if(($e&6)!==0)throw Error(r(327));To();var o=cl(s,0);if((o&1)===0)return Gt(s,ot()),null;var u=tc(s,o);if(s.tag!==0&&u===2){var h=Wu(s);h!==0&&(o=h,u=ff(s,h))}if(u===1)throw u=ta,Ds(s,0),Yn(s,o),Gt(s,ot()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Is(s,Ht,gn),Gt(s,ot()),null}function pf(s,o){var u=$e;$e|=1;try{return s(o)}finally{$e=u,$e===0&&(No=ot()+500,Nl&&zn())}}function As(s){Kn!==null&&Kn.tag===0&&($e&6)===0&&To();var o=$e;$e|=1;var u=mr.transition,h=We;try{if(mr.transition=null,We=1,s)return s()}finally{We=h,mr.transition=u,$e=o,($e&6)===0&&zn()}}function mf(){nr=jo.current,qe(jo)}function Ds(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,tC(u)),ct!==null)for(u=ct.return;u!==null;){var h=u;switch(kd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Cl();break;case 3:Eo(),qe(zt),qe(At),Od();break;case 5:Id(h);break;case 4:Eo();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:Td(h.type._context);break;case 22:case 23:mf()}u=u.return}if(wt=s,ct=s=Xn(s.current,null),Tt=nr=o,mt=0,ta=null,lf=Yl=Ps=0,Ht=ra=null,Ns!==null){for(o=0;o<Ns.length;o++)if(u=Ns[o],h=u.interleaved,h!==null){u.interleaved=null;var v=h.next,w=u.pending;if(w!==null){var _=w.next;w.next=v,h.next=_}u.pending=h}Ns=null}return s}function r0(s,o){do{var u=ct;try{if(Nd(),Bl.current=zl,Ul){for(var h=Ze.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}Ul=!1}if(Rs=0,xt=pt=Ze=null,Yi=!1,Xi=0,af.current=null,u===null||u.return===null){mt=1,ta=o,ct=null;break}e:{var w=s,_=u.return,P=u,O=o;if(o=Tt,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=O,ee=P,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Q=ee.alternate;Q?(ee.updateQueue=Q.updateQueue,ee.memoizedState=Q.memoizedState,ee.lanes=Q.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var fe=jv(_);if(fe!==null){fe.flags&=-257,Nv(fe,_,P,w,o),fe.mode&1&&Cv(w,W,o),o=fe,O=W;var xe=o.updateQueue;if(xe===null){var Se=new Set;Se.add(O),o.updateQueue=Se}else xe.add(O);break e}else{if((o&1)===0){Cv(w,W,o),gf();break e}O=Error(r(426))}}else if(Ye&&P.mode&1){var it=jv(_);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Nv(it,_,P,w,o),Cd(_o(O,P));break e}}w=O=_o(O,P),mt!==4&&(mt=2),ra===null?ra=[w]:ra.push(w),w=_;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var $=Ev(w,O,o);Jg(w,$);break e;case 1:P=O;var B=w.type,z=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Gn===null||!Gn.has(z)))){w.flags|=65536,o&=-o,w.lanes|=o;var oe=_v(w,P,o);Jg(w,oe);break e}}w=w.return}while(w!==null)}o0(u)}catch(ke){o=ke,ct===u&&u!==null&&(ct=u=u.return);continue}break}while(!0)}function n0(){var s=ql.current;return ql.current=zl,s===null?zl:s}function gf(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||(Ps&268435455)===0&&(Yl&268435455)===0||Yn(wt,Tt)}function tc(s,o){var u=$e;$e|=2;var h=n0();(wt!==s||Tt!==o)&&(gn=null,Ds(s,o));do try{CC();break}catch(v){r0(s,v)}while(!0);if(Nd(),$e=u,ql.current=h,ct!==null)throw Error(r(261));return wt=null,Tt=0,mt}function CC(){for(;ct!==null;)s0(ct)}function jC(){for(;ct!==null&&!QE();)s0(ct)}function s0(s){var o=l0(s.alternate,s,nr);s.memoizedProps=s.pendingProps,o===null?o0(s):ct=o,af.current=null}function o0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=xC(u,o,nr),u!==null){ct=u;return}}else{if(u=wC(u,o),u!==null){u.flags&=32767,ct=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{mt=6,ct=null;return}}if(o=o.sibling,o!==null){ct=o;return}ct=o=s}while(o!==null);mt===0&&(mt=5)}function Is(s,o,u){var h=We,v=mr.transition;try{mr.transition=null,We=1,NC(s,o,u,h)}finally{mr.transition=v,We=h}return null}function NC(s,o,u,h){do To();while(Kn!==null);if(($e&6)!==0)throw Error(r(327));u=s.finishedWork;var v=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(l_(s,w),s===wt&&(ct=wt=null,Tt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Jl||(Jl=!0,c0(ol,function(){return To(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=mr.transition,mr.transition=null;var _=We;We=1;var P=$e;$e|=4,af.current=null,SC(s,u),Yv(u,s),q_(md),fl=!!pd,md=pd=null,s.current=u,kC(u),ZE(),$e=P,We=_,mr.transition=w}else s.current=u;if(Jl&&(Jl=!1,Kn=s,Ql=v),w=s.pendingLanes,w===0&&(Gn=null),r_(u.stateNode),Gt(s,ot()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)v=o[u],h(v.value,{componentStack:v.stack,digest:v.digest});if(Xl)throw Xl=!1,s=uf,uf=null,s;return(Ql&1)!==0&&s.tag!==0&&To(),w=s.pendingLanes,(w&1)!==0?s===df?na++:(na=0,df=s):na=0,zn(),null}function To(){if(Kn!==null){var s=Km(Ql),o=mr.transition,u=We;try{if(mr.transition=null,We=16>s?16:s,Kn===null)var h=!1;else{if(s=Kn,Kn=null,Ql=0,($e&6)!==0)throw Error(r(331));var v=$e;for($e|=4,ve=s.current;ve!==null;){var w=ve,_=w.child;if((ve.flags&16)!==0){var P=w.deletions;if(P!==null){for(var O=0;O<P.length;O++){var W=P[O];for(ve=W;ve!==null;){var ee=ve;switch(ee.tag){case 0:case 11:case 15:ea(8,ee,w)}var te=ee.child;if(te!==null)te.return=ee,ve=te;else for(;ve!==null;){ee=ve;var Q=ee.sibling,fe=ee.return;if(Wv(ee),ee===W){ve=null;break}if(Q!==null){Q.return=fe,ve=Q;break}ve=fe}}}var xe=w.alternate;if(xe!==null){var Se=xe.child;if(Se!==null){xe.child=null;do{var it=Se.sibling;Se.sibling=null,Se=it}while(Se!==null)}}ve=w}}if((w.subtreeFlags&2064)!==0&&_!==null)_.return=w,ve=_;else e:for(;ve!==null;){if(w=ve,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ea(9,w,w.return)}var $=w.sibling;if($!==null){$.return=w.return,ve=$;break e}ve=w.return}}var B=s.current;for(ve=B;ve!==null;){_=ve;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,ve=z;else e:for(_=B;ve!==null;){if(P=ve,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Kl(9,P)}}catch(ke){tt(P,P.return,ke)}if(P===_){ve=null;break e}var oe=P.sibling;if(oe!==null){oe.return=P.return,ve=oe;break e}ve=P.return}}if($e=v,zn(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(il,s)}catch{}h=!0}return h}finally{We=u,mr.transition=o}}return!1}function i0(s,o,u){o=_o(u,o),o=Ev(s,o,1),s=Wn(s,o,1),o=Ut(),s!==null&&(ji(s,1,o),Gt(s,o))}function tt(s,o,u){if(s.tag===3)i0(s,s,u);else for(;o!==null;){if(o.tag===3){i0(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gn===null||!Gn.has(h))){s=_o(u,s),s=_v(o,s,1),o=Wn(o,s,1),s=Ut(),o!==null&&(ji(o,1,s),Gt(o,s));break}}o=o.return}}function TC(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Ut(),s.pingedLanes|=s.suspendedLanes&u,wt===s&&(Tt&u)===u&&(mt===4||mt===3&&(Tt&130023424)===Tt&&500>ot()-cf?Ds(s,0):lf|=u),Gt(s,o)}function a0(s,o){o===0&&((s.mode&1)===0?o=1:(o=ll,ll<<=1,(ll&130023424)===0&&(ll=4194304)));var u=Ut();s=hn(s,o),s!==null&&(ji(s,o,u),Gt(s,u))}function RC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),a0(s,u)}function PC(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(o),a0(s,u)}var l0;l0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||zt.current)Wt=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Wt=!1,yC(s,o,u);Wt=(s.flags&131072)!==0}else Wt=!1,Ye&&(o.flags&1048576)!==0&&Fg(o,Rl,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Hl(s,o),s=o.pendingProps;var v=vo(o,At.current);ko(o,u),v=Ud(null,o,h,s,v,u);var w=$d();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vt(h)?(w=!0,jl(o)):w=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Ad(o),v.updater=Vl,o.stateNode=v,v._reactInternals=o,Gd(o,h,s,u),o=Xd(null,o,h,!0,w,u)):(o.tag=0,Ye&&w&&Sd(o),Bt(null,o,v,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Hl(s,o),s=o.pendingProps,v=h._init,h=v(h._payload),o.type=h,v=o.tag=DC(h),s=Pr(h,s),v){case 0:o=Yd(null,o,h,s,u);break e;case 1:o=Iv(null,o,h,s,u);break e;case 11:o=Tv(null,o,h,s,u);break e;case 14:o=Rv(null,o,h,Pr(h.type,s),u);break e}throw Error(r(306,h,""))}return o;case 0:return h=o.type,v=o.pendingProps,v=o.elementType===h?v:Pr(h,v),Yd(s,o,h,v,u);case 1:return h=o.type,v=o.pendingProps,v=o.elementType===h?v:Pr(h,v),Iv(s,o,h,v,u);case 3:e:{if(Mv(o),s===null)throw Error(r(387));h=o.pendingProps,w=o.memoizedState,v=w.element,Xg(s,o),Ol(o,h,null,u);var _=o.memoizedState;if(h=_.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){v=_o(Error(r(423)),o),o=Ov(s,o,h,u,v);break e}else if(h!==v){v=_o(Error(r(424)),o),o=Ov(s,o,h,u,v);break e}else for(rr=Un(o.stateNode.containerInfo.firstChild),tr=o,Ye=!0,Rr=null,u=qg(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(wo(),h===v){o=mn(s,o,u);break e}Bt(s,o,h,u)}o=o.child}return o;case 5:return Zg(o),s===null&&_d(o),h=o.type,v=o.pendingProps,w=s!==null?s.memoizedProps:null,_=v.children,gd(h,v)?_=null:w!==null&&gd(h,w)&&(o.flags|=32),Dv(s,o),Bt(s,o,_,u),o.child;case 6:return s===null&&_d(o),null;case 13:return Lv(s,o,u);case 4:return Dd(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=bo(o,null,h,u):Bt(s,o,h,u),o.child;case 11:return h=o.type,v=o.pendingProps,v=o.elementType===h?v:Pr(h,v),Tv(s,o,h,v,u);case 7:return Bt(s,o,o.pendingProps,u),o.child;case 8:return Bt(s,o,o.pendingProps.children,u),o.child;case 12:return Bt(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,v=o.pendingProps,w=o.memoizedProps,_=v.value,He(Dl,h._currentValue),h._currentValue=_,w!==null)if(Tr(w.value,_)){if(w.children===v.children&&!zt.current){o=mn(s,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var P=w.dependencies;if(P!==null){_=w.child;for(var O=P.firstContext;O!==null;){if(O.context===h){if(w.tag===1){O=pn(-1,u&-u),O.tag=2;var W=w.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),W.pending=O}}w.lanes|=u,O=w.alternate,O!==null&&(O.lanes|=u),Rd(w.return,u,o),P.lanes|=u;break}O=O.next}}else if(w.tag===10)_=w.type===o.type?null:w.child;else if(w.tag===18){if(_=w.return,_===null)throw Error(r(341));_.lanes|=u,P=_.alternate,P!==null&&(P.lanes|=u),Rd(_,u,o),_=w.sibling}else _=w.child;if(_!==null)_.return=w;else for(_=w;_!==null;){if(_===o){_=null;break}if(w=_.sibling,w!==null){w.return=_.return,_=w;break}_=_.return}w=_}Bt(s,o,v.children,u),o=o.child}return o;case 9:return v=o.type,h=o.pendingProps.children,ko(o,u),v=hr(v),h=h(v),o.flags|=1,Bt(s,o,h,u),o.child;case 14:return h=o.type,v=Pr(h,o.pendingProps),v=Pr(h.type,v),Rv(s,o,h,v,u);case 15:return Pv(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,v=o.pendingProps,v=o.elementType===h?v:Pr(h,v),Hl(s,o),o.tag=1,Vt(h)?(s=!0,jl(o)):s=!1,ko(o,u),Sv(o,h,v),Gd(o,h,v,u),Xd(null,o,h,!0,s,u);case 19:return Uv(s,o,u);case 22:return Av(s,o,u)}throw Error(r(156,o.tag))};function c0(s,o){return zm(s,o)}function AC(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(s,o,u,h){return new AC(s,o,u,h)}function vf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function DC(s){if(typeof s=="function")return vf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ce)return 11;if(s===ye)return 14}return 2}function Xn(s,o){var u=s.alternate;return u===null?(u=gr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function rc(s,o,u,h,v,w){var _=2;if(h=s,typeof s=="function")vf(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case D:return Ms(u.children,v,w,o);case A:_=8,v|=8;break;case V:return s=gr(12,u,o,v|2),s.elementType=V,s.lanes=w,s;case ae:return s=gr(13,u,o,v),s.elementType=ae,s.lanes=w,s;case ue:return s=gr(19,u,o,v),s.elementType=ue,s.lanes=w,s;case q:return nc(u,v,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:_=10;break e;case Z:_=9;break e;case ce:_=11;break e;case ye:_=14;break e;case Y:_=16,h=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=gr(_,u,o,v),o.elementType=s,o.type=h,o.lanes=w,o}function Ms(s,o,u,h){return s=gr(7,s,h,o),s.lanes=u,s}function nc(s,o,u,h){return s=gr(22,s,h,o),s.elementType=q,s.lanes=u,s.stateNode={isHidden:!1},s}function yf(s,o,u){return s=gr(6,s,null,o),s.lanes=u,s}function xf(s,o,u){return o=gr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function IC(s,o,u,h,v){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function wf(s,o,u,h,v,w,_,P,O){return s=new IC(s,o,u,P,O),o===1?(o=1,w===!0&&(o|=8)):o=0,w=gr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(w),s}function MC(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function u0(s){if(!s)return Fn;s=s._reactInternals;e:{if(ks(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(Vt(u))return Bg(s,u,o)}return o}function d0(s,o,u,h,v,w,_,P,O){return s=wf(u,h,!0,s,v,w,_,P,O),s.context=u0(null),u=s.current,h=Ut(),v=qn(u),w=pn(h,v),w.callback=o??null,Wn(u,w,v),s.current.lanes=v,ji(s,v,h),Gt(s,h),s}function sc(s,o,u,h){var v=o.current,w=Ut(),_=qn(v);return u=u0(u),o.context===null?o.context=u:o.pendingContext=u,o=pn(w,_),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Wn(v,o,_),s!==null&&(Ir(s,v,_,w),Ml(s,v,_)),_}function oc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function f0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function bf(s,o){f0(s,o),(s=s.alternate)&&f0(s,o)}function OC(){return null}var h0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Sf(s){this._internalRoot=s}ic.prototype.render=Sf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));sc(s,o,null,null)},ic.prototype.unmount=Sf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;As(function(){sc(null,s,null,null)}),o[cn]=null}};function ic(s){this._internalRoot=s}ic.prototype.unstable_scheduleHydration=function(s){if(s){var o=Xm();s={blockedOn:null,target:s,priority:o};for(var u=0;u<On.length&&o!==0&&o<On[u].priority;u++);On.splice(u,0,s),u===0&&Zm(s)}};function kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ac(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function p0(){}function LC(s,o,u,h,v){if(v){if(typeof h=="function"){var w=h;h=function(){var W=oc(_);w.call(W)}}var _=d0(o,h,s,0,null,!1,!1,"",p0);return s._reactRootContainer=_,s[cn]=_.current,Fi(s.nodeType===8?s.parentNode:s),As(),_}for(;v=s.lastChild;)s.removeChild(v);if(typeof h=="function"){var P=h;h=function(){var W=oc(O);P.call(W)}}var O=wf(s,0,!1,null,null,!1,!1,"",p0);return s._reactRootContainer=O,s[cn]=O.current,Fi(s.nodeType===8?s.parentNode:s),As(function(){sc(o,O,u,h)}),O}function lc(s,o,u,h,v){var w=u._reactRootContainer;if(w){var _=w;if(typeof v=="function"){var P=v;v=function(){var O=oc(_);P.call(O)}}sc(o,_,s,v)}else _=LC(u,o,s,v,h);return oc(_)}qm=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ci(o.pendingLanes);u!==0&&(Gu(o,u|1),Gt(o,ot()),($e&6)===0&&(No=ot()+500,zn()))}break;case 13:As(function(){var h=hn(s,1);if(h!==null){var v=Ut();Ir(h,s,1,v)}}),bf(s,1)}},Ku=function(s){if(s.tag===13){var o=hn(s,134217728);if(o!==null){var u=Ut();Ir(o,s,134217728,u)}bf(s,134217728)}},Ym=function(s){if(s.tag===13){var o=qn(s),u=hn(s,o);if(u!==null){var h=Ut();Ir(u,s,o,h)}bf(s,o)}},Xm=function(){return We},Jm=function(s,o){var u=We;try{return We=s,o()}finally{We=u}},ki=function(s,o,u){switch(o){case"input":if(Jt(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var v=_l(h);if(!v)throw Error(r(90));Pe(h),Jt(h,v)}}}break;case"textarea":el(s,u);break;case"select":o=u.value,o!=null&&Cn(s,!!u.multiple,o,!1)}},ht=pf,Pt=As;var BC={usingClientEntryPoint:!1,Events:[Wi,mo,_l,Ae,st,pf]},sa={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UC={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=$m(s),s===null?null:s.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||OC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{il=cc.inject(UC),zr=cc}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BC,Kt.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(o))throw Error(r(200));return MC(s,o,null,u)},Kt.createRoot=function(s,o){if(!kf(s))throw Error(r(299));var u=!1,h="",v=h0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=wf(s,1,!1,null,null,u,!1,h,v),s[cn]=o.current,Fi(s.nodeType===8?s.parentNode:s),new Sf(o)},Kt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=$m(o),s=s===null?null:s.stateNode,s},Kt.flushSync=function(s){return As(s)},Kt.hydrate=function(s,o,u){if(!ac(o))throw Error(r(200));return lc(null,s,o,!0,u)},Kt.hydrateRoot=function(s,o,u){if(!kf(s))throw Error(r(405));var h=u!=null&&u.hydratedSources||null,v=!1,w="",_=h0;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),o=d0(o,null,s,1,u??null,v,!1,w,_),s[cn]=o.current,Fi(s),h)for(s=0;s<h.length;s++)u=h[s],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new ic(o)},Kt.render=function(s,o,u){if(!ac(o))throw Error(r(200));return lc(null,s,o,!1,u)},Kt.unmountComponentAtNode=function(s){if(!ac(s))throw Error(r(40));return s._reactRootContainer?(As(function(){lc(null,null,s,!1,function(){s._reactRootContainer=null,s[cn]=null})}),!0):!1},Kt.unstable_batchedUpdates=pf,Kt.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!ac(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return lc(s,o,u,!1,h)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var S0;function lw(){if(S0)return Cf.exports;S0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cf.exports=qC(),Cf.exports}var k0;function YC(){if(k0)return uc;k0=1;var t=lw();return uc.createRoot=t.createRoot,uc.hydrateRoot=t.hydrateRoot,uc}var XC=YC();const JC="modulepreload",QC=function(t){return"/"+t},E0={},as=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=l(r.map(p=>{if(p=QC(p),p in E0)return;E0[p]=!0;const m=p.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":JC,m||(y.as="script"),y.crossOrigin="",y.href=p,f&&y.setAttribute("nonce",f),document.head.appendChild(y),m)return new Promise((b,k)=>{y.addEventListener("load",b),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var x=cu();const ie=gp(x),cw=FC({__proto__:null,default:ie},[x]),vp=x.createContext({});function yp(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const xp=typeof window<"u",uw=xp?x.useLayoutEffect:x.useEffect,uu=x.createContext(null);function wp(t,e){t.indexOf(e)===-1&&t.push(e)}function bp(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Sn=(t,e,r)=>r>e?e:r<t?t:r;let Sp=()=>{};const kn={},dw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fw(t){return typeof t=="object"&&t!==null}const hw=t=>/^0[^.\s]+$/u.test(t);function kp(t){let e;return()=>(e===void 0&&(e=t()),e)}const kr=t=>t,ZC=(t,e)=>r=>e(t(r)),za=(...t)=>t.reduce(ZC),Ea=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class Ep{constructor(){this.subscriptions=[]}add(e){return wp(this.subscriptions,e),()=>bp(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qr=t=>t*1e3,Sr=t=>t/1e3;function pw(t,e){return e?t*(1e3/e):0}const mw=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,ej=1e-7,tj=12;function rj(t,e,r,n,i){let a,l,d=0;do l=e+(r-e)/2,a=mw(l,n,i)-t,a>0?r=l:e=l;while(Math.abs(a)>ej&&++d<tj);return l}function Va(t,e,r,n){if(t===e&&r===n)return kr;const i=a=>rj(a,0,1,t,r);return a=>a===0||a===1?a:mw(i(a),e,n)}const gw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vw=t=>e=>1-t(1-e),yw=Va(.33,1.53,.69,.99),_p=vw(yw),xw=gw(_p),ww=t=>(t*=2)<1?.5*_p(t):.5*(2-Math.pow(2,-10*(t-1))),Cp=t=>1-Math.sin(Math.acos(t)),bw=vw(Cp),Sw=gw(Cp),nj=Va(.42,0,1,1),sj=Va(0,0,.58,1),kw=Va(.42,0,.58,1),oj=t=>Array.isArray(t)&&typeof t[0]!="number",Ew=t=>Array.isArray(t)&&typeof t[0]=="number",ij={linear:kr,easeIn:nj,easeInOut:kw,easeOut:sj,circIn:Cp,circInOut:Sw,circOut:bw,backIn:_p,backInOut:xw,backOut:yw,anticipate:ww},aj=t=>typeof t=="string",_0=t=>{if(Ew(t)){Sp(t.length===4);const[e,r,n,i]=t;return Va(e,r,n,i)}else if(aj(t))return ij[t];return t},dc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lj(t,e){let r=new Set,n=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(p.schedule(m),t()),m(d)}const p={schedule:(m,g=!1,y=!1)=>{const k=y&&i?r:n;return g&&l.add(m),k.has(m)||k.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(d=m,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(f),r.clear(),i=!1,a&&(a=!1,p.process(m))}};return p}const cj=40;function _w(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,l=dc.reduce((N,R)=>(N[R]=lj(a),N),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:m,update:g,preRender:y,render:b,postRender:k}=l,S=()=>{const N=kn.useManualTiming?i.timestamp:performance.now();r=!1,kn.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(N-i.timestamp,cj),1)),i.timestamp=N,i.isProcessing=!0,d.process(i),f.process(i),p.process(i),m.process(i),g.process(i),y.process(i),b.process(i),k.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(S))},E=()=>{r=!0,n=!0,i.isProcessing||t(S)};return{schedule:dc.reduce((N,R)=>{const M=l[R];return N[R]=(L,D=!1,A=!1)=>(r||E(),M.schedule(L,D,A)),N},{}),cancel:N=>{for(let R=0;R<dc.length;R++)l[dc[R]].cancel(N)},state:i,steps:l}}const{schedule:Xe,cancel:ls,state:Rt,steps:Tf}=_w(typeof requestAnimationFrame<"u"?requestAnimationFrame:kr,!0);let Pc;function uj(){Pc=void 0}const Xt={now:()=>(Pc===void 0&&Xt.set(Rt.isProcessing||kn.useManualTiming?Rt.timestamp:performance.now()),Pc),set:t=>{Pc=t,queueMicrotask(uj)}},Cw=t=>e=>typeof e=="string"&&e.startsWith(t),jp=Cw("--"),dj=Cw("var(--"),Np=t=>dj(t)?fj.test(t.split("/*")[0].trim()):!1,fj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,li={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_a={...li,transform:t=>Sn(0,1,t)},fc={...li,default:1},ma=t=>Math.round(t*1e5)/1e5,Tp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hj(t){return t==null}const pj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rp=(t,e)=>r=>!!(typeof r=="string"&&pj.test(r)&&r.startsWith(t)||e&&!hj(r)&&Object.prototype.hasOwnProperty.call(r,e)),jw=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,l,d]=n.match(Tp);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},mj=t=>Sn(0,255,t),Rf={...li,transform:t=>Math.round(mj(t))},Ws={test:Rp("rgb","red"),parse:jw("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Rf.transform(t)+", "+Rf.transform(e)+", "+Rf.transform(r)+", "+ma(_a.transform(n))+")"};function gj(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const mh={test:Rp("#"),parse:gj,transform:Ws.transform},Wa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ts=Wa("deg"),Zr=Wa("%"),Te=Wa("px"),vj=Wa("vh"),yj=Wa("vw"),C0={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},Go={test:Rp("hsl","hue"),parse:jw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Zr.transform(ma(e))+", "+Zr.transform(ma(r))+", "+ma(_a.transform(n))+")"},dt={test:t=>Ws.test(t)||mh.test(t)||Go.test(t),parse:t=>Ws.test(t)?Ws.parse(t):Go.test(t)?Go.parse(t):mh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ws.transform(t):Go.transform(t),getAnimatableNone:t=>{const e=dt.parse(t);return e.alpha=0,dt.transform(e)}},xj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wj(t){return isNaN(t)&&typeof t=="string"&&(t.match(Tp)?.length||0)+(t.match(xj)?.length||0)>0}const Nw="number",Tw="color",bj="var",Sj="var(",j0="${}",kj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ca(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(kj,f=>(dt.test(f)?(n.color.push(a),i.push(Tw),r.push(dt.parse(f))):f.startsWith(Sj)?(n.var.push(a),i.push(bj),r.push(f)):(n.number.push(a),i.push(Nw),r.push(parseFloat(f))),++a,j0)).split(j0);return{values:r,split:d,indexes:n,types:i}}function Rw(t){return Ca(t).values}function Pw(t){const{split:e,types:r}=Ca(t),n=e.length;return i=>{let a="";for(let l=0;l<n;l++)if(a+=e[l],i[l]!==void 0){const d=r[l];d===Nw?a+=ma(i[l]):d===Tw?a+=dt.transform(i[l]):a+=i[l]}return a}}const Ej=t=>typeof t=="number"?0:dt.test(t)?dt.getAnimatableNone(t):t;function _j(t){const e=Rw(t);return Pw(t)(e.map(Ej))}const cs={test:wj,parse:Rw,createTransformer:Pw,getAnimatableNone:_j};function Pf(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Cj({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,l=0;if(!e)i=a=l=r;else{const d=r<.5?r*(1+e):r+e-r*e,f=2*r-d;i=Pf(f,d,t+1/3),a=Pf(f,d,t),l=Pf(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}function Bc(t,e){return r=>r>0?e:t}const et=(t,e,r)=>t+(e-t)*r,Af=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},jj=[mh,Ws,Go],Nj=t=>jj.find(e=>e.test(t));function N0(t){const e=Nj(t);if(!e)return!1;let r=e.parse(t);return e===Go&&(r=Cj(r)),r}const T0=(t,e)=>{const r=N0(t),n=N0(e);if(!r||!n)return Bc(t,e);const i={...r};return a=>(i.red=Af(r.red,n.red,a),i.green=Af(r.green,n.green,a),i.blue=Af(r.blue,n.blue,a),i.alpha=et(r.alpha,n.alpha,a),Ws.transform(i))},gh=new Set(["none","hidden"]);function Tj(t,e){return gh.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Rj(t,e){return r=>et(t,e,r)}function Pp(t){return typeof t=="number"?Rj:typeof t=="string"?Np(t)?Bc:dt.test(t)?T0:Dj:Array.isArray(t)?Aw:typeof t=="object"?dt.test(t)?T0:Pj:Bc}function Aw(t,e){const r=[...t],n=r.length,i=t.map((a,l)=>Pp(a)(a,e[l]));return a=>{for(let l=0;l<n;l++)r[l]=i[l](a);return r}}function Pj(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Pp(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function Aj(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][n[a]],d=t.values[l]??0;r[i]=d,n[a]++}return r}const Dj=(t,e)=>{const r=cs.createTransformer(e),n=Ca(t),i=Ca(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?gh.has(t)&&!i.values.length||gh.has(e)&&!n.values.length?Tj(t,e):za(Aw(Aj(n,i),i.values),r):Bc(t,e)};function Dw(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?et(t,e,r):Pp(t)(t,e)}const Ij=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Xe.update(e,r),stop:()=>ls(e),now:()=>Rt.isProcessing?Rt.timestamp:Xt.now()}},Iw=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Uc=2e4;function Ap(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Uc;)e+=r,n=t.next(e);return e>=Uc?1/0:e}function Mj(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(Ap(n),Uc);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:Sr(i)}}const Oj=5;function Mw(t,e,r){const n=Math.max(e-Oj,0);return pw(r-t(n),e-n)}const rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Df=.001;function Lj({duration:t=rt.duration,bounce:e=rt.bounce,velocity:r=rt.velocity,mass:n=rt.mass}){let i,a,l=1-e;l=Sn(rt.minDamping,rt.maxDamping,l),t=Sn(rt.minDuration,rt.maxDuration,Sr(t)),l<1?(i=p=>{const m=p*l,g=m*t,y=m-r,b=vh(p,l),k=Math.exp(-g);return Df-y/b*k},a=p=>{const g=p*l*t,y=g*r+r,b=Math.pow(l,2)*Math.pow(p,2)*t,k=Math.exp(-g),S=vh(Math.pow(p,2),l);return(-i(p)+Df>0?-1:1)*((y-b)*k)/S}):(i=p=>{const m=Math.exp(-p*t),g=(p-r)*t+1;return-Df+m*g},a=p=>{const m=Math.exp(-p*t),g=(r-p)*(t*t);return m*g});const d=5/t,f=Uj(i,a,d);if(t=Qr(t),isNaN(f))return{stiffness:rt.stiffness,damping:rt.damping,duration:t};{const p=Math.pow(f,2)*n;return{stiffness:p,damping:l*2*Math.sqrt(n*p),duration:t}}}const Bj=12;function Uj(t,e,r){let n=r;for(let i=1;i<Bj;i++)n=n-t(n)/e(n);return n}function vh(t,e){return t*Math.sqrt(1-e*e)}const $j=["duration","bounce"],Fj=["stiffness","damping","mass"];function R0(t,e){return e.some(r=>t[r]!==void 0)}function zj(t){let e={velocity:rt.velocity,stiffness:rt.stiffness,damping:rt.damping,mass:rt.mass,isResolvedFromDuration:!1,...t};if(!R0(t,Fj)&&R0(t,$j))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Sn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:rt.mass,stiffness:i,damping:a}}else{const r=Lj(t);e={...e,...r,mass:rt.mass},e.isResolvedFromDuration=!0}return e}function $c(t=rt.visualDuration,e=rt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=zj({...r,velocity:-Sr(r.velocity||0)}),k=y||0,S=p/(2*Math.sqrt(f*m)),E=l-a,C=Sr(Math.sqrt(f/m)),j=Math.abs(E)<5;n||(n=j?rt.restSpeed.granular:rt.restSpeed.default),i||(i=j?rt.restDelta.granular:rt.restDelta.default);let N;if(S<1){const M=vh(C,S);N=L=>{const D=Math.exp(-S*C*L);return l-D*((k+S*C*E)/M*Math.sin(M*L)+E*Math.cos(M*L))}}else if(S===1)N=M=>l-Math.exp(-C*M)*(E+(k+C*E)*M);else{const M=C*Math.sqrt(S*S-1);N=L=>{const D=Math.exp(-S*C*L),A=Math.min(M*L,300);return l-D*((k+S*C*E)*Math.sinh(A)+M*E*Math.cosh(A))/M}}const R={calculatedDuration:b&&g||null,next:M=>{const L=N(M);if(b)d.done=M>=g;else{let D=M===0?k:0;S<1&&(D=M===0?Qr(k):Mw(N,M,L));const A=Math.abs(D)<=n,V=Math.abs(l-L)<=i;d.done=A&&V}return d.value=d.done?l:L,d},toString:()=>{const M=Math.min(Ap(R),Uc),L=Iw(D=>R.next(M*D).value,M,30);return M+"ms "+L},toTransition:()=>{}};return R}$c.applyToOptions=t=>{const e=Mj(t,100,$c);return t.ease=e.ease,t.duration=Qr(e.duration),t.type="keyframes",t};function yh({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:f,restDelta:p=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},b=A=>d!==void 0&&A<d||f!==void 0&&A>f,k=A=>d===void 0?f:f===void 0||Math.abs(d-A)<Math.abs(f-A)?d:f;let S=r*e;const E=g+S,C=l===void 0?E:l(E);C!==E&&(S=C-g);const j=A=>-S*Math.exp(-A/n),N=A=>C+j(A),R=A=>{const V=j(A),H=N(A);y.done=Math.abs(V)<=p,y.value=y.done?C:H};let M,L;const D=A=>{b(y.value)&&(M=A,L=$c({keyframes:[y.value,k(y.value)],velocity:Mw(N,A,y.value),damping:i,stiffness:a,restDelta:p,restSpeed:m}))};return D(0),{calculatedDuration:null,next:A=>{let V=!1;return!L&&M===void 0&&(V=!0,R(A),D(A)),M!==void 0&&A>=M?L.next(A-M):(!V&&R(A),y)}}}function Vj(t,e,r){const n=[],i=r||kn.mix||Dw,a=t.length-1;for(let l=0;l<a;l++){let d=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||kr:e;d=za(f,d)}n.push(d)}return n}function Wj(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(Sp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Vj(e,n,i),f=d.length,p=m=>{if(l&&m<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const y=Ea(t[g],t[g+1],m);return d[g](y)};return r?m=>p(Sn(t[0],t[a-1],m)):p}function Hj(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Ea(0,e,n);t.push(et(r,1,i))}}function Gj(t){const e=[0];return Hj(e,t.length-1),e}function Kj(t,e){return t.map(r=>r*e)}function qj(t,e){return t.map(()=>e||kw).splice(0,t.length-1)}function ga({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=oj(n)?n.map(_0):_0(n),a={done:!1,value:e[0]},l=Kj(r&&r.length===e.length?r:Gj(e),t),d=Wj(l,e,{ease:Array.isArray(i)?i:qj(e,i)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const Yj=t=>t!==null;function Dp(t,{repeat:e,repeatType:r="loop"},n,i=1){const a=t.filter(Yj),d=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!d||n===void 0?a[d]:n}const Xj={decay:yh,inertia:yh,tween:ga,keyframes:ga,spring:$c};function Ow(t){typeof t.type=="string"&&(t.type=Xj[t.type])}class Ip{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Jj=t=>t/100;class Mp extends Ip{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Xt.now()&&this.tick(Xt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ow(e);const{type:r=ga,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:d}=e;const f=r||ga;f!==ga&&typeof d[0]!="number"&&(this.mixKeyframes=za(Jj,Dw(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Ap(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return n.next(0);const{delay:p=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:k,onUpdate:S,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,R=n;if(g){const A=Math.min(this.currentTime,i)/d;let V=Math.floor(A),H=A%1;!H&&A>=1&&(H=1),H===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(y==="reverse"?(H=1-H,b&&(H-=b/d)):y==="mirror"&&(R=l)),N=Sn(0,1,H)*d}const M=j?{done:!1,value:m[0]}:R.next(N);a&&(M.value=a(M.value));let{done:L}=M;!j&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return D&&k!==yh&&(M.value=Dp(m,this.options,E,this.speed)),S&&S(M.value),D&&this.finish(),M}then(e,r){return this.finished.then(e,r)}get duration(){return Sr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Sr(e)}get time(){return Sr(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Sr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Ij,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Qj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Hs=t=>t*180/Math.PI,xh=t=>{const e=Hs(Math.atan2(t[1],t[0]));return wh(e)},Zj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xh,rotateZ:xh,skewX:t=>Hs(Math.atan(t[1])),skewY:t=>Hs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wh=t=>(t=t%360,t<0&&(t+=360),t),P0=xh,A0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),D0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A0,scaleY:D0,scale:t=>(A0(t)+D0(t))/2,rotateX:t=>wh(Hs(Math.atan2(t[6],t[5]))),rotateY:t=>wh(Hs(Math.atan2(-t[2],t[0]))),rotateZ:P0,rotate:P0,skewX:t=>Hs(Math.atan(t[4])),skewY:t=>Hs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function bh(t){return t.includes("scale")?1:0}function Sh(t,e){if(!t||t==="none")return bh(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=eN,i=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Zj,i=d}if(!i)return bh(e);const a=n[e],l=i[1].split(",").map(rN);return typeof a=="function"?a(l):l[a]}const tN=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Sh(r,e)};function rN(t){return parseFloat(t.trim())}const ci=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=new Set(ci),I0=t=>t===li||t===Te,nN=new Set(["x","y","z"]),sN=ci.filter(t=>!nN.has(t));function oN(t){const e=[];return sN.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Gs={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Sh(e,"x"),y:(t,{transform:e})=>Sh(e,"y")};Gs.translateX=Gs.x;Gs.translateY=Gs.y;const Ks=new Set;let kh=!1,Eh=!1,_h=!1;function Lw(){if(Eh){const t=Array.from(Ks).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=oN(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,l])=>{n.getValue(a)?.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Eh=!1,kh=!1,Ks.forEach(t=>t.complete(_h)),Ks.clear()}function Bw(){Ks.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Eh=!0)})}function iN(){_h=!0,Bw(),Lw(),_h=!1}class Op{constructor(e,r,n,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ks.add(this),kh||(kh=!0,Xe.read(Bw),Xe.resolveKeyframes(Lw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const d=n.readValue(r,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}Qj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ks.delete(this)}cancel(){this.state==="scheduled"&&(Ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aN=t=>t.startsWith("--");function lN(t,e,r){aN(e)?t.style.setProperty(e,r):t.style[e]=r}const cN=kp(()=>window.ScrollTimeline!==void 0),uN={};function dN(t,e){const r=kp(t);return()=>uN[e]??r()}const Uw=dN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),da=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,M0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:da([0,.65,.55,1]),circOut:da([.55,0,1,.45]),backIn:da([.31,.01,.66,-.59]),backOut:da([.33,1.53,.69,.99])};function $w(t,e){if(t)return typeof t=="function"?Uw()?Iw(t,e):"ease-out":Ew(t)?da(t):Array.isArray(t)?t.map(r=>$w(r,e)||M0.easeOut):M0[t]}function fN(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:f}={},p=void 0){const m={[e]:r};f&&(m.offset=f);const g=$w(d,i);Array.isArray(g)&&(m.easing=g);const y={delay:n,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),t.animate(m,y)}function Fw(t){return typeof t=="function"&&"applyToOptions"in t}function hN({type:t,...e}){return Fw(t)&&Uw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pN extends Ip{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Sp(typeof e.type!="string");const p=hN(e);this.animation=fN(r,n,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Dp(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):lN(r,n,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Sr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Sr(e)}get time(){return Sr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&cN()?(this.animation.timeline=e,kr):r(this)}}const zw={anticipate:ww,backInOut:xw,circInOut:Sw};function mN(t){return t in zw}function gN(t){typeof t.ease=="string"&&mN(t.ease)&&(t.ease=zw[t.ease])}const O0=10;class vN extends pN{constructor(e){gN(e),Ow(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...l}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new Mp({...l,autoplay:!1}),f=Qr(this.finishedTime??this.time);r.setWithVelocity(d.sample(f-O0).value,d.sample(f).value,O0),d.stop()}}const L0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cs.test(t)||t==="0")&&!t.startsWith("url("));function yN(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function xN(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=L0(i,e),d=L0(a,e);return!l||!d?!1:yN(t)||(r==="spring"||Fw(r))&&n}function Ch(t){t.duration=0,t.type="keyframes"}const wN=new Set(["opacity","clipPath","filter","transform"]),bN=kp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SN(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return bN()&&r&&wN.has(r)&&(r!=="transform"||!p)&&!f&&!n&&i!=="mirror"&&a!==0&&l!=="inertia"}const kN=40;class EN extends Ip{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:f,motionValue:p,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xt.now();const y={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:m,...g},b=m?.KeyframeResolver||Op;this.keyframeResolver=new b(d,(k,S,E)=>this.onKeyframesResolved(k,S,y,!E),f,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:f,isHandoff:p,onUpdate:m}=n;this.resolvedAt=Xt.now(),xN(e,a,l,d)||((kn.instantAnimations||!f)&&m?.(Dp(e,n,r)),e[0]=e[e.length-1],Ch(n),n.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>kN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},b=!p&&SN(y)?new vN({...y,element:y.motionValue.owner.current}):new Mp(y);b.finished.then(()=>this.notifyFinished()).catch(kr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),iN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _N=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CN(t){const e=_N.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function Vw(t,e,r=1){const[n,i]=CN(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const l=a.trim();return dw(l)?parseFloat(l):l}return Np(i)?Vw(i,e,r+1):i}function Lp(t,e){return t?.[e]??t?.default??t}const Ww=new Set(["width","height","top","left","right","bottom",...ci]),jN={test:t=>t==="auto",parse:t=>t},Hw=t=>e=>e.test(t),Gw=[li,Te,Zr,ts,yj,vj,jN],B0=t=>Gw.find(Hw(t));function NN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hw(t):!0}const TN=new Set(["brightness","contrast","saturate","opacity"]);function RN(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Tp)||[];if(!n)return t;const i=r.replace(n,"");let a=TN.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const PN=/\b([a-z-]*)\(.*?\)/gu,jh={...cs,getAnimatableNone:t=>{const e=t.match(PN);return e?e.map(RN).join(" "):t}},U0={...li,transform:Math.round},AN={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:fc,scaleX:fc,scaleY:fc,scaleZ:fc,skew:ts,skewX:ts,skewY:ts,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:_a,originX:C0,originY:C0,originZ:Te},Bp={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...AN,zIndex:U0,fillOpacity:_a,strokeOpacity:_a,numOctaves:U0},DN={...Bp,color:dt,backgroundColor:dt,outlineColor:dt,fill:dt,stroke:dt,borderColor:dt,borderTopColor:dt,borderRightColor:dt,borderBottomColor:dt,borderLeftColor:dt,filter:jh,WebkitFilter:jh},Kw=t=>DN[t];function qw(t,e){let r=Kw(t);return r!==jh&&(r=cs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const IN=new Set(["auto","none","0"]);function MN(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!IN.has(a)&&Ca(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=qw(r,i)}class ON extends Op{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Np(p))){const m=Vw(p,r.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Ww.has(n)||e.length!==2)return;const[i,a]=e,l=B0(i),d=B0(a);if(l!==d)if(I0(l)&&I0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Gs[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||NN(e[i]))&&n.push(i);n.length&&MN(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,l=n[a];n[a]=Gs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function LN(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Yw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Xw(t){return fw(t)&&"offsetHeight"in t}const $0=30,BN=t=>!isNaN(parseFloat(t));class UN{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Xt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Xt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Ep);const n=this.events[e].add(r);return e==="change"?()=>{n(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$0)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,$0);return pw(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ei(t,e){return new UN(t,e)}const{schedule:Up}=_w(queueMicrotask,!1),Mr={x:!1,y:!1};function Jw(){return Mr.x||Mr.y}function $N(t){return t==="x"||t==="y"?Mr[t]?null:(Mr[t]=!0,()=>{Mr[t]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}function Qw(t,e){const r=LN(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function F0(t){return!(t.pointerType==="touch"||Jw())}function FN(t,e,r={}){const[n,i,a]=Qw(t,r),l=d=>{if(!F0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const m=g=>{F0(g)&&(p(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,i)};return n.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const Zw=(t,e)=>e?t===e?!0:Zw(t,e.parentElement):!1,$p=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VN(t){return zN.has(t.tagName)||t.tabIndex!==-1}const Ac=new WeakSet;function z0(t){return e=>{e.key==="Enter"&&t(e)}}function If(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WN=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=z0(()=>{if(Ac.has(r))return;If(r,"down");const i=z0(()=>{If(r,"up")}),a=()=>If(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function V0(t){return $p(t)&&!Jw()}function HN(t,e,r={}){const[n,i,a]=Qw(t,r),l=d=>{const f=d.currentTarget;if(!V0(d))return;Ac.add(f);const p=e(f,d),m=(b,k)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Ac.has(f)&&Ac.delete(f),V0(b)&&typeof p=="function"&&p(b,{success:k})},g=b=>{m(b,f===window||f===document||r.useGlobalTarget||Zw(f,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return n.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),Xw(d)&&(d.addEventListener("focus",p=>WN(p,i)),!VN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function eb(t){return fw(t)&&"ownerSVGElement"in t}function GN(t){return eb(t)&&t.tagName==="svg"}const Ot=t=>!!(t&&t.getVelocity),KN=[...Gw,dt,cs],qN=t=>KN.find(Hw(t)),Fp=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function W0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YN(...t){return e=>{let r=!1;const n=t.map(i=>{const a=W0(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():W0(t[i],null)}}}}function XN(...t){return x.useCallback(YN(...t),t)}class JN extends x.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=Xw(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QN({children:t,isPresent:e,anchorX:r,root:n}){const i=x.useId(),a=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=x.useContext(Fp),f=XN(a,t?.ref);return x.useInsertionEffect(()=>{const{width:p,height:m,top:g,left:y,right:b}=l.current;if(e||!a.current||!p||!m)return;const k=r==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=i;const S=document.createElement("style");d&&(S.nonce=d);const E=n??document.head;return E.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${k}px !important;
            top: ${g}px !important;
          }
        `),()=>{E.contains(S)&&E.removeChild(S)}},[e]),c.jsx(JN,{isPresent:e,childRef:a,sizeRef:l,children:x.cloneElement(t,{ref:f})})}const ZN=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:l,anchorX:d,root:f})=>{const p=yp(e2),m=x.useId();let g=!0,y=x.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:r,custom:i,onExitComplete:b=>{p.set(b,!0);for(const k of p.values())if(!k)return;n&&n()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[r,p,n]);return a&&g&&(y={...y}),x.useMemo(()=>{p.forEach((b,k)=>p.set(k,!1))},[r]),x.useEffect(()=>{!r&&!p.size&&n&&n()},[r]),l==="popLayout"&&(t=c.jsx(QN,{isPresent:r,anchorX:d,root:f,children:t})),c.jsx(uu.Provider,{value:y,children:t})};function e2(){return new Map}function tb(t=!0){const e=x.useContext(uu);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=x.useId();x.useEffect(()=>{if(t)return i(a)},[t]);const l=x.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,l]:[!0]}const hc=t=>t.key||"";function H0(t){const e=[];return x.Children.forEach(t,r=>{x.isValidElement(r)&&e.push(r)}),e}const rb=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:f})=>{const[p,m]=tb(l),g=x.useMemo(()=>H0(t),[t]),y=l&&!p?[]:g.map(hc),b=x.useRef(!0),k=x.useRef(g),S=yp(()=>new Map),[E,C]=x.useState(g),[j,N]=x.useState(g);uw(()=>{b.current=!1,k.current=g;for(let L=0;L<j.length;L++){const D=hc(j[L]);y.includes(D)?S.delete(D):S.get(D)!==!0&&S.set(D,!1)}},[j,y.length,y.join("-")]);const R=[];if(g!==E){let L=[...g];for(let D=0;D<j.length;D++){const A=j[D],V=hc(A);y.includes(V)||(L.splice(D,0,A),R.push(A))}return a==="wait"&&R.length&&(L=R),N(H0(L)),C(g),null}const{forceRender:M}=x.useContext(vp);return c.jsx(c.Fragment,{children:j.map(L=>{const D=hc(L),A=l&&!p?!1:g===j||y.includes(D),V=()=>{if(S.has(D))S.set(D,!0);else return;let H=!0;S.forEach(Z=>{Z||(H=!1)}),H&&(M?.(),N(k.current),l&&m?.(),n&&n())};return c.jsx(ZN,{isPresent:A,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:A?void 0:V,anchorX:d,children:L},D)})})},nb=x.createContext({strict:!1}),G0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ti={};for(const t in G0)ti[t]={isEnabled:e=>G0[t].some(r=>!!e[r])};function t2(t){for(const e in t)ti[e]={...ti[e],...t[e]}}const r2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||r2.has(t)}let sb=t=>!Fc(t);function n2(t){typeof t=="function"&&(sb=e=>e.startsWith("on")?!Fc(e):t(e))}try{n2(require("@emotion/is-prop-valid").default)}catch{}function s2(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(sb(i)||r===!0&&Fc(i)||!e&&!Fc(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const du=x.createContext({});function fu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ja(t){return typeof t=="string"||Array.isArray(t)}const zp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vp=["initial",...zp];function hu(t){return fu(t.animate)||Vp.some(e=>ja(t[e]))}function ob(t){return!!(hu(t)||t.variants)}function o2(t,e){if(hu(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ja(r)?r:void 0,animate:ja(n)?n:void 0}}return t.inherit!==!1?e:{}}function i2(t){const{initial:e,animate:r}=o2(t,x.useContext(du));return x.useMemo(()=>({initial:e,animate:r}),[K0(e),K0(r)])}function K0(t){return Array.isArray(t)?t.join(" "):t}const Na={};function a2(t){for(const e in t)Na[e]=t[e],jp(e)&&(Na[e].isCSSVariable=!0)}function ib(t,{layout:e,layoutId:r}){return ui.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Na[t]||t==="opacity")}const l2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c2=ci.length;function u2(t,e,r){let n="",i=!0;for(let a=0;a<c2;a++){const l=ci[a],d=t[l];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(l.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const p=Yw(d,Bp[l]);if(!f){i=!1;const m=l2[l]||l;n+=`${m}(${p}) `}r&&(e[l]=p)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function Wp(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let l=!1,d=!1;for(const f in e){const p=e[f];if(ui.has(f)){l=!0;continue}else if(jp(f)){i[f]=p;continue}else{const m=Yw(p,Bp[f]);f.startsWith("origin")?(d=!0,a[f]=m):n[f]=m}}if(e.transform||(l||r?n.transform=u2(e,t.transform,r):n.transform&&(n.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;n.transformOrigin=`${f} ${p} ${m}`}}const Hp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ab(t,e,r){for(const n in e)!Ot(e[n])&&!ib(n,r)&&(t[n]=e[n])}function d2({transformTemplate:t},e){return x.useMemo(()=>{const r=Hp();return Wp(r,e,t),Object.assign({},r.vars,r.style)},[e])}function f2(t,e){const r=t.style||{},n={};return ab(n,r,t),Object.assign(n,d2(t,e)),n}function h2(t,e){const r={},n=f2(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const p2={offset:"stroke-dashoffset",array:"stroke-dasharray"},m2={offset:"strokeDashoffset",array:"strokeDasharray"};function g2(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?p2:m2;t[a.offset]=Te.transform(-n);const l=Te.transform(e),d=Te.transform(r);t[a.array]=`${l} ${d}`}function lb(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...d},f,p,m){if(Wp(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),i!==void 0&&g2(g,i,a,l,!1)}const cb=()=>({...Hp(),attrs:{}}),ub=t=>typeof t=="string"&&t.toLowerCase()==="svg";function v2(t,e,r,n){const i=x.useMemo(()=>{const a=cb();return lb(a,e,ub(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ab(a,t.style,t),i.style={...a,...i.style}}return i}const y2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gp(t){return typeof t!="string"||t.includes("-")?!1:!!(y2.indexOf(t)>-1||/[A-Z]/u.test(t))}function x2(t,e,r,{latestValues:n},i,a=!1){const d=(Gp(t)?v2:h2)(e,n,i,t),f=s2(e,typeof t=="string",a),p=t!==x.Fragment?{...f,...d,ref:r}:{},{children:m}=e,g=x.useMemo(()=>Ot(m)?m.get():m,[m]);return x.createElement(t,{...p,children:g})}function q0(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Kp(t,e,r,n){if(typeof e=="function"){const[i,a]=q0(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=q0(n);e=e(r!==void 0?r:t.custom,i,a)}return e}function Dc(t){return Ot(t)?t.get():t}function w2({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:b2(r,n,i,t),renderState:e()}}function b2(t,e,r,n){const i={},a=n(t,{});for(const y in a)i[y]=Dc(a[y]);let{initial:l,animate:d}=t;const f=hu(t),p=ob(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let m=r?r.initial===!1:!1;m=m||l===!1;const g=m?d:l;if(g&&typeof g!="boolean"&&!fu(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const k=Kp(t,y[b]);if(k){const{transitionEnd:S,transition:E,...C}=k;for(const j in C){let N=C[j];if(Array.isArray(N)){const R=m?N.length-1:0;N=N[R]}N!==null&&(i[j]=N)}for(const j in S)i[j]=S[j]}}}return i}const db=t=>(e,r)=>{const n=x.useContext(du),i=x.useContext(uu),a=()=>w2(t,e,n,i);return r?a():yp(a)};function qp(t,e,r){const{style:n}=t,i={};for(const a in n)(Ot(n[a])||e.style&&Ot(e.style[a])||ib(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}const S2=db({scrapeMotionValuesFromProps:qp,createRenderState:Hp});function fb(t,e,r){const n=qp(t,e,r);for(const i in t)if(Ot(t[i])||Ot(e[i])){const a=ci.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}const k2=db({scrapeMotionValuesFromProps:fb,createRenderState:cb}),E2=Symbol.for("motionComponentSymbol");function Ko(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _2(t,e,r){return x.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Ko(r)&&(r.current=n))},[e])}const Yp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C2="framerAppearId",hb="data-"+Yp(C2),pb=x.createContext({});function j2(t,e,r,n,i){const{visualElement:a}=x.useContext(du),l=x.useContext(nb),d=x.useContext(uu),f=x.useContext(Fp).reducedMotion,p=x.useRef(null);n=n||l.renderer,!p.current&&n&&(p.current=n(t,{visualState:e,parent:a,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,g=x.useContext(pb);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&N2(p.current,r,i,g);const y=x.useRef(!1);x.useInsertionEffect(()=>{m&&y.current&&m.update(r,d)});const b=r[hb],k=x.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return uw(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),k.current&&m.animationState&&m.animationState.animateChanges())}),x.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),k.current=!1),m.enteringChildren=void 0)}),m}function N2(t,e,r,n){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:mb(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&Ko(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:f,layoutRoot:p})}function mb(t){if(t)return t.options.allowProjection!==!1?t.projection:mb(t.parent)}function Mf(t,{forwardMotionProps:e=!1}={},r,n){r&&t2(r);const i=Gp(t)?k2:S2;function a(d,f){let p;const m={...x.useContext(Fp),...d,layoutId:T2(d)},{isStatic:g}=m,y=i2(d),b=i(d,g);if(!g&&xp){R2();const k=P2(m);p=k.MeasureLayout,y.visualElement=j2(t,b,m,n,k.ProjectionNode)}return c.jsxs(du.Provider,{value:y,children:[p&&y.visualElement?c.jsx(p,{visualElement:y.visualElement,...m}):null,x2(t,d,_2(b,y.visualElement,f),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=x.forwardRef(a);return l[E2]=t,l}function T2({layoutId:t}){const e=x.useContext(vp).id;return e&&t!==void 0?e+"-"+t:t}function R2(t,e){x.useContext(nb).strict}function P2(t){const{drag:e,layout:r}=ti;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function A2(t,e){if(typeof Proxy>"u")return Mf;const r=new Map,n=(a,l)=>Mf(a,l,t,e),i=(a,l)=>n(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?n:(r.has(l)||r.set(l,Mf(l,void 0,t,e)),r.get(l))})}function gb({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function D2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function I2(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Of(t){return t===void 0||t===1}function Nh({scale:t,scaleX:e,scaleY:r}){return!Of(t)||!Of(e)||!Of(r)}function Fs(t){return Nh(t)||vb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vb(t){return Y0(t.x)||Y0(t.y)}function Y0(t){return t&&t!=="0%"}function zc(t,e,r){const n=t-r,i=e*n;return r+i}function X0(t,e,r,n,i){return i!==void 0&&(t=zc(t,i,n)),zc(t,r,n)+e}function Th(t,e=0,r=1,n,i){t.min=X0(t.min,e,r,n,i),t.max=X0(t.max,e,r,n,i)}function yb(t,{x:e,y:r}){Th(t.x,e.translate,e.scale,e.originPoint),Th(t.y,r.translate,r.scale,r.originPoint)}const J0=.999999999999,Q0=1.0000000000001;function M2(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,l;for(let d=0;d<i;d++){a=r[d],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Yo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,yb(t,l)),n&&Fs(a.latestValues)&&Yo(t,a.latestValues))}e.x<Q0&&e.x>J0&&(e.x=1),e.y<Q0&&e.y>J0&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function Z0(t,e,r,n,i=.5){const a=et(t.min,t.max,i);Th(t,e,r,a,n)}function Yo(t,e){Z0(t.x,e.x,e.scaleX,e.scale,e.originX),Z0(t.y,e.y,e.scaleY,e.scale,e.originY)}function xb(t,e){return gb(I2(t.getBoundingClientRect(),e))}function O2(t,e,r){const n=xb(t,r),{scroll:i}=e;return i&&(qo(n.x,i.offset.x),qo(n.y,i.offset.y)),n}const ey=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:ey(),y:ey()}),ty=()=>({min:0,max:0}),at=()=>({x:ty(),y:ty()}),Rh={current:null},wb={current:!1};function L2(){if(wb.current=!0,!!xp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rh.current=t.matches;t.addEventListener("change",e),e()}else Rh.current=!1}const B2=new WeakMap;function U2(t,e,r){for(const n in e){const i=e[n],a=r[n];if(Ot(i))t.addValue(n,i);else if(Ot(a))t.addValue(n,ei(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(n);t.addValue(n,ei(l!==void 0?l:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const ry=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $2{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Op,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xt.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Xe.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=hu(r),this.isVariantNode=ob(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&Ot(b)&&b.set(f[y])}}mount(e){this.current=e,B2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),wb.current||L2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ls(this.notifyUpdate),ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ui.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ti){const r=ti[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ry.length;n++){const i=ry[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=U2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ei(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(dw(n)||hw(n))?n=parseFloat(n):!qN(n)&&cs.test(r)&&(n=qw(e,r)),this.setBaseTarget(e,Ot(n)?n.get():n)),Ot(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Kp(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ot(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Ep),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Up.render(this.render)}}class bb extends $2{constructor(){super(...arguments),this.KeyframeResolver=ON}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Sb(t,{style:e,vars:r},n,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,n);for(l in r)a.setProperty(l,r[l])}function F2(t){return window.getComputedStyle(t)}class z2 extends bb{constructor(){super(...arguments),this.type="html",this.renderInstance=Sb}readValueFromInstance(e,r){if(ui.has(r))return this.projection?.isProjecting?bh(r):tN(e,r);{const n=F2(e),i=(jp(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return xb(e,r)}build(e,r,n){Wp(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return qp(e,r,n)}}const kb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V2(t,e,r,n){Sb(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(kb.has(i)?i:Yp(i),e.attrs[i])}class W2 extends bb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=at}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ui.has(r)){const n=Kw(r);return n&&n.default||0}return r=kb.has(r)?r:Yp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return fb(e,r,n)}build(e,r,n){lb(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){V2(e,r,n,i)}mount(e){this.isSVGTag=ub(e.tagName),super.mount(e)}}const H2=(t,e)=>Gp(t)?new W2(e):new z2(e,{allowProjection:t!==x.Fragment});function Jo(t,e,r){const n=t.getProps();return Kp(n,e,r!==void 0?r:n.custom,t)}const Ph=t=>Array.isArray(t);function G2(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ei(r))}function K2(t){return Ph(t)?t[t.length-1]||0:t}function q2(t,e){const r=Jo(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const l in a){const d=K2(a[l]);G2(t,l,d)}}function Y2(t){return!!(Ot(t)&&t.add)}function Ah(t,e){const r=t.getValue("willChange");if(Y2(r))return r.add(e);if(!r&&kn.WillChange){const n=new kn.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Eb(t){return t.props[hb]}const X2=t=>t!==null;function J2(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(X2),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Q2={type:"spring",stiffness:500,damping:25,restSpeed:10},Z2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eT={type:"keyframes",duration:.8},tT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rT=(t,{keyframes:e})=>e.length>2?eT:ui.has(t)?t.startsWith("scale")?Z2(e[1]):Q2:tT;function nT({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const Xp=(t,e,r,n={},i,a)=>l=>{const d=Lp(n,t)||{},f=d.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Qr(f);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:y=>{e.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};nT(d)||Object.assign(m,rT(t,m)),m.duration&&(m.duration=Qr(m.duration)),m.repeatDelay&&(m.repeatDelay=Qr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Ch(m),m.delay===0&&(g=!0)),(kn.instantAnimations||kn.skipAnimations)&&(g=!0,Ch(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,g&&!a&&e.get()!==void 0){const y=J2(m.keyframes,d);if(y!==void 0){Xe.update(()=>{m.onUpdate(y),m.onComplete()});return}}return d.isSync?new Mp(m):new EN(m)};function sT({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function _b(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...d}=e;n&&(a=n);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const m in d){const g=t.getValue(m,t.latestValues[m]??null),y=d[m];if(y===void 0||p&&sT(p,m))continue;const b={delay:r,...Lp(a||{},m)},k=g.get();if(k!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===k&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=Eb(t);if(C){const j=window.MotionHandoffAnimation(C,m,Xe);j!==null&&(b.startTime=j,S=!0)}}Ah(t,m),g.start(Xp(m,g,y,t.shouldReduceMotion&&Ww.has(m)?{type:!1}:b,t,S));const E=g.animation;E&&f.push(E)}return l&&Promise.all(f).then(()=>{Xe.update(()=>{l&&q2(t,l)})}),f}function Cb(t,e,r,n=0,i=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,d=(l-1)*n;return typeof r=="function"?r(a,l):i===1?a*n:d-a*n}function Dh(t,e,r={}){const n=Jo(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(_b(t,n,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:g}=i;return oT(t,e,f,p,m,g,r)}:()=>Promise.resolve(),{when:d}=i;if(d){const[f,p]=d==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(r.delay)])}function oT(t,e,r=0,n=0,i=0,a=1,l){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Dh(f,e,{...l,delay:r+(typeof n=="function"?0:n)+Cb(t.variantChildren,f,n,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function iT(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>Dh(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=Dh(t,e,r);else{const i=typeof e=="function"?Jo(t,e,r.custom):e;n=Promise.all(_b(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function jb(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const aT=Vp.length;function Nb(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Nb(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<aT;r++){const n=Vp[r],i=t.props[n];(ja(i)||i===!1)&&(e[n]=i)}return e}const lT=[...zp].reverse(),cT=zp.length;function uT(t){return e=>Promise.all(e.map(({animation:r,options:n})=>iT(t,r,n)))}function dT(t){let e=uT(t),r=ny(),n=!0;const i=f=>(p,m)=>{const g=Jo(t,m,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...k}=g;p={...p,...k,...b}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,m=Nb(t.parent)||{},g=[],y=new Set;let b={},k=1/0;for(let E=0;E<cT;E++){const C=lT[E],j=r[C],N=p[C]!==void 0?p[C]:m[C],R=ja(N),M=C===f?j.isActive:null;M===!1&&(k=E);let L=N===m[C]&&N!==p[C]&&R;if(L&&n&&t.manuallyAnimateOnMount&&(L=!1),j.protectedKeys={...b},!j.isActive&&M===null||!N&&!j.prevProp||fu(N)||typeof N=="boolean")continue;const D=fT(j.prevProp,N);let A=D||C===f&&j.isActive&&!L&&R||E>k&&R,V=!1;const H=Array.isArray(N)?N:[N];let Z=H.reduce(i(C),{});M===!1&&(Z={});const{prevResolvedValues:ce={}}=j,ae={...ce,...Z},ue=q=>{A=!0,y.has(q)&&(V=!0,y.delete(q)),j.needsAnimating[q]=!0;const T=t.getValue(q);T&&(T.liveStyle=!1)};for(const q in ae){const T=Z[q],U=ce[q];if(b.hasOwnProperty(q))continue;let F=!1;Ph(T)&&Ph(U)?F=!jb(T,U):F=T!==U,F?T!=null?ue(q):y.add(q):T!==void 0&&y.has(q)?ue(q):j.protectedKeys[q]=!0}j.prevProp=N,j.prevResolvedValues=Z,j.isActive&&(b={...b,...Z}),n&&t.blockInitialAnimation&&(A=!1);const ye=L&&D;A&&(!ye||V)&&g.push(...H.map(q=>{const T={type:C};if(typeof q=="string"&&n&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,F=Jo(U,q);if(U.enteringChildren&&F){const{delayChildren:I}=F.transition||{};T.delay=Cb(U.enteringChildren,t,I)}}return{animation:q,options:T}}))}if(y.size){const E={};if(typeof p.initial!="boolean"){const C=Jo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(E.transition=C.transition)}y.forEach(C=>{const j=t.getBaseTarget(C),N=t.getValue(C);N&&(N.liveStyle=!0),E[C]=j??null}),g.push({animation:E})}let S=!!g.length;return n&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(g):Promise.resolve()}function d(f,p){if(r[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,p)),r[f].isActive=p;const m=l(f);for(const g in r)r[g].protectedKeys={};return m}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>r,reset:()=>{r=ny(),n=!0}}}function fT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jb(e,t):!1}function Os(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ny(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hT extends ms{constructor(e){super(e),e.animationState||(e.animationState=dT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pT=0;class mT extends ms{constructor(){super(...arguments),this.id=pT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gT={animation:{Feature:hT},exit:{Feature:mT}};function Ta(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Ha(t){return{point:{x:t.pageX,y:t.pageY}}}const vT=t=>e=>$p(e)&&t(e,Ha(e));function va(t,e,r,n){return Ta(t,e,vT(r),n)}const Tb=1e-4,yT=1-Tb,xT=1+Tb,Rb=.01,wT=0-Rb,bT=0+Rb;function $t(t){return t.max-t.min}function ST(t,e,r){return Math.abs(t-e)<=r}function sy(t,e,r,n=.5){t.origin=n,t.originPoint=et(e.min,e.max,t.origin),t.scale=$t(r)/$t(e),t.translate=et(r.min,r.max,t.origin)-t.originPoint,(t.scale>=yT&&t.scale<=xT||isNaN(t.scale))&&(t.scale=1),(t.translate>=wT&&t.translate<=bT||isNaN(t.translate))&&(t.translate=0)}function ya(t,e,r,n){sy(t.x,e.x,r.x,n?n.originX:void 0),sy(t.y,e.y,r.y,n?n.originY:void 0)}function oy(t,e,r){t.min=r.min+e.min,t.max=t.min+$t(e)}function kT(t,e,r){oy(t.x,e.x,r.x),oy(t.y,e.y,r.y)}function iy(t,e,r){t.min=e.min-r.min,t.max=t.min+$t(e)}function xa(t,e,r){iy(t.x,e.x,r.x),iy(t.y,e.y,r.y)}function xr(t){return[t("x"),t("y")]}const Pb=({current:t})=>t?t.ownerDocument.defaultView:null,ay=(t,e)=>Math.abs(t-e);function ET(t,e){const r=ay(t.x,e.x),n=ay(t.y,e.y);return Math.sqrt(r**2+n**2)}class Ab{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Bf(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=ET(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:S}=y,{timestamp:E}=Rt;this.history.push({...S,timestamp:E});const{onStart:C,onMove:j}=this.handlers;b||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Lf(b,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Bf(y.type==="pointercancel"?this.lastMoveEventInfo:Lf(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(y,C),S&&S(y,C)},!$p(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=i||window;const d=Ha(e),f=Lf(d,this.transformPagePoint),{point:p}=f,{timestamp:m}=Rt;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=r;g&&g(e,Bf(f,this.history)),this.removeListeners=za(va(this.contextWindow,"pointermove",this.handlePointerMove),va(this.contextWindow,"pointerup",this.handlePointerUp),va(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ls(this.updatePoint)}}function Lf(t,e){return e?{point:e(t.point)}:t}function ly(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bf({point:t},e){return{point:t,delta:ly(t,Db(e)),offset:ly(t,_T(e)),velocity:CT(e,.1)}}function _T(t){return t[0]}function Db(t){return t[t.length-1]}function CT(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=Db(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Qr(e)));)r--;if(!n)return{x:0,y:0};const a=Sr(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function jT(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?et(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?et(r,t,n.max):Math.min(t,r)),t}function cy(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function NT(t,{top:e,left:r,bottom:n,right:i}){return{x:cy(t.x,r,i),y:cy(t.y,e,n)}}function uy(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function TT(t,e){return{x:uy(t.x,e.x),y:uy(t.y,e.y)}}function RT(t,e){let r=.5;const n=$t(t),i=$t(e);return i>n?r=Ea(e.min,e.max-n,t.min):n>i&&(r=Ea(t.min,t.max-i,e.min)),Sn(0,1,r)}function PT(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ih=.35;function AT(t=Ih){return t===!1?t=0:t===!0&&(t=Ih),{x:dy(t,"left","right"),y:dy(t,"top","bottom")}}function dy(t,e,r){return{min:fy(t,e),max:fy(t,r)}}function fy(t,e){return typeof t=="number"?t:t[e]||0}const DT=new WeakMap;class IT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ha(g).point)},l=(g,y)=>{const{drag:b,dragPropagation:k,onDragStart:S}=this.getProps();if(b&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$N(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xr(C=>{let j=this.getAxisMotionValue(C).get()||0;if(Zr.test(j)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[C];R&&(j=$t(R)*(parseFloat(j)/100))}}this.originPoint[C]=j}),S&&Xe.postRender(()=>S(g,y)),Ah(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:k,onDirectionLock:S,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=y;if(k&&this.currentDirection===null){this.currentDirection=MT(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),E&&E(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>xr(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Ab(e,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:Pb(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Xe.postRender(()=>d(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!pc(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=jT(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=NT(n.layoutBox,e):this.constraints=!1,this.elastic=AT(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&xr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=PT(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ko(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=O2(n,i.root,this.visualElement.getTransformPagePoint());let l=TT(i.layout.layoutBox,a);if(r){const d=r(D2(l));this.hasMutatedConstraints=!!d,d&&(l=gb(d))}return l}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=xr(m=>{if(!pc(m,r,this.currentDirection))return;let g=f&&f[m]||{};l&&(g={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,k={type:"inertia",velocity:n?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,k)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Ah(this.visualElement,e),n.start(Xp(e,n,0,r,this.visualElement,!1))}stopAnimation(){xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){xr(r=>{const{drag:n}=this.getProps();if(!pc(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[r];a.set(e[r]-et(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ko(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xr(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const f=d.get();i[l]=RT({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xr(l=>{if(!pc(l,e,null))return;const d=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];d.set(et(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;DT.set(this.visualElement,this);const e=this.visualElement.current,r=va(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Ko(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xe.read(n);const l=Ta(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(xr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{l(),r(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Ih,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function pc(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function MT(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class OT extends ms{constructor(e){super(e),this.removeGroupControls=kr,this.removeListeners=kr,this.controls=new IT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const hy=t=>(e,r)=>{t&&Xe.postRender(()=>t(e,r))};class LT extends ms{constructor(){super(...arguments),this.removePointerDownListener=kr}onPointerDown(e){this.session=new Ab(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:hy(e),onStart:hy(r),onMove:n,onEnd:(a,l)=>{delete this.session,i&&Xe.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=va(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ic={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function py(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ia={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const r=py(t,e.target.x),n=py(t,e.target.y);return`${r}% ${n}%`}},BT={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=cs.parse(t);if(i.length>5)return n;const a=cs.createTransformer(t),l=typeof i[0]!="number"?1:0,d=r.x.scale*e.x,f=r.y.scale*e.y;i[0+l]/=d,i[1+l]/=f;const p=et(d,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};let Uf=!1;class UT extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;a2($T),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),Uf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ic.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:l}=n;return l&&(l.isPresent=a,Uf=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Xe.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Up.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Uf=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ib(t){const[e,r]=tb(),n=x.useContext(vp);return c.jsx(UT,{...t,layoutGroup:n,switchLayoutGroup:x.useContext(pb),isPresent:e,safeToRemove:r})}const $T={borderRadius:{...ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ia,borderTopRightRadius:ia,borderBottomLeftRadius:ia,borderBottomRightRadius:ia,boxShadow:BT};function FT(t,e,r){const n=Ot(t)?t:ei(t);return n.start(Xp("",n,e,r)),n.animation}const zT=(t,e)=>t.depth-e.depth;class VT{constructor(){this.children=[],this.isDirty=!1}add(e){wp(this.children,e),this.isDirty=!0}remove(e){bp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zT),this.isDirty=!1,this.children.forEach(e)}}function WT(t,e){const r=Xt.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(ls(n),t(a-e))};return Xe.setup(n,!0),()=>ls(n)}const Mb=["TopLeft","TopRight","BottomLeft","BottomRight"],HT=Mb.length,my=t=>typeof t=="string"?parseFloat(t):t,gy=t=>typeof t=="number"||Te.test(t);function GT(t,e,r,n,i,a){i?(t.opacity=et(0,r.opacity??1,KT(n)),t.opacityExit=et(e.opacity??1,0,qT(n))):a&&(t.opacity=et(e.opacity??1,r.opacity??1,n));for(let l=0;l<HT;l++){const d=`border${Mb[l]}Radius`;let f=vy(e,d),p=vy(r,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||gy(f)===gy(p)?(t[d]=Math.max(et(my(f),my(p),n),0),(Zr.test(p)||Zr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=et(e.rotate||0,r.rotate||0,n))}function vy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KT=Ob(0,.5,bw),qT=Ob(.5,.95,kr);function Ob(t,e,r){return n=>n<t?0:n>e?1:r(Ea(t,e,n))}function yy(t,e){t.min=e.min,t.max=e.max}function vr(t,e){yy(t.x,e.x),yy(t.y,e.y)}function xy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wy(t,e,r,n,i){return t-=e,t=zc(t,1/r,n),i!==void 0&&(t=zc(t,1/i,n)),t}function YT(t,e=0,r=1,n=.5,i,a=t,l=t){if(Zr.test(e)&&(e=parseFloat(e),e=et(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=et(a.min,a.max,n);t===a&&(d-=e),t.min=wy(t.min,e,r,d,i),t.max=wy(t.max,e,r,d,i)}function by(t,e,[r,n,i],a,l){YT(t,e[r],e[n],e[i],e.scale,a,l)}const XT=["x","scaleX","originX"],JT=["y","scaleY","originY"];function Sy(t,e,r,n){by(t.x,e,XT,r?r.x:void 0,n?n.x:void 0),by(t.y,e,JT,r?r.y:void 0,n?n.y:void 0)}function ky(t){return t.translate===0&&t.scale===1}function Lb(t){return ky(t.x)&&ky(t.y)}function Ey(t,e){return t.min===e.min&&t.max===e.max}function QT(t,e){return Ey(t.x,e.x)&&Ey(t.y,e.y)}function _y(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bb(t,e){return _y(t.x,e.x)&&_y(t.y,e.y)}function Cy(t){return $t(t.x)/$t(t.y)}function jy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZT{constructor(){this.members=[]}add(e){wp(this.members,e),e.scheduleRender()}remove(e){if(bp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eR(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=r?.z||0;if((i||a||l)&&(n=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:k}=r;p&&(n=`perspective(${p}px) ${n}`),m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),b&&(n+=`skewX(${b}deg) `),k&&(n+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(n+=`scale(${d}, ${f})`),n||"none"}const $f=["","X","Y","Z"],tR=1e3;let rR=0;function Ff(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Ub(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Eb(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Xe,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Ub(n)}function $b({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},d=e?.()){this.id=rR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oR),this.nodes.forEach(cR),this.nodes.forEach(uR),this.nodes.forEach(iR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new VT)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ep),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=eb(l)&&!GN(l),this.instance=l;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;Xe.read(()=>{g=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=WT(y,250),Ic.hasAnimatedSinceResize&&(Ic.hasAnimatedSinceResize=!1,this.nodes.forEach(Ry)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||mR,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=p.getProps(),C=!this.targetLayout||!Bb(this.targetLayout,b),j=!g&&y;if(this.options.layoutRoot||this.resumeFrom||j||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Lp(k,"layout"),onPlay:S,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,j)}else g||Ry(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dR),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ub(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ny);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lR),this.nodes.forEach(nR),this.nodes.forEach(sR)):this.nodes.forEach(Ty),this.clearAllSnapshots();const d=Xt.now();Rt.delta=Sn(0,1e3/60,d-Rt.timestamp),Rt.timestamp=d,Rt.isProcessing=!0,Tf.update.process(Rt),Tf.preRender.process(Rt),Tf.render.process(Rt),Rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Up.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aR),this.sharedNodes.forEach(fR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$t(this.snapshot.measuredBox.x)&&!$t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Lb(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(d||Fs(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),gR(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return at();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vR))){const{scroll:p}=this.root;p&&(qo(d.x,p.offset.x),qo(d.y,p.offset.y))}return d}removeElementScroll(l){const d=at();if(vr(d,l),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:m,options:g}=p;p!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&vr(d,l),qo(d.x,m.offset.x),qo(d.y,m.offset.y))}return d}applyTransform(l,d=!1){const f=at();vr(f,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Yo(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Fs(m.latestValues)&&Yo(f,m.latestValues)}return Fs(this.latestValues)&&Yo(f,this.latestValues),f}removeTransform(l){const d=at();vr(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Fs(p.latestValues))continue;Nh(p.latestValues)&&p.updateSnapshot();const m=at(),g=p.measurePageBox();vr(m,g),Sy(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Fs(this.latestValues)&&Sy(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Rt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),xa(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),yb(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),xa(this.relativeTargetOrigin,this.target,y.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Nh(this.parent.latestValues)||vb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Rt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;vr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;M2(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=at());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xy(this.prevProjectionDelta.x,this.projectionDelta.x),xy(this.prevProjectionDelta.y,this.projectionDelta.y)),ya(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!jy(this.projectionDelta.x,this.prevProjectionDelta.x)||!jy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(l,d=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},g=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=at(),b=f?f.source:void 0,k=this.layout?this.layout.source:void 0,S=b!==k,E=this.getStack(),C=!E||E.members.length<=1,j=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(pR));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const M=R/1e3;Py(g.x,l.x,M),Py(g.y,l.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xa(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hR(this.relativeTarget,this.relativeTargetOrigin,y,M),N&&QT(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=at()),vr(N,this.relativeTarget)),S&&(this.animationValues=m,GT(m,p,this.latestValues,M,j,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Ic.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ei(0)),this.currentAnimation=FT(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:m}=l;if(!(!d||!f||!p)){if(this!==l&&this.layout&&p&&Fb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||at();const g=$t(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+g;const y=$t(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+y}vr(d,f),Yo(d,m),ya(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ZT),this.sharedNodes.get(l).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Ff("z",l,p,this.animationValues);for(let m=0;m<$f.length;m++)Ff(`rotate${$f[m]}`,l,p,this.animationValues),Ff(`skew${$f[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Dc(d?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Dc(d?.pointerEvents)||""),this.hasProjected&&!Fs(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=eR(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),l.transform=g;const{x:y,y:b}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const k in Na){if(m[k]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:C}=Na[k],j=g==="none"?m[k]:S(m[k],p);if(E){const N=E.length;for(let R=0;R<N;R++)l[E[R]]=j}else C?this.options.visualElement.renderState.vars[k]=j:l[k]=j}this.options.layoutId&&(l.pointerEvents=p===this?Dc(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Ny),this.root.sharedNodes.clear()}}}function nR(t){t.updateLayout()}function sR(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?xr(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=$t(g);g.min=r[m].min,g.max=g.min+y}):Fb(i,e.layoutBox,r)&&xr(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=$t(r[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const l=Xo();ya(l,r,e.layoutBox);const d=Xo();a?ya(d,t.applyTransform(n,!0),e.measuredBox):ya(d,r,e.layoutBox);const f=!Lb(l);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=at();xa(b,e.layoutBox,g.layoutBox);const k=at();xa(k,r,y.layoutBox),Bb(b,k)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=b,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aR(t){t.clearSnapshot()}function Ny(t){t.clearMeasurements()}function Ty(t){t.isLayoutDirty=!1}function lR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ry(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cR(t){t.resolveTargetDelta()}function uR(t){t.calcProjection()}function dR(t){t.resetSkewAndRotation()}function fR(t){t.removeLeadSnapshot()}function Py(t,e,r){t.translate=et(e.translate,0,r),t.scale=et(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Ay(t,e,r,n){t.min=et(e.min,r.min,n),t.max=et(e.max,r.max,n)}function hR(t,e,r,n){Ay(t.x,e.x,r.x,n),Ay(t.y,e.y,r.y,n)}function pR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mR={duration:.45,ease:[.4,0,.1,1]},Dy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Iy=Dy("applewebkit/")&&!Dy("chrome/")?Math.round:kr;function My(t){t.min=Iy(t.min),t.max=Iy(t.max)}function gR(t){My(t.x),My(t.y)}function Fb(t,e,r){return t==="position"||t==="preserve-aspect"&&!ST(Cy(e),Cy(r),.2)}function vR(t){return t!==t.root&&t.scroll?.wasRoot}const yR=$b({attachResizeListener:(t,e)=>Ta(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zf={current:void 0},zb=$b({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zf.current){const t=new yR({});t.mount(window),t.setOptions({layoutScroll:!0}),zf.current=t}return zf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xR={pan:{Feature:LT},drag:{Feature:OT,ProjectionNode:zb,MeasureLayout:Ib}};function Oy(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&Xe.postRender(()=>a(e,Ha(e)))}class wR extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=FN(e,(r,n)=>(Oy(this.node,n,"Start"),i=>Oy(this.node,i,"End"))))}unmount(){}}class bR extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=za(Ta(this.node.current,"focus",()=>this.onFocus()),Ta(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ly(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&Xe.postRender(()=>a(e,Ha(e)))}class SR extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=HN(e,(r,n)=>(Ly(this.node,n,"Start"),(i,{success:a})=>Ly(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mh=new WeakMap,Vf=new WeakMap,kR=t=>{const e=Mh.get(t.target);e&&e(t)},ER=t=>{t.forEach(kR)};function _R({root:t,...e}){const r=t||document;Vf.has(r)||Vf.set(r,{});const n=Vf.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(ER,{root:t,...e})),n[i]}function CR(t,e,r){const n=_R(e);return Mh.set(t,r),n.observe(t),()=>{Mh.delete(t),n.unobserve(t)}}const jR={some:0,all:1};class NR extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:jR[i]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=p?m:g;y&&y(f)};return CR(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(TR(e,r))&&this.startObserver()}unmount(){}}function TR({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const RR={inView:{Feature:NR},tap:{Feature:SR},focus:{Feature:bR},hover:{Feature:wR}},PR={layout:{ProjectionNode:zb,MeasureLayout:Ib}},AR={...gT,...RR,...xR,...PR},Ve=A2(AR,H2);var Ee=(t=>(t.WANT_TO_READ="want_to_read",t.CURRENTLY_READING="currently_reading",t.READ="read",t))(Ee||{});class DR{currentUser=null;async getCurrentUser(){return this.currentUser}async createGuestUser(){return this.currentUser={id:"guest_"+Date.now(),name:"Usurio Convidado",email:"guest@eclipsereads.com",avatar:void 0,createdAt:new Date,accountType:"guest",limitations:{maxBooks:5,currentBookCount:0},preferences:{theme:"light",language:"pt-BR",notifications:{dailyReminder:!1,weeklyProgress:!1,newRecommendations:!1},readingGoals:{booksPerYear:12,minutesPerDay:15,chaptersPerDay:1,chaptersPerWeek:7,chaptersPerMonth:30}},statistics:{booksRead:0,currentlyReading:0,favorites:0,toReadCount:0,droppedCount:0,booksLiked:0,chaptersRead:0,totalReadingTime:0,streak:0,currentStreak:0,longestStreak:0,chaptersReadToday:0,chaptersReadThisWeek:0,chaptersReadThisMonth:0,readingTimeToday:0,favoriteGenre:"Fico"}},this.currentUser}async createUser(e,r){if(!e||typeof e!="string")throw new Error("Email invlido");if(!r||typeof r!="string")throw new Error("Nome invlido");return this.currentUser={id:"user_"+Date.now(),name:r,email:e,avatar:void 0,createdAt:new Date,accountType:"registered",preferences:{theme:"light",language:"pt-BR",notifications:{dailyReminder:!0,weeklyProgress:!0,newRecommendations:!0},readingGoals:{booksPerYear:12,minutesPerDay:30,chaptersPerDay:2,chaptersPerWeek:14,chaptersPerMonth:60}},statistics:{booksRead:0,currentlyReading:0,favorites:0,toReadCount:0,droppedCount:0,booksLiked:0,chaptersRead:0,totalReadingTime:0,streak:0,currentStreak:0,longestStreak:0,chaptersReadToday:0,chaptersReadThisWeek:0,chaptersReadThisMonth:0,readingTimeToday:0,favoriteGenre:"Fico"}},this.currentUser}async updateUser(e){return this.currentUser&&(this.currentUser={...this.currentUser,...e}),this.currentUser}async getUserStatistics(e){return(await this.getCurrentUser())?.statistics||{booksRead:0,currentlyReading:0,favorites:0,toReadCount:0,droppedCount:0,booksLiked:0,chaptersRead:0,totalReadingTime:0,streak:0,favoriteGenre:"Fico"}}async updateUserStatistics(e,r){const n=await this.getCurrentUser();return n&&(n.statistics={...n.statistics,...r}),n.statistics}async loginUser(e,r){if(!e||typeof e!="string")throw new Error("Email invlido");if(!r||typeof r!="string")throw new Error("Senha invlida");const n=e.includes("@")?e.split("@")[0]:"Usurio";return this.currentUser={id:"1",name:n,email:e,avatar:void 0,createdAt:new Date,accountType:"premium",preferences:{theme:"light",language:"pt-BR",notifications:{dailyReminder:!0,weeklyProgress:!0,newRecommendations:!1},readingGoals:{booksPerYear:24,minutesPerDay:30,chaptersPerDay:2,chaptersPerWeek:14,chaptersPerMonth:60}},statistics:{booksRead:0,currentlyReading:0,favorites:0,toReadCount:0,droppedCount:0,booksLiked:0,chaptersRead:0,totalReadingTime:0,streak:0,currentStreak:0,longestStreak:0,chaptersReadToday:0,chaptersReadThisWeek:0,chaptersReadThisMonth:0,readingTimeToday:0,favoriteGenre:"Fico"}},this.currentUser}}const Vb="https://www.googleapis.com/books/v1/volumes",Ra=new Map,Wb=1800*1e3;let wr={isHealthy:!0,lastError:null,errorCount:0,lastSuccessfulRequest:Date.now(),consecutiveErrors:0};function By(t,e=null){t?(wr.isHealthy=!0,wr.lastSuccessfulRequest=Date.now(),wr.consecutiveErrors=0):(wr.lastError=e,wr.errorCount++,wr.consecutiveErrors++,typeof window<"u"&&window.dispatchEvent(new CustomEvent("apiError",{detail:{error:e?.message||"API Error",type:"google-books-api",consecutiveErrors:wr.consecutiveErrors}})),wr.consecutiveErrors>=3&&(wr.isHealthy=!1,console.warn(" API do Google Books marcada como no saudvel aps mltiplos erros")))}function IR(){const t=Date.now()-wr.lastSuccessfulRequest;return!wr.isHealthy||t>120*1e3||wr.consecutiveErrors>=2}const ri="eclipse_books_cache",Hb=3600*1e3;function MR(){const t=Date.now();for(const[e,r]of Ra.entries())t-r.timestamp>Wb&&Ra.delete(e)}function OR(t){try{const e=localStorage.getItem(ri);if(!e)return null;const n=JSON.parse(e)[t];if(n&&Date.now()-n.timestamp<Hb)return console.log(" Usando cache persistente para:",t),n.data}catch(e){console.warn("Erro ao ler cache persistente:",e)}return null}function LR(t,e){try{let r={};const n=localStorage.getItem(ri);n&&(r=JSON.parse(n)),r[t]={data:e,timestamp:Date.now()},localStorage.setItem(ri,JSON.stringify(r))}catch(r){console.warn("Erro ao salvar cache persistente:",r)}}function di(t){MR();const e=Ra.get(t);return e&&Date.now()-e.timestamp<Wb?(console.log(" Usando cache em memria para:",t),e.data):OR(t)}function us(t,e){Ra.set(t,{data:e,timestamp:Date.now()}),LR(t,e)}function Uy(t){return new Promise(e=>setTimeout(e,t))}async function Gb(t,e=2,r=1e3){let n;for(let i=0;i<e;i++)try{const a=new AbortController,l=setTimeout(()=>a.abort(),8e3),d=await fetch(t,{signal:a.signal});if(clearTimeout(l),d.ok)return d;if((d.status===503||d.status===429||d.status===502)&&(n=new Error(`HTTP ${d.status}: Service temporarily unavailable`),i===0)){const f=Math.min(r*Math.pow(2,i),3e3);console.warn(` API instvel (${d.status}), tentando uma vez mais em ${f}ms...`),await Uy(f);continue}throw new Error(`HTTP error! status: ${d.status}`)}catch(a){if(n=a,(a.name==="AbortError"||a.message.includes("fetch"))&&i===0){const l=Math.min(r,2e3);console.warn(` Timeout da rede, tentando uma vez mais em ${l}ms...`),await Uy(l);continue}throw a}throw n}function BR(t,e=200){if(!t||t.length<=e)return t||"Descrio no disponvel";const n=t.replace(/<[^>]*>/g,"").substring(0,e),i=n.lastIndexOf(" ");return i>e*.8?n.substring(0,i)+"...":n+"..."}function Kb(t){const e=t.volumeInfo||{},r=t.saleInfo||{};return{id:t.id,title:e.title||"Ttulo no disponvel",author:e.authors?e.authors.join(", "):"Autor desconhecido",coverUrl:e.imageLinks?.thumbnail?.replace("http:","https:")||null,description:BR(e.description),publishedDate:e.publishedDate||"",pages:e.pageCount||0,rating:e.averageRating||0,genres:e.categories||[],publisher:e.publisher||"",language:e.language||"pt-BR",isbn:e.industryIdentifiers?.find(n=>n.type==="ISBN_13")?.identifier||e.industryIdentifiers?.find(n=>n.type==="ISBN_10")?.identifier||"N/A",categories:e.categories?.map(n=>({id:n.toLowerCase().replace(/\s+/g,"-"),name:n,icon:""}))||[{id:"geral",name:"Geral",icon:""}],source:"google-books",previewLink:e.previewLink,infoLink:e.infoLink,isPublicDomain:r.isEbook&&r.saleability==="FREE"}}async function fi(t,e=20,r=0){const n=`search_${t}_${e}_${r}`,i=di(n);if(i)return i;if(IR()&&r===0)return console.warn(" API instvel detectada, usando dados de exemplo para busca:",t),Vc(t,e);try{const a=encodeURIComponent(t),l=`${Vb}?q=${a}+inauthor:(brasileiro OR brasil OR portuguesa)&maxResults=${e}&startIndex=${r}&langRestrict=pt&orderBy=relevance`,f=await(await Gb(l,2,1e3)).json();if(By(!0),!f.items){const m=[];return us(n,m),m}const p=f.items.map(Kb);return us(n,p),p}catch(a){return console.error("Erro ao buscar livros:",a),By(!1,a),r===0?(console.log(" Retornando resultados de exemplo devido a erro da API"),Vc(t,e)):[]}}function Vc(t,e){const r=[{id:"fallback_dom_casmurro",title:"Dom Casmurro",author:"Machado de Assis",coverUrl:null,description:"Clssico da literatura brasileira que narra a histria de Bentinho e Capitu.",publishedDate:"1899",pages:256,rating:4.5,genres:["Literatura Brasileira","Romance"],publisher:"Editora Garnier",language:"pt-BR",isbn:"N/A",categories:[{id:"literatura-brasileira",name:"Literatura Brasileira",icon:""}],source:"fallback-search",isFallback:!0},{id:"fallback_o_cortico",title:"O Cortio",author:"Alusio Azevedo",coverUrl:null,description:"Romance naturalista que retrata a vida em um cortio no Rio de Janeiro.",publishedDate:"1890",pages:324,rating:4.2,genres:["Literatura Brasileira","Naturalismo"],publisher:"Editora tica",language:"pt-BR",isbn:"N/A",categories:[{id:"literatura-brasileira",name:"Literatura Brasileira",icon:""}],source:"fallback-search",isFallback:!0},{id:"fallback_capitaes_areia",title:"Capites da Areia",author:"Jorge Amado",coverUrl:null,description:"Romance sobre um grupo de meninos rfos que vivem nas ruas de Salvador.",publishedDate:"1937",pages:280,rating:4.4,genres:["Literatura Brasileira","Romance Social"],publisher:"Companhia das Letras",language:"pt-BR",isbn:"N/A",categories:[{id:"literatura-brasileira",name:"Literatura Brasileira",icon:""}],source:"fallback-search",isFallback:!0}],n=r.slice(0,Math.min(e,r.length));return n.forEach(i=>{i.description+=`

 Exemplo temporrio - A API do Google Books est temporariamente indisponvel.`}),n}async function qb(t=20){const e=`popular_${t}`,r=di(e);if(r)return r;try{const i=await fi("literatura brasileira machado assis clarice lispector",t);return us(e,i),i}catch(n){return console.error("Erro ao buscar livros populares:",n),Vc("literatura brasileira",Math.min(t,3))}}async function Yb(t=8){const e=`featured_${t}`,r=di(e);if(r)return r;try{const a=(await fi("machado de assis dom casmurro",t)).slice(0,t);return us(e,a),a}catch(n){return console.error("Erro ao buscar livros em destaque:",n),Vc("machado de assis",Math.min(t,2))}}async function Xb(t,e=20){const r=`category_${t}_${e}`,n=di(r);if(n)return n;try{const a={classicos:"classic literature portuguese",romance:"romance fiction portuguese",ficcao:"fiction portuguese",biografia:"biography portuguese",historia:"history portuguese",ciencia:"science portuguese",arte:"art portuguese",poesia:"poetry portuguese"}[t]||`${t} portuguese`,l=await fi(a,e);return us(r,l),l}catch(i){return console.error("Erro ao buscar livros por categoria:",i),[]}}const UR={getFallbackBook:t=>{const e=[{title:"Dom Casmurro",author:"Machado de Assis",description:"Romance clssico da literatura brasileira que narra a histria de Bentinho e sua paixo por Capitu.",publisher:"Editora Garnier",pages:256,rating:4.5,publishedDate:"1899"},{title:"O Cortio",author:"Alusio Azevedo",description:"Romance naturalista que retrata a vida em um cortio no Rio de Janeiro do sculo XIX.",publisher:"Editora tica",pages:324,rating:4.2,publishedDate:"1890"},{title:"A Hora da Estrela",author:"Clarice Lispector",description:"ltimo romance de Clarice Lispector, conta a histria de Macaba, uma jovem nordestina.",publisher:"Editora Rocco",pages:128,rating:4.3,publishedDate:"1977"},{title:"Capites da Areia",author:"Jorge Amado",description:"Romance que conta a histria de um grupo de meninos rfos que vivem nas ruas de Salvador.",publisher:"Companhia das Letras",pages:280,rating:4.4,publishedDate:"1937"},{title:"Grande Serto: Veredas",author:"Guimares Rosa",description:"Obra-prima da literatura brasileira que narra as aventuras de Riobaldo pelos sertes.",publisher:"Nova Fronteira",pages:624,rating:4.6,publishedDate:"1956"}],r=Math.abs(t.split("").reduce((i,a)=>i+a.charCodeAt(0),0))%e.length,n=e[r];return{id:t,title:n.title,author:n.author,coverUrl:null,description:`${n.description}

 Dados temporrios - A API do Google Books est temporariamente indisponvel. As informaes completas sero carregadas assim que o servio for restaurado.`,publishedDate:n.publishedDate,pages:n.pages,rating:n.rating,genres:["Literatura Brasileira","Clssicos"],publisher:n.publisher,language:"pt-BR",isbn:"N/A",categories:[{id:"literatura-brasileira",name:"Literatura Brasileira",icon:""},{id:"classicos",name:"Clssicos",icon:""}],source:"fallback-data",previewLink:null,infoLink:null,isPublicDomain:!1,isTemporaryData:!0,isFallback:!0}}};async function Jb(t){const e=`book_${t}`,r=di(e);if(r)if(r.isFallback&&Date.now()-(r._cachedAt||0)>300*1e3)console.log(" Tentando atualizar dados de fallback para dados reais...");else return r;try{const n=`${Vb}/${t}`,i=await Gb(n,2,1500);if(!i.ok){if(i.status===404)return console.warn(` Livro no encontrado: ${t}`),null;throw new Error(`HTTP error! status: ${i.status}`)}const a=await i.json(),l=Kb(a);return l._cachedAt=Date.now(),us(e,l),l}catch(n){if(console.error("Error loading book:",n),r&&r.isFallback)return console.log(" Retornando dados de fallback do cache"),r;console.warn(" Usando fallback para livro:",t);const i=UR.getFallbackBook(t);return i._cachedAt=Date.now(),us(e,i),i}}async function Qb(t=8){const e=`trending_${t}`,r=di(e);if(r)return r;try{const i=await fi("clarice lispector jorge amado",t);return us(e,i),i}catch(n){return console.error("Erro ao buscar livros trending:",n),[]}}function $R(){Ra.clear();try{localStorage.removeItem(ri)}catch(t){console.warn("Erro ao limpar cache persistente:",t)}console.log(" Cache limpo (memria e localStorage)")}function FR(){try{const t=localStorage.getItem(ri);if(!t)return;const e=JSON.parse(t),r=Date.now(),n={};Object.keys(e).forEach(i=>{r-e[i].timestamp<Hb&&(n[i]=e[i])}),localStorage.setItem(ri,JSON.stringify(n)),console.log(" Cache persistente limpo (itens expirados removidos)")}catch(t){console.warn("Erro ao limpar cache persistente:",t)}}const Oh=Object.freeze(Object.defineProperty({__proto__:null,cleanPersistentCache:FR,clearCache:$R,getBookById:Jb,getBooksByCategory:Xb,getFeaturedBooks:Yb,getPopularBooks:qb,getTrendingBooks:Qb,searchBooks:fi},Symbol.toStringTag,{value:"Module"})),zR="https://images.unsplash.com/photo-1532012197267-da84d127e765?w=300&h=400&fit=crop",VR="https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=300&h=400&fit=crop";class WR{userBooks=[];mockBooks=[{id:"1",title:"Dom Casmurro",authors:["Machado de Assis"],author:"Machado de Assis",coverUrl:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=400&fit=crop",description:"Romance clssico sobre Bentinho e sua obsesso por Capitu.",publishedDate:"1899",pages:256,rating:4.2,genres:["Romance","Clssico","Literatura Brasileira"],publisher:"Garnier",language:"pt-BR",isbn:"978-85-359-0277-4",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"2",title:"O Cortio",authors:["Alusio Azevedo"],author:"Alusio Azevedo",coverUrl:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop",description:"Retrato naturalista da vida em um cortio carioca.",publishedDate:"1890",pages:304,rating:4,genres:["Romance","Naturalismo","Literatura Brasileira"],publisher:"Teixeira & Irmo",language:"pt-BR",isbn:"978-85-359-0278-1",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"3",title:"Iracema",authors:["Jos de Alencar"],author:"Jos de Alencar",coverUrl:zR,description:"Lenda da fundao do Cear atravs do amor entre Iracema e Martim.",publishedDate:"1865",pages:128,rating:3.8,genres:["Romance","Indianismo","Literatura Brasileira"],publisher:"Vianna & Filhos",language:"pt-BR",isbn:"978-85-359-0279-8",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"4",title:"O Auto da Compadecida",authors:["Ariano Suassuna"],author:"Ariano Suassuna",coverUrl:VR,description:"Teatro medieval com cultura popular nordestina.",publishedDate:"1955",pages:176,rating:4.5,genres:["Teatro","Comdia","Literatura Brasileira"],publisher:"Agir",language:"pt-BR",isbn:"978-85-359-0280-4",categories:[{id:"teatro",name:"Teatro",icon:""}],source:"local"},{id:"5",title:"A Hora da Estrela",authors:["Clarice Lispector"],author:"Clarice Lispector",coverUrl:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=400&fit=crop",description:"Histria de Macaba, uma jovem nordestina.",publishedDate:"1977",pages:96,rating:4.3,genres:["Romance","Literatura Brasileira","Modernismo"],publisher:"Jos Olympio",language:"pt-BR",isbn:"978-85-359-0281-1",categories:[{id:"modernismo",name:"Modernismo",icon:""}],source:"local"},{id:"6",title:"Memrias Pstumas de Brs Cubas",authors:["Machado de Assis"],author:"Machado de Assis",coverUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop",description:"Romance narrado por um defunto autor.",publishedDate:"1881",pages:208,rating:4.4,genres:["Romance","Realismo","Literatura Brasileira"],publisher:"Tipografia Nacional",language:"pt-BR",isbn:"978-85-359-0282-8",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"7",title:"Grande Serto: Veredas",authors:["Joo Guimares Rosa"],author:"Joo Guimares Rosa",coverUrl:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop",description:"Memrias do jaguno Riobaldo no serto.",publishedDate:"1956",pages:624,rating:4.1,genres:["Romance","Literatura Brasileira","Regionalismo"],publisher:"Jos Olympio",language:"pt-BR",isbn:"978-85-359-0283-5",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"8",title:"Capites da Areia",authors:["Jorge Amado"],author:"Jorge Amado",coverUrl:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=400&fit=crop",description:"Vida de meninos de rua em Salvador nos anos 1930.",publishedDate:"1937",pages:280,rating:4.2,genres:["Romance","Literatura Brasileira","Social"],publisher:"Jos Olympio",language:"pt-BR",isbn:"978-85-359-0284-2",categories:[{id:"social",name:"Literatura Social",icon:""}],source:"local"},{id:"9",title:"Vidas Secas",authors:["Graciliano Ramos"],author:"Graciliano Ramos",coverUrl:"https://images.unsplash.com/photo-1667408521317-bef962a97098?w=300&h=400&fit=crop",description:"Retrata a vida de uma famlia sertaneja em sua luta pela sobrevivncia no rido serto nordestino.",publishedDate:"1938",pages:176,rating:4.4,genres:["Romance","Literatura Brasileira","Regionalismo"],publisher:"Jos Olympio",language:"pt-BR",isbn:"978-85-209-2630-7",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"10",title:"A Moreninha",authors:["Joaquim Manuel de Macedo"],author:"Joaquim Manuel de Macedo",coverUrl:"https://images.unsplash.com/photo-1674154642704-0a4f0bdcb676?w=300&h=400&fit=crop",description:"Primeiro romance brasileiro de sucesso, conta a histria de amor entre Augusto e Carolina.",publishedDate:"1844",pages:144,rating:3.9,genres:["Romance","Literatura Brasileira","Romantismo"],publisher:"Paula Brito",language:"pt-BR",isbn:"978-85-08-10923-8",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"11",title:"Triste Fim de Policarpo Quaresma",authors:["Lima Barreto"],author:"Lima Barreto",coverUrl:"https://images.unsplash.com/photo-1615413833480-6e8427dbcc5e?w=300&h=400&fit=crop",description:"Crtica social atravs da histria de um patriota idealista que enfrenta a dura realidade brasileira.",publishedDate:"1915",pages:256,rating:4.3,genres:["Romance","Literatura Brasileira","Pr-Modernismo"],publisher:"Revista dos Tribunaes",language:"pt-BR",isbn:"978-85-08-09846-3",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"12",title:"Memrias de um Sargento de Milcias",authors:["Manuel Antnio de Almeida"],author:"Manuel Antnio de Almeida",coverUrl:"https://images.unsplash.com/photo-1631691971525-3f4b54255fea?w=300&h=400&fit=crop",description:"Romance de costumes que retrata o Rio de Janeiro do sculo XIX atravs das aventuras de Leonardo.",publishedDate:"1854",pages:288,rating:4,genres:["Romance","Literatura Brasileira","Romance de Costumes"],publisher:"Tipografia Brasiliense",language:"pt-BR",isbn:"978-85-08-16458-9",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"13",title:"O Primo Baslio",authors:["Ea de Queirs"],author:"Ea de Queirs",coverUrl:"https://images.unsplash.com/photo-1529654069718-5e1423a32b7b?w=300&h=400&fit=crop",description:"Romance realista que critica a sociedade lisboeta do sculo XIX.",publishedDate:"1878",pages:320,rating:4,genres:["Romance","Realismo"],publisher:"Livraria Chardron",language:"pt-BR",isbn:"978-85-359-0290-0",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"14",title:"Os Sertes",authors:["Euclides da Cunha"],author:"Euclides da Cunha",coverUrl:"https://images.unsplash.com/photo-1512820790803-83ca734da794?w=300&h=400&fit=crop",description:"Relato e anlise da Guerra de Canudos e do serto nordestino.",publishedDate:"1902",pages:512,rating:4.5,genres:["Ensaios","Histria"],publisher:"Garnier",language:"pt-BR",isbn:"978-85-359-0291-7",categories:[{id:"classicos",name:"Clssicos",icon:""}],source:"local"},{id:"15",title:"1984",authors:["George Orwell"],author:"George Orwell",coverUrl:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?w=300&h=400&fit=crop",description:"Distopia clssica sobre vigilncia e autoritarismo.",publishedDate:"1949",pages:328,rating:4.6,genres:["Fico","Distopia"],publisher:"Secker & Warburg",language:"en",isbn:"978-0-452-28423-4",categories:[{id:"ficcao",name:"Fico",icon:""}],source:"local"},{id:"16",title:"Grande Gatsby",authors:["F. Scott Fitzgerald"],author:"F. Scott Fitzgerald",coverUrl:"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=300&h=400&fit=crop",description:"Retrato da alta sociedade americana nos anos 1920.",publishedDate:"1925",pages:180,rating:4.2,genres:["Fico","Clssico"],publisher:"Charles Scribner's Sons",language:"en",isbn:"978-0-7432-7356-5",categories:[{id:"ficcao",name:"Fico",icon:""}],source:"local"},{id:"17",title:"Cem Anos de Solido",authors:["Gabriel Garca Mrquez"],author:"Gabriel Garca Mrquez",coverUrl:"https://images.unsplash.com/photo-1528207776546-365bb710ee93?w=300&h=400&fit=crop",description:"Saga da famlia Buenda na mtica Macondo.",publishedDate:"1967",pages:417,rating:4.7,genres:["Fico","Realismo Mgico"],publisher:"Editorial Sudamericana",language:"es",isbn:"978-0-06-088328-7",categories:[{id:"ficcao",name:"Fico",icon:""}],source:"local"},{id:"18",title:"O Pequeno Prncipe",authors:["Antoine de Saint-Exupry"],author:"Antoine de Saint-Exupry",coverUrl:"https://images.unsplash.com/photo-1516979187457-637abb4f9353?w=300&h=400&fit=crop",description:"Um conto potico e filosfico para todas as idades.",publishedDate:"1943",pages:96,rating:4.8,genres:["Infantil","Fbula"],publisher:"Reynal & Hitchcock",language:"fr",isbn:"978-0-15-601219-5",categories:[{id:"ficcao",name:"Fico",icon:""}],source:"local"},{id:"19",title:"O Senhor dos Anis: A Sociedade do Anel",authors:["J.R.R. Tolkien"],author:"J.R.R. Tolkien",coverUrl:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?w=300&h=400&fit=crop",description:"A primeira parte da pica trilogia de fantasia.",publishedDate:"1954",pages:423,rating:4.9,genres:["Fantasia","Aventura"],publisher:"Allen & Unwin",language:"en",isbn:"978-0-618-00222-8",categories:[{id:"ficcao",name:"Fico",icon:""}],source:"local"},{id:"20",title:"A Metamorfose",authors:["Franz Kafka"],author:"Franz Kafka",coverUrl:"https://images.unsplash.com/photo-1519681393784-d120267933ba?w=300&h=400&fit=crop",description:"Conto sobre alienao e transformao.",publishedDate:"1915",pages:74,rating:4.1,genres:["Fico","Modernismo"],publisher:"Kurt Wolff Verlag",language:"de",isbn:"978-0-14-310524-4",categories:[{id:"ficcao",name:"Fico",icon:""}],source:"local"},{id:"21",title:"Ensaios de um Observador",authors:["Autor Exemplar"],author:"Autor Exemplar",coverUrl:"https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=300&h=400&fit=crop",description:"Uma coletnea fictcia de ensaios que refletem sobre cultura, tempo e memria.",publishedDate:"2010",pages:220,rating:4,genres:["Ensaio","Cultura"],publisher:"Editora Exemplo",language:"pt-BR",isbn:"978-85-000-0000-1",categories:[{id:"ensaio",name:"Ensaio",icon:""}],source:"local"},{id:"22",title:"Pequenos Portos",authors:["Mariana Costa"],author:"Mariana Costa",coverUrl:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?w=300&h=400&fit=crop",description:"Contos e ensaios sobre lugares e pessoas do litoral brasileiro.",publishedDate:"2018",pages:176,rating:4.2,genres:["Ensaio","Contos"],publisher:"Casa & Letras",language:"pt-BR",isbn:"978-85-000-0000-2",categories:[{id:"ensaio",name:"Ensaio",icon:""}],source:"local"},{id:"23",title:"Ensaios Sobre o Cotidiano",authors:["Ricardo Alves"],author:"Ricardo Alves",coverUrl:"https://images.unsplash.com/photo-1516979187457-637abb4f9353?w=300&h=400&fit=crop",description:"Reflexes curtas sobre hbitos, tecnologia e sociedade.",publishedDate:"2021",pages:142,rating:3.9,genres:["Ensaio","Sociologia"],publisher:"Observador",language:"pt-BR",isbn:"978-85-000-0000-3",categories:[{id:"ensaio",name:"Ensaio",icon:""}],source:"local"},{id:"24",title:"Manual do Viajante Imaginrio",authors:["Helena M."],author:"Helena M.",coverUrl:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop",description:"Um ensaio potico sobre viagens, memrias e a cidade.",publishedDate:"2015",pages:198,rating:4.1,genres:["Ensaio","Poesia"],publisher:"Rota Editorial",language:"pt-BR",isbn:"978-85-000-0000-4",categories:[{id:"ensaio",name:"Ensaio",icon:""}],source:"local"}];categories=[{id:"classicos",name:"Clssicos"},{id:"teatro",name:"Teatro"},{id:"modernismo",name:"Modernismo"},{id:"social",name:"Literatura Social"},{id:"romance",name:"Romance"},{id:"ficcao",name:"Fico"},{id:"ensaio",name:"Ensaio"}];async getAllBooks(){try{const e=await qb(20);return[...this.mockBooks,...e]}catch(e){return console.error("Error fetching Google Books:",e),[...this.mockBooks]}}async getBookById(e){const r=this.mockBooks.find(n=>n.id===e);if(r)return r;try{return await Jb(e)}catch(n){return console.error("Error fetching book by ID:",n),null}}async getFeaturedBooks(){try{const e=await Yb(4);return[...this.mockBooks.slice(0,2),...e].slice(0,8)}catch(e){return console.error("Error fetching featured books:",e),this.mockBooks.slice(0,4)}}async getTrendingBooks(){try{const e=await Qb(6);return[...this.mockBooks.slice(2,4),...e].slice(0,8)}catch(e){return console.error("Error fetching trending books:",e),this.mockBooks.slice(2,6)}}async getBooksByCategory(e){try{const r=this.mockBooks.filter(i=>i.categories.some(a=>a.id===e)),n=await Xb(e,10);return[...r,...n]}catch(r){return console.error("Error fetching books by category:",r),this.mockBooks.filter(n=>n.categories.some(i=>i.id===e))}}async searchBooks(e){try{const r=e.toLowerCase(),n=this.mockBooks.filter(a=>(a.title||"").toLowerCase().includes(r)||(a.author||"").toLowerCase().includes(r)||(a.description||"").toLowerCase().includes(r)||(a.genres||[]).some(l=>l.toLowerCase().includes(r))),i=await fi(e,15);return[...n,...i]}catch(r){console.error("Error searching books:",r);const n=e.toLowerCase();return this.mockBooks.filter(i=>(i.title||"").toLowerCase().includes(n)||(i.author||"").toLowerCase().includes(n)||(i.description||"").toLowerCase().includes(n)||(i.genres||[]).some(a=>a.toLowerCase().includes(n)))}}async getUserBooks(e){return this.userBooks.filter(r=>r.userId===e)}async getUserBooksByStatus(e,r){return this.userBooks.filter(n=>n.userId===e&&n.status===r)}async addBookToUser(e,r,n){if(this.userBooks.find(d=>d.userId===e&&d.book.id===r))throw new Error("Book already in library");const a=await this.getBookById(r);if(!a)throw new Error("Book not found");const l={id:`ub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,bookId:r,book:a,userId:e,status:n,progress:{currentPage:0,totalPages:a.pages||0,percentage:0,lastReadAt:new Date,timeSpentReading:0},addedAt:new Date,isFavorite:!1};return n===Ee.CURRENTLY_READING&&(l.startedAt=new Date),this.userBooks.push(l),l}async removeBookFromUser(e,r){this.userBooks=this.userBooks.filter(n=>!(n.userId===e&&n.book.id===r))}async updateUserBookProgress(e,r){const n=this.userBooks.find(l=>l.id===e);if(!n){const l=this.userBooks.find(d=>d.book.id===e);if(l){const d=l.progress?.totalPages||l.book.pages||0,f=Math.min(100,Math.round(r/(d||1)*100));return l.progress={...l.progress||{totalPages:d},currentPage:r,percentage:f,lastReadAt:new Date},f>=100&&l.status!==Ee.READ&&(l.status=Ee.READ,l.finishedAt=new Date),l}throw new Error("User book not found - book may not be in library")}const i=n.progress?.totalPages||n.book.pages||0,a=Math.min(100,Math.round(r/(i||1)*100));return n.progress={...n.progress||{totalPages:i},currentPage:r,percentage:a,lastReadAt:new Date},a>=100&&n.status!==Ee.READ&&(n.status=Ee.READ,n.finishedAt=new Date),n}async getBookContent(e){return`${e.title}
Por ${e.author}

Este  um modo de demonstrao do Eclipse Reads.

${e.description}

Esta  uma amostra do contedo disponvel. 

---

CAPTULO I

A histria de "${e.title}" nos transporta para um mundo fascinante, onde cada pgina revela aspectos nicos da narrativa criada por ${e.author}.

---

CAPTULO II

Os eventos se desenrolam de maneira envolvente, mostrando a maestria literria que torna esta obra especial.

---

[Demonstrao - Eclipse Reads]`}async updateUserBookStatus(e,r){const n=this.userBooks.find(a=>a.id===e);if(!n)throw new Error("User book not found");const i=n.status;return n.status=r,r===Ee.CURRENTLY_READING&&i!==Ee.CURRENTLY_READING?n.startedAt=new Date:r===Ee.READ&&i!==Ee.READ&&(n.finishedAt=new Date,n.completedAt=new Date,n.progress?(n.progress.currentPage=n.progress.totalPages||n.book.pages||0,n.progress.percentage=100):n.progress={currentPage:n.book.pages||0,totalPages:n.book.pages||0,percentage:100,lastReadAt:new Date,timeSpentReading:0}),n}async toggleUserBookFavorite(e){const r=this.userBooks.find(n=>n.id===e);if(!r)throw new Error("User book not found");return r.isFavorite=!r.isFavorite,r}getAvailableCategories(){return this.categories}}const HR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>hi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Jp extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class $y extends Jp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Fy extends Jp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zy extends Jp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lh||(Lh={}));var GR=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};class KR{constructor(e,{headers:r={},customFetch:n,region:i=Lh.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=HR(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return GR(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(f["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(f["Content-Type"]="application/json",g=JSON.stringify(l)));const y=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),i),body:g,signal:d}).catch(E=>{throw E.name==="AbortError"?E:new $y(E)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new Fy(y);if(!y.ok)throw new zy(y);let k=((n=y.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield y.json():k==="application/octet-stream"?S=yield y.blob():k==="text/event-stream"?S=y:k==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new $y(i)}:{data:null,error:i,response:i instanceof zy||i instanceof Fy?i.context:void 0}}})}}var St={},Ro={},Po={},Ao={},Do={},Io={},qR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ni=qR();const YR=ni.fetch,Zb=ni.fetch.bind(ni),e1=ni.Headers,XR=ni.Request,JR=ni.Response,hi=Object.freeze(Object.defineProperty({__proto__:null,Headers:e1,Request:XR,Response:JR,default:Zb,fetch:YR},Symbol.toStringTag,{value:"Module"})),QR=zC(hi);var mc={},Vy;function t1(){if(Vy)return mc;Vy=1,Object.defineProperty(mc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return mc.default=t,mc}var Wy;function r1(){if(Wy)return Io;Wy=1;var t=Io&&Io.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Io,"__esModule",{value:!0});const e=t(QR),r=t(t1());class n{constructor(a){var l,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(d=a.isMaybeSingle)!==null&&d!==void 0?d:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,g,y,b;let k=null,S=null,E=null,C=p.status,j=p.statusText;if(p.ok){if(this.method!=="HEAD"){const L=await p.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=L:S=JSON.parse(L))}const R=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");R&&M&&M.length>1&&(E=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(k={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,C=406,j="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const R=await p.text();try{k=JSON.parse(R),Array.isArray(k)&&p.status===404&&(S=[],k=null,C=200,j="OK")}catch{p.status===404&&R===""?(C=204,j="No Content"):k={message:R}}if(k&&this.isMaybeSingle&&(!((b=k?.details)===null||b===void 0)&&b.includes("0 rows"))&&(k=null,C=200,j="OK"),k&&this.shouldThrowOnError)throw new r.default(k)}return{error:k,data:S,count:E,status:C,statusText:j}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,g,y;return{error:{message:`${(m=p?.name)!==null&&m!==void 0?m:"FetchError"}: ${p?.message}`,details:`${(g=p?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=p?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}}return Io.default=n,Io}var Hy;function n1(){if(Hy)return Do;Hy=1;var t=Do&&Do.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Do,"__esModule",{value:!0});const e=t(r1());class r extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(p,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var m;const g=[i?"analyze":null,a?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${y}"; options=${g};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Do.default=r,Do}var Gy;function Qp(){if(Gy)return Ao;Gy=1;var t=Ao&&Ao.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ao,"__esModule",{value:!0});const e=t(n1());class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${p}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Ao.default=r,Ao}var Ky;function s1(){if(Ky)return Po;Ky=1;var t=Po&&Po.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Po,"__esModule",{value:!0});const e=t(Qp());class r{constructor(i,{headers:a={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=d}select(i,{head:a=!1,count:l}={}){const d=a?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var d;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:a}={}){var l;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Po.default=r,Po}var qy;function ZR(){if(qy)return Ro;qy=1;var t=Ro&&Ro.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ro,"__esModule",{value:!0});const e=t(s1()),r=t(Qp());class n{constructor(a,{headers:l={},schema:d,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=d,this.fetch=f}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:d=!1,get:f=!1,count:p}={}){var m;let g;const y=new URL(`${this.url}/rpc/${a}`);let b;d||f?(g=d?"HEAD":"GET",Object.entries(l).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{y.searchParams.append(S,E)})):(g="POST",b=l);const k=new Headers(this.headers);return p&&k.set("Prefer",`count=${p}`),new r.default({method:g,url:y,headers:k,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Ro.default=n,Ro}var Yy;function eP(){if(Yy)return St;Yy=1;var t=St&&St.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const e=t(ZR());St.PostgrestClient=e.default;const r=t(s1());St.PostgrestQueryBuilder=r.default;const n=t(Qp());St.PostgrestFilterBuilder=n.default;const i=t(n1());St.PostgrestTransformBuilder=i.default;const a=t(r1());St.PostgrestBuilder=a.default;const l=t(t1());return St.PostgrestError=l.default,St.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},St}var tP=eP();const rP=gp(tP),{PostgrestClient:nP,PostgrestQueryBuilder:G6,PostgrestFilterBuilder:K6,PostgrestTransformBuilder:q6,PostgrestBuilder:Y6,PostgrestError:X6}=rP;class sP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const oP="2.15.5",iP=`realtime-js/${oP}`,aP="1.0.0",Bh=1e4,lP=1e3,cP=100;var wa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wa||(wa={}));var vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vt||(vt={}));var Lr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Lr||(Lr={}));var Uh;(function(t){t.websocket="websocket"})(Uh||(Uh={}));var Vs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vs||(Vs={}));class uP{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const d=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:d,event:f,payload:p}}}class o1{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ge||(Ge={}));const Xy=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,l)=>(a[l]=dP(l,t,e,i),a),{})},dP=(t,e,r,n)=>{const i=e.find(d=>d.name===t),a=i?.type,l=r[t];return a&&!n.includes(a)?i1(a,l):$h(l)},i1=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mP(e,r)}switch(t){case Ge.bool:return fP(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return hP(e);case Ge.json:case Ge.jsonb:return pP(e);case Ge.timestamp:return gP(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return $h(e);default:return $h(e)}},$h=t=>t,fP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const l=t.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>i1(e,d))}return t},gP=t=>typeof t=="string"?t.replace(" ","T"):t,a1=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Wf{constructor(e,r,n={},i=Bh){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jy||(Jy={}));class ba{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ba.syncState(this.state,i,a,l),this.pendingDiffs.forEach(f=>{this.state=ba.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ba.syncDiff(this.state,i,a,l),d())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),l=this.transformState(r),d={},f={};return this.map(a,(p,m)=>{l[p]||(f[p]=m)}),this.map(l,(p,m)=>{const g=a[p];if(g){const y=m.map(E=>E.presence_ref),b=g.map(E=>E.presence_ref),k=m.filter(E=>b.indexOf(E.presence_ref)<0),S=g.filter(E=>y.indexOf(E.presence_ref)<0);k.length>0&&(d[p]=k),S.length>0&&(f[p]=S)}else d[p]=m}),this.syncDiff(a,{joins:d,leaves:f},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(d,f)=>{var p;const m=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),m.length>0){const g=e[d].map(b=>b.presence_ref),y=m.filter(b=>g.indexOf(b.presence_ref)<0);e[d].unshift(...y)}n(d,m,f)}),this.map(l,(d,f)=>{let p=e[d];if(!p)return;const m=f.map(g=>g.presence_ref);p=p.filter(g=>m.indexOf(g.presence_ref)<0),e[d]=p,i(d,p,f),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qy||(Qy={}));var Sa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sa||(Sa={}));var xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(xn||(xn={}));class Zp{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wf(this,Lr.join,this.params,this.timeout),this.rejoinTimer=new o1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ba(this),this.broadcastEndpointURL=a1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,p=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Sa.PRESENCE]&&this.bindings[Sa.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(xn.CHANNEL_ERROR,b)),this._onClose(()=>e?.(xn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var k;if(this.socket.setAuth(),b===void 0){e?.(xn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(k=S?.length)!==null&&k!==void 0?k:0,C=[];for(let j=0;j<E;j++){const N=S[j],{filter:{event:R,schema:M,table:L,filter:D}}=N,A=b&&b[j];if(A&&A.event===R&&A.schema===M&&A.table===L&&A.filter===D)C.push(Object.assign(Object.assign({},N),{id:A.id}));else{this.unsubscribe(),this.state=vt.errored,e?.(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(xn.SUBSCRIBED);return}}).receive("error",b=>{this.state=vt.errored,e?.(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===vt.joined&&e===Sa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Wf(this,Lr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wf(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const l=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:m}=Lr;if(n&&[d,f,p,m].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var k,S,E;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((E=(S=b.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(b=>b.callback(y,n)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var k,S,E,C,j,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const R=b.id,M=(k=b.filter)===null||k===void 0?void 0:k.event;return R&&((S=r.ids)===null||S===void 0?void 0:S.includes(R))&&(M==="*"||M?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const R=(j=(C=b?.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return R==="*"||R===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const k=y.data,{schema:S,table:E,commit_timestamp:C,type:j,errors:N}=k;y=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:C,eventType:j,new:{},old:{},errors:N}),this._getPayloadRecords(k))}b.callback(y,n)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Zp.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Lr.close,{},e)}_onError(e){this._on(Lr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Xy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Xy(e.columns,e.old_record)),r}}const Hf=()=>{},gc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vP=[1e3,2e3,5e3,1e4],yP=1e4,xP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wP{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bh,this.transport=null,this.heartbeatIntervalMs=gc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hf,this.ref=0,this.reconnectTimer=null,this.logger=Hf,this.conn=null,this.sendBuffer=[],this.serializer=new uP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>as(async()=>{const{default:d}=await Promise.resolve().then(()=>hi);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Uh.websocket}`,this.httpEndpoint=a1(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aP}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wa.connecting:return Vs.Connecting;case wa.open:return Vs.Open;case wa.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Zp(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,l=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:l}=r,d=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${n} ${i} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(n)).forEach(p=>p._trigger(i,a,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Lr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([xP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:iP};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Lr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new o1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,l,d,f,p,m;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Bh,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:gc.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Hf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(g=>vP[g-1]||yP),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((g,y)=>y(JSON.stringify(g))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class em extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ut(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bP extends em{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fh extends em{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var SP=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};const l1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>hi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},kP=()=>SP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>hi),void 0)).Response:Response}),zh=t=>{if(Array.isArray(t))return t.map(r=>zh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=zh(n)}),e},EP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ro=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};const Gf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_P=(t,e,r)=>ro(void 0,void 0,void 0,function*(){const n=yield kP();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const a=t.status||500,l=i?.statusCode||a+"";e(new bP(Gf(i),a,l))}).catch(i=>{e(new Fh(Gf(i),i))}):e(new Fh(Gf(t),t))}),CP=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(EP(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Ga(t,e,r,n,i,a){return ro(this,void 0,void 0,function*(){return new Promise((l,d)=>{t(r,CP(e,n,i,a)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>_P(f,d,n))})})}function Wc(t,e,r,n){return ro(this,void 0,void 0,function*(){return Ga(t,"GET",e,r,n)})}function Yr(t,e,r,n,i){return ro(this,void 0,void 0,function*(){return Ga(t,"POST",e,n,i,r)})}function Vh(t,e,r,n,i){return ro(this,void 0,void 0,function*(){return Ga(t,"PUT",e,n,i,r)})}function jP(t,e,r,n){return ro(this,void 0,void 0,function*(){return Ga(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function c1(t,e,r,n,i){return ro(this,void 0,void 0,function*(){return Ga(t,"DELETE",e,n,i,r)})}var NP=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};class TP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return NP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}var RP=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};class PP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new TP(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return RP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}var qt=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};const AP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DP{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=l1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return qt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Zy),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=n,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const p=this._removeEmptyFolders(r),m=this._getFinalPath(p),g=yield(e=="PUT"?Vh:Yr)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:d},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}upload(e,r,n){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return qt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",r);try{let f;const p=Object.assign({upsert:Zy.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",p.cacheControl)):(f=n,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const g=yield Vh(this.fetch,d.toString(),f,{headers:m});return{data:{path:a,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ut(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return qt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Yr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),d=l.searchParams.get("token");if(!d)throw new em("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}update(e,r,n){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return qt(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}copy(e,r,n){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Yr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return qt(this,void 0,void 0,function*(){try{const i=yield Yr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),l=a?`?${a}`:"",d=this._getFinalPath(e),f=()=>Wc(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new PP(f,this.shouldThrowOnError)}info(e){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Wc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:zh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}exists(e){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield jP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n)&&n instanceof Fh){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&i.push(f);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${p}`)}}}remove(e){return qt(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}list(e,r,n){return qt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},AP),r),{prefix:e||""});return{data:yield Yr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}listV2(e,r){return qt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Yr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const IP="2.12.2",MP={"X-Client-Info":`storage-js/${IP}`};var Mo=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};class OP{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},MP),r),this.fetch=l1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Mo(this,void 0,void 0,function*(){try{return{data:yield Wc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}getBucket(e){return Mo(this,void 0,void 0,function*(){try{return{data:yield Wc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Mo(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Mo(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Mo(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Mo(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}}class LP extends OP{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new DP(this.url,this.headers,e,this.fetch)}}const BP="2.58.0";let fa="";typeof Deno<"u"?fa="deno":typeof document<"u"?fa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fa="react-native":fa="node";const UP={"X-Client-Info":`supabase-js-${fa}/${BP}`},$P={headers:UP},FP={schema:"public"},zP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VP={};var WP=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};const HP=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zb:e=fetch,(...r)=>e(...r)},GP=()=>typeof Headers>"u"?e1:Headers,KP=(t,e,r)=>{const n=HP(r),i=GP();return(a,l)=>WP(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:t;let p=new i(l?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),n(a,Object.assign(Object.assign({},l),{headers:p}))})};var qP=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};function YP(t){return t.endsWith("/")?t:t+"/"}function XP(t,e){var r,n;const{db:i,auth:a,realtime:l,global:d}=t,{db:f,auth:p,realtime:m,global:g}=e,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>qP(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function JP(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const u1="2.72.0",Wo=30*1e3,Wh=3,Kf=Wh*Wo,QP="http://localhost:9999",ZP="supabase.auth.token",eA={"X-Client-Info":`gotrue-js/${u1}`},Hh="X-Supabase-Api-Version",d1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rA=600*1e3;class tm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nA extends tm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sA(t){return De(t)&&t.name==="AuthApiError"}class f1 extends tm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class gs extends tm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class rs extends gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oA(t){return De(t)&&t.name==="AuthSessionMissingError"}class aa extends gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vc extends gs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yc extends gs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iA(t){return De(t)&&t.name==="AuthImplicitGrantRedirectError"}class ex extends gs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gh extends gs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function qf(t){return De(t)&&t.name==="AuthRetryableFetchError"}class tx extends gs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Kh extends gs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rx=` 	
\r=`.split(""),aA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rx.length;e+=1)t[rx[e].charCodeAt(0)]=-2;for(let e=0;e<Hc.length;e+=1)t[Hc[e].charCodeAt(0)]=e;return t})();function nx(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hc[n]),e.queuedBits-=6}}function h1(t,e,r){const n=aA[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function sx(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{uA(l,n,r)};for(let l=0;l<t.length;l+=1)h1(t.charCodeAt(l),i,a);return e.join("")}function lA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cA(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lA(n,e)}}function uA(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function dA(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)h1(t.charCodeAt(i),r,n);return new Uint8Array(e)}function fA(t){const e=[];return cA(t,r=>e.push(r)),new Uint8Array(e)}function hA(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>nx(i,r,n)),nx(null,r,n),e.join("")}function pA(t){return Math.round(Date.now()/1e3)+t}function mA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const yr=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},p1=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function gA(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const m1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>hi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},vA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ho=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Bs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qn=async(t,e)=>{await t.removeItem(e)};class pu{constructor(){this.promise=new pu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}pu.promiseConstructor=Promise;function Yf(t){const e=t.split(".");if(e.length!==3)throw new Kh("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tA.test(e[n]))throw new Kh("JWT not in base64url format");return{header:JSON.parse(sx(e[0])),payload:JSON.parse(sx(e[1])),signature:dA(e[2]),raw:{header:e[0],payload:e[1]}}}async function yA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xA(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){n(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function wA(t){return("0"+t.toString(16)).substr(-2)}function bA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,wA).join("")}async function SA(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function kA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await SA(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oo(t,e,r=!1){const n=bA();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ho(t,`${e}-code-verifier`,i);const a=await kA(n);return[a,n===a?"plain":"s256"]}const EA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _A(t){const e=t.headers.get(Hh);if(!e||!e.match(EA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lo(t){if(!NA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ox(t){return JSON.parse(JSON.stringify(t))}var TA=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const zs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RA=[502,503,504];async function ix(t){var e;if(!vA(t))throw new Gh(zs(t),0);if(RA.includes(t.status))throw new Gh(zs(t),t.status);let r;try{r=await t.json()}catch(a){throw new f1(zs(a),a)}let n;const i=_A(t);if(i&&i.getTime()>=d1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tx(zs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new rs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new tx(zs(r),t.status,r.weak_password.reasons);throw new nA(zs(r),t.status||500,n)}const PA=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Le(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[Hh]||(a[Hh]=d1["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await AA(t,e,r+d,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function AA(t,e,r,n,i,a){const l=PA(e,n,i,a);let d;try{d=await t(r,Object.assign({},l))}catch(f){throw console.error(f),new Gh(zs(f),0)}if(d.ok||await ix(d),n?.noResolveJson)return d;try{return await d.json()}catch(f){await ix(f)}}function qr(t){var e;let r=null;OA(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=pA(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ax(t){const e=qr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function is(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DA(t){return{data:t,error:null}}function IA(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,l=TA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function MA(t){return t}function OA(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jf=["global","local","others"];var LA=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class BA{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=m1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Jf[0]){if(Jf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jf.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:is})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=LA(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IA,redirectTo:r?.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:is})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,l,d,f;try{const p={nextPage:null,lastPage:0,total:0},m=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:MA});if(m.error)throw m.error;const g=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(De(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Lo(e);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:is})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Lo(e);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:is})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Lo(e);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:is})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Lo(e.userId);try{const{data:r,error:n}=await Le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Lo(e.userId),Lo(e.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}}function lx(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function UA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bo={debug:!!(globalThis&&p1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $A extends g1{}async function FA(t,e,r){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $A(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function v1(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zA(t){return parseInt(t,16)}function VA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function WA(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:f,resources:p,scheme:m,uri:g,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=v1(t.address),k=m?`${m}://${n}`:n,S=t.statement?`${t.statement}
`:"",E=`${k} wants you to sign in with your Ethereum account:
${b}

${S}`;let C=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),f&&(C+=`
Request ID: ${f}`),p){let j=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);j+=`
- ${N}`}C+=j}return`${E}
${C}`}UA();const HA={url:QP,storageKey:ZP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cx(t,e,r){return await r()}const Uo={};class Pa{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pa.nextInstanceID,Pa.nextInstanceID+=1,this.instanceID>0&&yr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},HA),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new BA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=m1(i.fetch),this.lock=i.lock||cx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:yr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=FA:this.lock=cx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:p1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=lx(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Uo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Uo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${u1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=gA(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),yr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iA(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?{error:r}:{error:new f1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:qr}),{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:m,password:g,options:y}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await Oo(this.storage,this.storageKey)),a=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:k},xform:qr})}else if("phone"in e){const{phone:m,password:g,options:y}=e;a=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:qr})}else throw new vc("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:l,options:d}=e;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ax})}else if("phone"in e){const{phone:a,password:l,options:d}=e;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ax})}else throw new vc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new aa}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,l,d,f,p,m,g,y;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:S,wallet:E,statement:C,options:j}=e;let N;if(yr())if(typeof E=="object")N=E;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")N=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const R=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),M=await N.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=v1(M[0]);let D=(n=j?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const V=await N.request({method:"eth_chainId"});D=zA(V)}const A={domain:R.host,address:L,statement:C,uri:R.href,version:"1",chainId:D,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=WA(A),k=await N.request({method:"personal_sign",params:[VA(b),L]})}try{const{data:S,error:E}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:k},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:qr});if(E)throw E;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new aa}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:E})}catch(S){if(De(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var r,n,i,a,l,d,f,p,m,g,y,b;let k,S;if("message"in e)k=e.message,S=e.signature;else{const{chain:E,wallet:C,statement:j,options:N}=e;let R;if(yr())if(typeof C=="object")R=C;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))R=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const M=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const L=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),j?{statement:j}:null));let D;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")D=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)D=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)k=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${M.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=N?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(m=N?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const L=await R.signMessage(new TextEncoder().encode(k),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=L}}try{const{data:E,error:C}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:hA(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:qr});if(C)throw C;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new aa}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:C})}catch(E){if(De(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qr});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new aa}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(De(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=e,d=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:qr}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new aa}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,l;try{if("email"in e){const{email:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Oo(this.storage,this.storageKey));const{error:g}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:m}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:m}}throw new vc("You must provide either an email or phone number.")}catch(d){if(De(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:qr});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,p=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Oo(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:DA})}catch(a){if(De(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new rs;const{error:i}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(De(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:l}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:l,error:d}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new vc("You must provide either an email or phone number and a type")}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Kf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Bs(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Xf()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,m)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,m))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:is}):await this._useSession(async r=>{var n,i,a;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:is})})}catch(r){if(De(r))return oA(r)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new rs;const l=i.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Oo(this.storage,this.storageKey));const{data:p,error:m}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:is});if(m)throw m;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rs;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=Yf(e.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(De(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:d}=r;if(d)throw d;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new rs;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!yr())throw new yc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ex("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ex("No code detected.");const{data:j,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:d,expires_at:f,token_type:p}=e;if(!a||!d||!l||!p)throw new yc("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(d);let y=m+g;f&&(y=parseInt(f));const b=y-m;b*1e3<=Wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const k=y-g;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,y,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,y,m);const{data:S,error:E}=await this._getUser(a);if(E)throw E;const C={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:y,refresh_token:l,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(n){if(De(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,e);if(d&&!(sA(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=mA(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Oo(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(De(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,d,f,p,m;const{data:g,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return yr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(De(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xA(async i=>(i>0&&await yA(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qr})),(i,a)=>{const l=200*Math.pow(2,i);return a&&qf(a)&&Date.now()+l-n<Wo})}catch(n){if(this._debug(r,"error",n),De(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),yr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Bs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Bs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Ho(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:Xf()}else if(i&&!i.user&&!i.user){const l=await Bs(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Qn(this.storage,this.storageKey+"-user"),await Ho(this.storage,this.storageKey,i)):i.user=Xf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Kf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),qf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pu;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new rs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),De(a)){const l={session:null,error:a};return qf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ho(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=ox(i);await Ho(this.storage,this.storageKey,a)}else{const i=ox(r);await Ho(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wo}ms, refresh threshold is ${Wh} ticks`),i<=Wh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof g1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Oo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:d}=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=e?.factors||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Yf(i.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(d=>d.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+rA>i)return n;const{data:a,error:l}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:b,error:k}=await this.getSession();if(k||!b.session)return{data:null,error:k};n=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:d,payload:f}}=Yf(n);r?.allowExpired||CA(a.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const m=jA(i.alg),g=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,fA(`${d}.${f}`)))throw new Kh("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}}Pa.nextInstanceID=0;const GA=Pa;class KA extends GA{constructor(e){super(e)}}var qA=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function d(m){try{p(n.next(m))}catch(g){l(g)}}function f(m){try{p(n.throw(m))}catch(g){l(g)}}function p(m){m.done?a(m.value):i(m.value).then(d,f)}p((n=n.apply(t,e||[])).next())})};class YA{constructor(e,r,n){var i,a,l;this.supabaseUrl=e,this.supabaseKey=r;const d=JP(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:FP,realtime:VP,auth:Object.assign(Object.assign({},zP),{storageKey:f}),global:$P},m=XP(n??{},p);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=KP(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new nP(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new LP(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new KR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return qA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:l,flowType:d,lock:f,debug:p},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KA({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:l,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:d,lock:f,debug:p,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wP(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ux=(t,e,r)=>new YA(t,e,r);function XA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}XA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1rb2dvZmJ3a2d2amVoa2N3cWtyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1ODU2MzcsImV4cCI6MjA3NTE2MTYzN30.2UFD1rdWjiWvpGr4qhPCGm_5VC7CzsnNsAwz1mVGk8c",VITE_APP_SUPABASE_URL:"https://mkogofbwkgvjehkcwqkr.supabase.co",VITE_GOOGLE_BOOKS_API_KEY:""};var Zf={};let ns="",ss="",ds=null;function xc(t){return typeof import.meta<"u"&&Qf&&Qf[t]?Qf[t]:typeof process<"u"&&Zf&&Zf[t]?Zf[t]:typeof window<"u"&&window.ENV&&window.ENV[t]?window.ENV[t]:""}function rm(){console.log(" Initializing Supabase..."),ns=xc("VITE_APP_SUPABASE_URL")||xc("VITE_SUPABASE_URL"),ss=xc("VITE_APP_SUPABASE_ANON_KEY")||xc("VITE_SUPABASE_ANON_KEY"),console.log(" Environment detection:"),console.log("  - URL found:",ns?`${ns.substring(0,30)}...`:"No"),console.log("  - Key found:",ss?`${ss.substring(0,20)}...`:"No");const t=ns&&ns.includes("supabase.co"),e=ss&&ss.length>20;if(t&&e)try{return ds=ux(ns,ss),console.log(" Supabase client created successfully"),!0}catch(r){return console.error(" Failed to create Supabase client:",r),!1}else{if(console.warn("  Invalid Supabase credentials detected"),console.log("  - URL valid:",t),console.log("  - Key valid:",e),typeof window<"u"){const r=window.location.hostname;if(r.includes("make.figma.com")||r.includes("localhost")){console.log(" Connected environment detected, attempting to create client anyway...");try{return ds=ux(ns||"https://placeholder.supabase.co",ss||"placeholder-key"),console.log(" Supabase client created for connected environment"),!0}catch(n){console.error(" Failed to create client for connected environment:",n)}}}return!1}}rm();typeof window<"u"&&window.addEventListener("load",()=>{ds||(console.log(" Re-initializing Supabase after window load..."),rm())});const ze=ds;function mu(){const t={hasClient:!!ds,hasUrl:!!ns,hasKey:!!ss,isReady:!!ds};return console.log(" Supabase Status Check:",t),t}typeof window<"u"&&setTimeout(mu,1e3);const JA={async saveBook(t){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const e={id:t.id,title:t.title,authors:t.authors.join(", "),description:t.description||null,cover_url:t.coverUrl||null,language:t.language||"pt",publisher:t.publisher||null,published_date:t.publishedDate||null,page_count:t.pageCount||null,categories:t.categories?.join(", ")||null,isbn:t.isbn||null},{data:r,error:n}=await ze.from("books").upsert(e,{onConflict:"id"}).select().single();if(n)throw n;return{success:!0,book:r}}catch(e){return console.error("Error saving book:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},async getBook(t){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const{data:e,error:r}=await ze.from("books").select("*").eq("id",t).single();if(r)throw r;return{success:!0,book:e}}catch(e){return console.error("Error getting book:",e),{success:!1,error:e instanceof Error?e.message:"Book not found"}}}},dx={async addBookToLibrary(t,e,r,n){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{if(n){const a=await JA.saveBook(n);if(!a.success)return{success:!1,error:a.error}}const{data:i}=await ze.from("user_books").select("*").eq("user_id",t).eq("book_id",e).single();if(i){const{data:a,error:l}=await ze.from("user_books").update({status:r,updated_at:new Date().toISOString()}).eq("user_id",t).eq("book_id",e).select().single();if(l)throw l;return{success:!0,userBook:a}}else{const a={user_id:t,book_id:e,status:r,progress:0,notes:null},{data:l,error:d}=await ze.from("user_books").insert(a).select().single();if(d)throw d;return{success:!0,userBook:l}}}catch(i){return console.error("Error adding book to library:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}},async removeBookFromLibrary(t,e){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const{error:r}=await ze.from("user_books").delete().eq("user_id",t).eq("book_id",e);if(r)throw r;return{success:!0}}catch(r){return console.error("Error removing book from library:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async getUserLibrary(t){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const{data:e,error:r}=await ze.from("user_books").select(`
          *,
          books (*)
        `).eq("user_id",t).order("updated_at",{ascending:!1});if(r)throw r;return{success:!0,books:e?.map(i=>({id:i.books.id,title:i.books.title,author:i.books.authors?.split(", ")[0]||"Autor desconhecido",authors:i.books.authors?.split(", ")||[],description:i.books.description||"",coverUrl:i.books.cover_url,language:i.books.language||"pt",publisher:i.books.publisher,publishedDate:i.books.published_date,pages:i.books.page_count||0,pageCount:i.books.page_count||0,categories:i.books.categories?.split(", ").map((a,l)=>({id:`cat_${l}`,name:a.trim(),icon:""}))||[],isbn:i.books.isbn||"",rating:4,status:i.status,progress:i.progress,notes:i.notes,addedAt:i.added_at,updatedAt:i.updated_at}))||[]}}catch(e){return console.error("Error getting user library:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},async updateProgress(t,e,r){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const{error:n}=await ze.from("user_books").update({progress:r,updated_at:new Date().toISOString()}).eq("user_id",t).eq("book_id",e);if(n)throw n;return{success:!0}}catch(n){return console.error("Error updating progress:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},async updateNotes(t,e,r){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const{error:n}=await ze.from("user_books").update({notes:r,updated_at:new Date().toISOString()}).eq("user_id",t).eq("book_id",e);if(n)throw n;return{success:!0}}catch(n){return console.error("Error updating notes:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}};function Zn(){return ds||(console.log(" Attempting to reinitialize Supabase client..."),rm()),ds}const Us={async getCurrentUser(){const t=Zn();if(!t)return console.error(" Supabase client not available after initialization attempt"),{success:!1,error:"Supabase no est configurado. Verifique a conexo com o banco de dados."};try{const{data:{user:e},error:r}=await t.auth.getUser();if(r)throw r;return{success:!0,user:e}}catch(e){return console.error("Error getting current user:",e),{success:!1,error:e instanceof Error?e.message:"Erro desconhecido"}}},async signInWithGoogle(){console.log(" Iniciando login com Google...");const t=Zn();if(!t&&(console.error(" Supabase client not available"),await new Promise(n=>setTimeout(n,1e3)),!Zn()))return{success:!1,error:"Sistema de autenticao no disponvel. O Supabase no est configurado corretamente."};const e=t||Zn();if(!e)return{success:!1,error:"Sistema de autenticao no disponvel. O Supabase no est configurado corretamente."};try{console.log(" Iniciando OAuth com Google...");try{await e.auth.getSession(),console.log(" Supabase client is responsive")}catch(i){console.warn(" Supabase client test failed:",i)}const{data:r,error:n}=await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw console.error(" OAuth error:",n),n;return console.log(" OAuth iniciado com sucesso - redirecionando..."),{success:!0,data:r}}catch(r){console.error(" Google login failed:",r);let n="Erro ao conectar com Google";if(r instanceof Error){const i=r.message.toLowerCase();i.includes("not configured")||i.includes("oauth")?n="Login com Google no est configurado. Entre em contato com o suporte.":i.includes("redirect")||i.includes("url")?n="Erro de configurao de redirecionamento. Tente novamente.":i.includes("network")||i.includes("fetch")||i.includes("connection")?n="Erro de conexo. Verifique sua internet e tente novamente.":i.includes("cors")?n="Erro de configurao de segurana. Contate o suporte.":n=`Erro de autenticao: ${r.message}`}return{success:!1,error:n}}},async signInWithEmail(t,e){const r=Zn();if(!r)return{success:!1,error:"Sistema de autenticao no disponvel. Verifique a configurao."};try{const{data:n,error:i}=await r.auth.signInWithPassword({email:t,password:e});if(i)throw i;return{success:!0,user:n.user}}catch(n){return console.error("Error signing in with email:",n),{success:!1,error:n instanceof Error?n.message:"Email ou senha invlidos"}}},async signUpWithEmail(t,e,r){const n=Zn();if(!n)return{success:!1,error:"Sistema de autenticao no disponvel. Verifique a configurao."};try{const{data:i,error:a}=await n.auth.signUp({email:t,password:e,options:{data:{name:r}}});if(a)throw a;const l=!i.session;return{success:!0,user:i.user,requiresConfirmation:l}}catch(i){return console.error("Error signing up with email:",i),{success:!1,error:i instanceof Error?i.message:"Erro ao criar conta"}}},async signOut(){const t=Zn();if(!t)return console.warn("Supabase client not available, performing local logout only"),{success:!0};try{const{error:e}=await t.auth.signOut();if(e)throw e;return{success:!0}}catch(e){return console.error("Error signing out:",e),{success:!0}}},onAuthStateChange(t){const e=Zn();if(!e)return console.warn("Supabase client not available for auth state changes"),{data:{subscription:{unsubscribe:()=>{}}}};try{return e.auth.onAuthStateChange((r,n)=>{console.log(" Auth state changed:",r,n?.user?.email||"no user"),t(n?.user||null)})}catch(r){return console.error("Error setting up auth state listener:",r),{data:{subscription:{unsubscribe:()=>{}}}}}}},fx={async getProfile(t){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const{data:e,error:r}=await ze.from("profiles").select("*").eq("id",t).single();if(r)throw r;return{success:!0,profile:e}}catch(e){return console.error("Error getting profile:",e),{success:!1,error:e instanceof Error?e.message:"Erro ao buscar perfil"}}},async updateProfile(t,e){if(!ze)return{success:!1,error:"Supabase not configured. Please set up your Supabase credentials."};try{const{data:r,error:n}=await ze.from("profiles").update(e).eq("id",t).select().single();if(n)throw n;return{success:!0,profile:r}}catch(r){return console.error("Error updating profile:",r),{success:!1,error:r instanceof Error?r.message:"Erro ao atualizar perfil"}}}};console.log(ze);const QA={user:null,isAuthenticated:!1,isLoading:!0,userBooks:[],currentlyReading:[],theme:"light"};function ZA(t,e){switch(e.type){case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_USER":return{...t,user:e.payload};case"SET_AUTHENTICATED":return{...t,isAuthenticated:e.payload};case"SET_USER_BOOKS":return{...t,userBooks:e.payload};case"SET_CURRENTLY_READING":return{...t,currentlyReading:e.payload};case"SET_THEME":return{...t,theme:e.payload};case"ADD_USER_BOOK":if(t.userBooks.some(p=>p.book.id===e.payload.book.id)){console.log("Book already exists, updating status:",e.payload.book.title);const p=t.userBooks.map(g=>g.book.id===e.payload.book.id?{...g,...e.payload,id:g.id}:g),m=p.filter(g=>g.status===Ee.CURRENTLY_READING);return{...t,userBooks:p,currentlyReading:m}}const n=[...t.userBooks,e.payload],i=n.filter(p=>p.status===Ee.CURRENTLY_READING);return{...t,userBooks:n,currentlyReading:i};case"UPDATE_USER_BOOK":const a=t.userBooks.map(p=>p.id===e.payload.id?e.payload:p),l=a.filter(p=>p.status===Ee.CURRENTLY_READING);return{...t,userBooks:a,currentlyReading:l};case"UPDATE_USER_PROFILE":return{...t,user:t.user?{...t.user,...e.payload}:null};case"TOGGLE_FAVORITE":const d=t.userBooks.map(p=>p.book.id===e.payload?{...p,isFavorite:!p.isFavorite}:p),f=d.filter(p=>p.status===Ee.CURRENTLY_READING);return{...t,userBooks:d,currentlyReading:f};default:return t}}const y1=x.createContext(void 0);function eD({children:t}){const[e,r]=x.useReducer(ZA,QA),n={userRepository:new DR,bookRepository:new WR};x.useEffect(()=>{if((async()=>{if(!ze){console.log("Supabase no configurado, usando modo local"),r({type:"SET_LOADING",payload:!1});return}try{const d=await Us.getCurrentUser();if(d.success&&d.user){console.log("Usurio Supabase encontrado:",d.user.email);const f=await fx.getProfile(d.user.id);if(f.success&&f.profile){const p={id:d.user.id,name:f.profile.name||d.user.email?.split("@")[0]||"Usurio",nickname:f.profile.nickname,email:d.user.email||"",avatar:f.profile.avatar,banner:f.profile.banner,createdAt:new Date(d.user.created_at||Date.now()),accountType:f.profile.account_type,planType:f.profile.plan_type,preferences:{theme:"light",language:"pt-BR",notifications:{dailyReminder:!0,weeklyProgress:!0,newRecommendations:!0},readingGoals:{booksPerYear:12,minutesPerDay:30}},statistics:{booksRead:0,currentlyReading:0,favorites:0,toReadCount:0,droppedCount:0,booksLiked:0,chaptersRead:0,totalReadingTime:0,streak:0,favoriteGenre:"Fico"}};r({type:"SET_USER",payload:p}),r({type:"SET_AUTHENTICATED",payload:!0}),await i(d.user.id)}}}catch(d){console.error("Erro ao verificar autenticao Supabase:",d)}finally{r({type:"SET_LOADING",payload:!1})}})(),ze){const{data:d}=Us.onAuthStateChange(async f=>{if(f){console.log("Auth state changed: user logged in");const p=await fx.getProfile(f.id);if(p.success&&p.profile){const m={id:f.id,name:p.profile.name||f.email?.split("@")[0]||"Usurio",nickname:p.profile.nickname,email:f.email||"",avatar:p.profile.avatar,banner:p.profile.banner,createdAt:new Date(f.created_at||Date.now()),accountType:p.profile.account_type,planType:p.profile.plan_type,preferences:{theme:"light",language:"pt-BR",notifications:{dailyReminder:!0,weeklyProgress:!0,newRecommendations:!0},readingGoals:{booksPerYear:12,minutesPerDay:30}},statistics:{booksRead:0,currentlyReading:0,favorites:0,toReadCount:0,droppedCount:0,booksLiked:0,chaptersRead:0,totalReadingTime:0,streak:0,favoriteGenre:"Fico"}};r({type:"SET_USER",payload:m}),r({type:"SET_AUTHENTICATED",payload:!0}),await i(f.id)}}else console.log("Auth state changed: user logged out"),r({type:"SET_USER",payload:null}),r({type:"SET_AUTHENTICATED",payload:!1}),r({type:"SET_USER_BOOKS",payload:[]}),r({type:"SET_CURRENTLY_READING",payload:[]})});return()=>{d.subscription.unsubscribe()}}},[]);const i=async l=>{try{console.log("Loading user data for userId:",l);const d=await n.bookRepository.getUserBooks(l),f=await n.bookRepository.getUserBooksByStatus(l,Ee.CURRENTLY_READING);console.log("Loaded userBooks:",d.length),console.log("Loaded currentlyReading:",f.length);const p=d.filter((g,y,b)=>y===b.findIndex(k=>k.book.id===g.book.id)),m=p.filter(g=>g.status===Ee.CURRENTLY_READING);r({type:"SET_USER_BOOKS",payload:p}),r({type:"SET_CURRENTLY_READING",payload:m}),console.log("Successfully loaded user data. UserBooks in state:",p.length)}catch(d){console.error("Failed to load user data:",d)}},a=x.useMemo(()=>({upgradeToPremium:async()=>{if(!e.user)throw new Error("Usurio no encontrado para fazer upgrade.");console.log(`Upgrading user ${e.user.id} to premium...`);const l=await n.userRepository.updateUser({accountType:"premium",planType:"premium"});r({type:"SET_USER",payload:l}),console.log("User upgraded to premium.")},repositories:n,login:async(l,d)=>{r({type:"SET_LOADING",payload:!0});try{if(!l||typeof l!="string")throw new Error("Email invlido");if(!d||typeof d!="string")throw new Error("Senha invlida");try{const p=await Us.signInWithEmail(l,d);if(p.success&&p.user){console.log("AuthService signInWithEmail succeeded for",l);return}console.warn("AuthService signInWithEmail did not return a user:",p.error)}catch(p){console.warn("AuthService signInWithEmail threw error, falling back to mock:",p)}const f=await n.userRepository.loginUser(l,d);r({type:"SET_USER",payload:f}),r({type:"SET_AUTHENTICATED",payload:!0}),await i(f.id)}catch(f){throw console.error("Login failed:",f),f}finally{r({type:"SET_LOADING",payload:!1})}},signUp:async(l,d,f)=>{r({type:"SET_LOADING",payload:!0});try{if(!l||typeof l!="string")throw new Error("Email invlido");if(!d||typeof d!="string")throw new Error("Senha invlida");if(!f||typeof f!="string")throw new Error("Nome invlido");try{const m=await Us.signUpWithEmail(l,d,f);if(m.success){if(m.user&&!m.requiresConfirmation){console.log("AuthService signUpWithEmail succeeded and user is confirmed for",l);return}if(m.requiresConfirmation)throw console.warn("Sign up requires email confirmation for",l),new Error("confirma_email");if(m.user&&!m.requiresConfirmation)try{const g=await Us.signInWithEmail(l,d);if(g.success&&g.user){console.log("Automatic sign-in after signup succeeded for",l);return}}catch(g){console.warn("Automatic sign-in after signup failed, will fallback to mock:",g)}}else console.warn("AuthService signUpWithEmail returned failure:",m.error)}catch(m){if(m instanceof Error&&m.message==="confirma_email")throw m;console.warn("AuthService signUpWithEmail threw error or did not finish, falling back to mock:",m)}const p=await n.userRepository.createUser(l,f);r({type:"SET_USER",payload:p}),r({type:"SET_AUTHENTICATED",payload:!0}),await i(p.id)}catch(p){throw console.error("Sign up failed:",p),p}finally{r({type:"SET_LOADING",payload:!1})}},loginWithGoogle:async()=>{r({type:"SET_LOADING",payload:!0});try{console.log(" Starting Google login process...");const l=await Us.signInWithGoogle();if(!l.success)throw console.error(" Google login failed:",l.error),new Error(l.error||"Falha no login com Google");console.log(" Google login initiated successfully - redirecting...")}catch(l){throw console.error(" Google login error:",l),r({type:"SET_LOADING",payload:!1}),l}},loginAsGuest:async()=>{r({type:"SET_LOADING",payload:!0});try{const l=await n.userRepository.createGuestUser();r({type:"SET_USER",payload:l}),r({type:"SET_AUTHENTICATED",payload:!0}),await i(l.id)}catch(l){console.error("Guest login failed:",l)}finally{r({type:"SET_LOADING",payload:!1})}},logout:async()=>{ze&&await Us.signOut(),r({type:"SET_USER",payload:null}),r({type:"SET_AUTHENTICATED",payload:!1}),r({type:"SET_USER_BOOKS",payload:[]}),r({type:"SET_CURRENTLY_READING",payload:[]})},loadUserData:async l=>{const d=l||e.user?.id;if(!d){console.warn("loadUserData called but no user ID available");return}try{console.log("Loading user data for userId:",d);const f=await n.bookRepository.getUserBooks(d),p=await n.bookRepository.getUserBooksByStatus(d,Ee.CURRENTLY_READING),m=f.filter((y,b,k)=>b===k.findIndex(S=>S.book.id===y.book.id)),g=m.filter(y=>y.status===Ee.CURRENTLY_READING);r({type:"SET_USER_BOOKS",payload:m}),r({type:"SET_CURRENTLY_READING",payload:g})}catch(f){console.error("Failed to load user data:",f)}},canAddMoreBooks:()=>{if(!e.user)return!1;if(e.user.accountType==="registered"||e.user.accountType==="guest")return!0;const l=e.userBooks.length,d=e.user.limitations?.maxBooks||5;return l<d},addBookToLibrary:async(l,d,f)=>{const p=e.user?.id;if(console.log("DEBUG addBookToLibrary called with",{bookId:l,status:d,currentUserId:p}),!p)return{success:!1,message:"Usurio no encontrado"};try{if(e.user?.accountType==="registered"){const m=await dx.addBookToLibrary(p,l,d,f);if(console.log("DEBUG addBookToLibrary - UserBookService result:",m),m.success){const g=await dx.getUserLibrary(p);if(g.success&&g.books){const y=g.books.map(k=>({id:`${p}_${k.id}`,userId:p,book:k,status:k.status,addedAt:k.addedAt||new Date().toISOString(),currentPage:k.progress||0}));r({type:"SET_USER_BOOKS",payload:y});const b=y.filter(k=>k.status===Ee.CURRENTLY_READING);r({type:"SET_CURRENTLY_READING",payload:b})}return{success:!0,message:"Livro adicionado  biblioteca!"}}else return{success:!1,message:m.error||"Erro ao adicionar livro"}}else{const m=await n.bookRepository.getUserBooks(p),g=m.find(b=>b.book.id===l);if(g)if(g.status!==d){console.log(`Updating existing book "${g.book.title}" from ${g.status} to ${d}`);const b=await n.bookRepository.updateUserBookStatus(g.id,d);return console.log("DEBUG addBookToLibrary - updatedUserBook (mock):",b),r({type:"UPDATE_USER_BOOK",payload:b}),await i(p),{success:!0,message:"Status do livro atualizado!",userBook:b}}else return console.log(`Book "${g.book.title}" already has status ${d}`),e.userBooks.length!==m.length&&r({type:"SET_USER_BOOKS",payload:m}),{success:!0,message:"Livro j possui este status!",userBook:g};const y=await n.bookRepository.addBookToUser(p,l,d);if(console.log("DEBUG addBookToLibrary - addBookToUser returned",y),r({type:"ADD_USER_BOOK",payload:y}),await i(p),e.user?.accountType==="guest"&&e.user.limitations){const b={...e.user,limitations:{...e.user.limitations,currentBookCount:e.user.limitations.currentBookCount+1}};r({type:"SET_USER",payload:b})}return{success:!0,userBook:y}}}catch(m){if(console.error("Failed to add book:",m),m instanceof Error&&m.message.includes("already in library"))try{return await i(p),{success:!1,message:"Este livro j foi adicionado!",userBook:(await n.bookRepository.getUserBooks(p)).find(b=>b.book.id===l)}}catch(g){console.error("Failed to refresh after race condition:",g)}return{success:!1,message:"Erro ao adicionar livro"}}},removeBookFromLibrary:async l=>{const d=e.user?.id;if(!d)return{success:!1,message:"Usurio no encontrado"};try{await n.bookRepository.removeBookFromUser(d,l);const f=e.userBooks.filter(m=>m.book.id!==l),p=f.filter(m=>m.status===Ee.CURRENTLY_READING);if(r({type:"SET_USER_BOOKS",payload:f}),r({type:"SET_CURRENTLY_READING",payload:p}),e.user?.accountType==="guest"&&e.user.limitations){const m={...e.user,limitations:{...e.user.limitations,currentBookCount:Math.max(0,e.user.limitations.currentBookCount-1)}};r({type:"SET_USER",payload:m})}return{success:!0}}catch(f){return console.error("Failed to remove book:",f),{success:!1,message:"Erro ao remover livro"}}},updateReadingProgress:async(l,d)=>{try{console.log("Updating reading progress for userBookId:",l,"page:",d);const f=await n.bookRepository.updateUserBookProgress(l,d);console.log("Progress updated successfully, dispatching update"),r({type:"UPDATE_USER_BOOK",payload:f})}catch(f){if(console.error("Failed to update progress:",f),f instanceof Error&&f.message.includes("User book not found")){console.log("UserBook not found, attempting to reload user data");const p=e.user?.id;if(p)try{if(await i(p),console.log("User data reloaded, attempting progress update again"),(await n.bookRepository.getUserBooks(p)).find(y=>y.id===l)){const y=await n.bookRepository.updateUserBookProgress(l,d);r({type:"UPDATE_USER_BOOK",payload:y}),console.log("Progress update succeeded on retry")}else console.warn("UserBook still not found after reload, progress not saved")}catch(m){console.error("Failed to reload user data after progress update error:",m)}}}},setTheme:l=>{r({type:"SET_THEME",payload:l})},updateProfile:async l=>{if(!e.user)throw new Error("Usurio no encontrado");try{const d=await n.userRepository.updateUser({...l});r({type:"UPDATE_USER_PROFILE",payload:l}),console.log("Profile updated successfully")}catch(d){throw console.error("Failed to update profile:",d),d}},calculateUserStatistics:()=>!e.user||!e.userBooks?{booksRead:0,currentlyReading:0,favorites:0,toReadCount:0,droppedCount:0,booksLiked:0,chaptersRead:0,totalReadingTime:0,streak:0,favoriteGenre:"Fico"}:{booksRead:e.userBooks.filter(d=>d.status===Ee.READ).length,currentlyReading:e.userBooks.filter(d=>d.status===Ee.CURRENTLY_READING).length,favorites:e.userBooks.filter(d=>d.status===Ee.WANT_TO_READ).length,toReadCount:e.userBooks.filter(d=>d.status===Ee.WANT_TO_READ).length,droppedCount:0,booksLiked:e.userBooks.filter(d=>d.isFavorite).length,chaptersRead:e.userBooks.reduce((d,f)=>d+(f.progress?.currentPage||0),0),totalReadingTime:e.userBooks.reduce((d,f)=>d+(f.progress?.timeSpentReading||0),0),streak:e.user.statistics?.streak||0,favoriteGenre:e.user.statistics?.favoriteGenre||"Fico"},toggleFavorite:async l=>{const d=e.user?.id;if(!d)return{success:!1,message:"Usurio no encontrado"};try{const p=(await n.bookRepository.getUserBooks(d)).find(b=>b.book.id===l);if(!p){const b=await n.bookRepository.addBookToUser(d,l,Ee.WANT_TO_READ),k=await n.bookRepository.toggleUserBookFavorite(b.id);if(r({type:"ADD_USER_BOOK",payload:k}),e.user?.accountType==="guest"&&e.user.limitations){const S={...e.user,limitations:{...e.user.limitations,currentBookCount:e.user.limitations.currentBookCount+1}};r({type:"SET_USER",payload:S})}return{success:!0,message:"Livro adicionado aos favoritos!"}}const m=await n.bookRepository.toggleUserBookFavorite(p.id);let g=m;if(m.isFavorite&&m.status!==Ee.WANT_TO_READ&&(g=await n.bookRepository.updateUserBookStatus(m.id,Ee.WANT_TO_READ)),r({type:"UPDATE_USER_BOOK",payload:g}),g.status!==p.status){const b=await n.bookRepository.getUserBooksByStatus(d,Ee.CURRENTLY_READING);r({type:"SET_CURRENTLY_READING",payload:b})}return await i(d),{success:!0,message:g.isFavorite?"Livro adicionado aos favoritos!":"Livro removido dos favoritos!"}}catch(f){if(console.error("Failed to toggle favorite:",f),f instanceof Error&&f.message.includes("already in library"))try{return await a.loadUserData(d),{success:!1,message:"Este livro j foi adicionado!"}}catch(p){console.error("Failed to reload after duplicate error:",p)}if(f instanceof Error&&f.message.includes("User book not found"))try{return await a.loadUserData(d),{success:!1,message:"Estado sincronizado. Tente novamente."}}catch(p){console.error("Failed to reload after not found error:",p)}return{success:!1,message:"Erro ao alterar favorito"}}}}),[n,e.user]);return c.jsx(y1.Provider,{value:{state:e,actions:a,repositories:n},children:t})}function ir(){const t=x.useContext(y1);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t}const tD="/assets/6774daf17ccef97bebb1bd19b41e6c57f42afb54-9zL0fUNJ.png";function x1({className:t="w-16 h-16"}){return c.jsx("img",{src:tD,alt:"Eclipse Reads Logo",className:t})}function gu(t){const[e,r]=x.useState(!1);return x.useEffect(()=>{const n=window.matchMedia(t);r(n.matches);const i=a=>{r(a.matches)};return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[t]),e}const rD=()=>gu("(max-width: 480px)"),nD=()=>gu("(min-width: 481px) and (max-width: 1024px)"),Ka=()=>gu("(min-width: 1025px)"),vu=()=>gu("(min-width: 768px)");var qa=lw();const w1=gp(qa);function sD(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const oD=t=>{switch(t){case"success":return lD;case"info":return uD;case"warning":return cD;case"error":return dD;default:return null}},iD=Array(12).fill(0),aD=({visible:t,className:e})=>ie.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ie.createElement("div",{className:"sonner-spinner"},iD.map((r,n)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),lD=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cD=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uD=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dD=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fD=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hD=()=>{const[t,e]=ie.useState(document.hidden);return ie.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let qh=1;class pD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,a=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:qh++,l=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:n}),{...f,...e,id:a,dismissible:d,title:n}):f):this.addToast({title:n,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=n!==void 0,l;const d=i.then(async p=>{if(l=["resolve",p],ie.isValidElement(p))a=!1,this.create({id:n,type:"default",message:p});else if(gD(p)&&!p.ok){a=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,k=typeof g=="object"&&!ie.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...k})}else if(p instanceof Error){a=!1;const g=typeof r.error=="function"?await r.error(p):r.error,y=typeof r.description=="function"?await r.description(p):r.description,k=typeof g=="object"&&!ie.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:y,...k})}else if(r.success!==void 0){a=!1;const g=typeof r.success=="function"?await r.success(p):r.success,y=typeof r.description=="function"?await r.description(p):r.description,k=typeof g=="object"&&!ie.isValidElement(g)?g:{message:g};this.create({id:n,type:"success",description:y,...k})}}).catch(async p=>{if(l=["reject",p],r.error!==void 0){a=!1;const m=typeof r.error=="function"?await r.error(p):r.error,g=typeof r.description=="function"?await r.description(p):r.description,b=typeof m=="object"&&!ie.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:g,...b})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((p,m)=>d.then(()=>l[0]==="reject"?m(l[1]):p(l[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(e,r)=>{const n=r?.id||qh++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yt=new pD,mD=(t,e)=>{const r=e?.id||qh++;return Yt.addToast({title:t,...e,id:r}),r},gD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vD=mD,yD=()=>Yt.toasts,xD=()=>Yt.getActiveToasts(),re=Object.assign(vD,{success:Yt.success,info:Yt.info,warning:Yt.warning,error:Yt.error,custom:Yt.custom,message:Yt.message,promise:Yt.promise,dismiss:Yt.dismiss,loading:Yt.loading},{getHistory:yD,getToasts:xD});sD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wc(t){return t.label!==void 0}const wD=3,bD="24px",SD="16px",hx=4e3,kD=356,ED=14,_D=45,CD=200;function Kr(...t){return t.filter(Boolean).join(" ")}function jD(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const ND=t=>{var e,r,n,i,a,l,d,f,p;const{invert:m,toast:g,unstyled:y,interacting:b,setHeights:k,visibleToasts:S,heights:E,index:C,toasts:j,expanded:N,removeToast:R,defaultRichColors:M,closeButton:L,style:D,cancelButtonStyle:A,actionButtonStyle:V,className:H="",descriptionClassName:Z="",duration:ce,position:ae,gap:ue,expandByDefault:ye,classNames:Y,icons:q,closeButtonAriaLabel:T="Close toast"}=t,[U,F]=ie.useState(null),[I,G]=ie.useState(null),[X,se]=ie.useState(!1),[de,pe]=ie.useState(!1),[K,le]=ie.useState(!1),[J,ne]=ie.useState(!1),[me,Pe]=ie.useState(!1),[Je,nt]=ie.useState(0),[ar,on]=ie.useState(0),Jt=ie.useRef(g.duration||ce||hx),wi=ie.useRef(null),Qt=ie.useRef(null),xs=C===0,Cn=C+1<=S,Ct=g.type,an=g.dismissible!==!1,el=g.className||"",tl=g.descriptionClassName||"",ws=ie.useMemo(()=>E.findIndex(Ae=>Ae.toastId===g.id)||0,[E,g.id]),bi=ie.useMemo(()=>{var Ae;return(Ae=g.closeButton)!=null?Ae:L},[g.closeButton,L]),bs=ie.useMemo(()=>g.duration||ce||hx,[g.duration,ce]),oo=ie.useRef(0),lr=ie.useRef(0),jn=ie.useRef(0),Nn=ie.useRef(null),[rl,nl]=ae.split("-"),sl=ie.useMemo(()=>E.reduce((Ae,st,ht)=>ht>=ws?Ae:Ae+st.height,0),[E,ws]),io=hD(),Si=g.invert||m,Ss=Ct==="loading";lr.current=ie.useMemo(()=>ws*ue+sl,[ws,sl]),ie.useEffect(()=>{Jt.current=bs},[bs]),ie.useEffect(()=>{se(!0)},[]),ie.useEffect(()=>{const Ae=Qt.current;if(Ae){const st=Ae.getBoundingClientRect().height;return on(st),k(ht=>[{toastId:g.id,height:st,position:g.position},...ht]),()=>k(ht=>ht.filter(Pt=>Pt.toastId!==g.id))}},[k,g.id]),ie.useLayoutEffect(()=>{if(!X)return;const Ae=Qt.current,st=Ae.style.height;Ae.style.height="auto";const ht=Ae.getBoundingClientRect().height;Ae.style.height=st,on(ht),k(Pt=>Pt.find(lt=>lt.toastId===g.id)?Pt.map(lt=>lt.toastId===g.id?{...lt,height:ht}:lt):[{toastId:g.id,height:ht,position:g.position},...Pt])},[X,g.title,g.description,k,g.id,g.jsx,g.action,g.cancel]);const cr=ie.useCallback(()=>{pe(!0),nt(lr.current),k(Ae=>Ae.filter(st=>st.toastId!==g.id)),setTimeout(()=>{R(g)},CD)},[g,R,k,lr]);ie.useEffect(()=>{if(g.promise&&Ct==="loading"||g.duration===1/0||g.type==="loading")return;let Ae;return N||b||io?(()=>{if(jn.current<oo.current){const Pt=new Date().getTime()-oo.current;Jt.current=Jt.current-Pt}jn.current=new Date().getTime()})():(()=>{Jt.current!==1/0&&(oo.current=new Date().getTime(),Ae=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),cr()},Jt.current))})(),()=>clearTimeout(Ae)},[N,b,g,Ct,io,cr]),ie.useEffect(()=>{g.delete&&(cr(),g.onDismiss==null||g.onDismiss.call(g,g))},[cr,g.delete]);function ki(){var Ae;if(q?.loading){var st;return ie.createElement("div",{className:Kr(Y?.loader,g==null||(st=g.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Ct==="loading"},q.loading)}return ie.createElement(aD,{className:Kr(Y?.loader,g==null||(Ae=g.classNames)==null?void 0:Ae.loader),visible:Ct==="loading"})}const Tn=g.icon||q?.[Ct]||oD(Ct);var ln,Ei;return ie.createElement("li",{tabIndex:0,ref:Qt,className:Kr(H,el,Y?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,Y?.default,Y?.[Ct],g==null||(r=g.classNames)==null?void 0:r[Ct]),"data-sonner-toast":"","data-rich-colors":(ln=g.richColors)!=null?ln:M,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":X,"data-promise":!!g.promise,"data-swiped":me,"data-removed":de,"data-visible":Cn,"data-y-position":rl,"data-x-position":nl,"data-index":C,"data-front":xs,"data-swiping":K,"data-dismissible":an,"data-type":Ct,"data-invert":Si,"data-swipe-out":J,"data-swipe-direction":I,"data-expanded":!!(N||ye&&X),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":j.length-C,"--offset":`${de?Je:lr.current}px`,"--initial-height":ye?"auto":`${ar}px`,...D,...g.style},onDragEnd:()=>{le(!1),F(null),Nn.current=null},onPointerDown:Ae=>{Ae.button!==2&&(Ss||!an||(wi.current=new Date,nt(lr.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(le(!0),Nn.current={x:Ae.clientX,y:Ae.clientY})))},onPointerUp:()=>{var Ae,st,ht;if(J||!an)return;Nn.current=null;const Pt=Number(((Ae=Qt.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rn=Number(((st=Qt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lt=new Date().getTime()-((ht=wi.current)==null?void 0:ht.getTime()),yt=U==="x"?Pt:Rn,Pn=Math.abs(yt)/lt;if(Math.abs(yt)>=_D||Pn>.11){nt(lr.current),g.onDismiss==null||g.onDismiss.call(g,g),G(U==="x"?Pt>0?"right":"left":Rn>0?"down":"up"),cr(),ne(!0);return}else{var jt,Zt;(jt=Qt.current)==null||jt.style.setProperty("--swipe-amount-x","0px"),(Zt=Qt.current)==null||Zt.style.setProperty("--swipe-amount-y","0px")}Pe(!1),le(!1),F(null)},onPointerMove:Ae=>{var st,ht,Pt;if(!Nn.current||!an||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const lt=Ae.clientY-Nn.current.y,yt=Ae.clientX-Nn.current.x;var Pn;const jt=(Pn=t.swipeDirections)!=null?Pn:jD(ae);!U&&(Math.abs(yt)>1||Math.abs(lt)>1)&&F(Math.abs(yt)>Math.abs(lt)?"x":"y");let Zt={x:0,y:0};const An=ur=>1/(1.5+Math.abs(ur)/20);if(U==="y"){if(jt.includes("top")||jt.includes("bottom"))if(jt.includes("top")&&lt<0||jt.includes("bottom")&&lt>0)Zt.y=lt;else{const ur=lt*An(lt);Zt.y=Math.abs(ur)<Math.abs(lt)?ur:lt}}else if(U==="x"&&(jt.includes("left")||jt.includes("right")))if(jt.includes("left")&&yt<0||jt.includes("right")&&yt>0)Zt.x=yt;else{const ur=yt*An(yt);Zt.x=Math.abs(ur)<Math.abs(yt)?ur:yt}(Math.abs(Zt.x)>0||Math.abs(Zt.y)>0)&&Pe(!0),(ht=Qt.current)==null||ht.style.setProperty("--swipe-amount-x",`${Zt.x}px`),(Pt=Qt.current)==null||Pt.style.setProperty("--swipe-amount-y",`${Zt.y}px`)}},bi&&!g.jsx&&Ct!=="loading"?ie.createElement("button",{"aria-label":T,"data-disabled":Ss,"data-close-button":!0,onClick:Ss||!an?()=>{}:()=>{cr(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Kr(Y?.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(Ei=q?.close)!=null?Ei:fD):null,(Ct||g.icon||g.promise)&&g.icon!==null&&(q?.[Ct]!==null||g.icon)?ie.createElement("div",{"data-icon":"",className:Kr(Y?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ki():null,g.type!=="loading"?Tn:null):null,ie.createElement("div",{"data-content":"",className:Kr(Y?.content,g==null||(a=g.classNames)==null?void 0:a.content)},ie.createElement("div",{"data-title":"",className:Kr(Y?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ie.createElement("div",{"data-description":"",className:Kr(Z,tl,Y?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),ie.isValidElement(g.cancel)?g.cancel:g.cancel&&wc(g.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:Ae=>{wc(g.cancel)&&an&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ae),cr())},className:Kr(Y?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,ie.isValidElement(g.action)?g.action:g.action&&wc(g.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||V,onClick:Ae=>{wc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ae),!Ae.defaultPrevented&&cr())},className:Kr(Y?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function px(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TD(t,e){const r={};return[t,e].forEach((n,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",d=a?SD:bD;function f(p){["top","right","bottom","left"].forEach(m=>{r[`${l}-${m}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${l}-${p}`]=d:r[`${l}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):f(d)}),r}const RD=ie.forwardRef(function(e,r){const{id:n,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:m,mobileOffset:g,theme:y="light",richColors:b,duration:k,style:S,visibleToasts:E=wD,toastOptions:C,dir:j=px(),gap:N=ED,icons:R,containerAriaLabel:M="Notifications"}=e,[L,D]=ie.useState([]),A=ie.useMemo(()=>n?L.filter(X=>X.toasterId===n):L.filter(X=>!X.toasterId),[L,n]),V=ie.useMemo(()=>Array.from(new Set([a].concat(A.filter(X=>X.position).map(X=>X.position)))),[A,a]),[H,Z]=ie.useState([]),[ce,ae]=ie.useState(!1),[ue,ye]=ie.useState(!1),[Y,q]=ie.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=ie.useRef(null),U=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=ie.useRef(null),I=ie.useRef(!1),G=ie.useCallback(X=>{D(se=>{var de;return(de=se.find(pe=>pe.id===X.id))!=null&&de.delete||Yt.dismiss(X.id),se.filter(({id:pe})=>pe!==X.id)})},[]);return ie.useEffect(()=>Yt.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{D(se=>se.map(de=>de.id===X.id?{...de,delete:!0}:de))});return}setTimeout(()=>{w1.flushSync(()=>{D(se=>{const de=se.findIndex(pe=>pe.id===X.id);return de!==-1?[...se.slice(0,de),{...se[de],...X},...se.slice(de+1)]:[X,...se]})})})}),[L]),ie.useEffect(()=>{if(y!=="system"){q(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:se})=>{q(se?"dark":"light")})}catch{X.addListener(({matches:de})=>{try{q(de?"dark":"light")}catch(pe){console.error(pe)}})}},[y]),ie.useEffect(()=>{L.length<=1&&ae(!1)},[L]),ie.useEffect(()=>{const X=se=>{var de;if(l.every(le=>se[le]||se.code===le)){var K;ae(!0),(K=T.current)==null||K.focus()}se.code==="Escape"&&(document.activeElement===T.current||(de=T.current)!=null&&de.contains(document.activeElement))&&ae(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[l]),ie.useEffect(()=>{if(T.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,I.current=!1)}},[T.current]),ie.createElement("section",{ref:r,"aria-label":`${M} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((X,se)=>{var de;const[pe,K]=X.split("-");return A.length?ie.createElement("ol",{key:X,dir:j==="auto"?px():j,tabIndex:-1,ref:T,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":pe,"data-x-position":K,style:{"--front-toast-height":`${((de=H[0])==null?void 0:de.height)||0}px`,"--width":`${kD}px`,"--gap":`${N}px`,...S,...TD(m,g)},onBlur:le=>{I.current&&!le.currentTarget.contains(le.relatedTarget)&&(I.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||I.current||(I.current=!0,F.current=le.relatedTarget)},onMouseEnter:()=>ae(!0),onMouseMove:()=>ae(!0),onMouseLeave:()=>{ue||ae(!1)},onDragEnd:()=>ae(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||ye(!0)},onPointerUp:()=>ye(!1)},A.filter(le=>!le.position&&se===0||le.position===X).map((le,J)=>{var ne,me;return ie.createElement(ND,{key:le.id,icons:R,index:J,toast:le,defaultRichColors:b,duration:(ne=C?.duration)!=null?ne:k,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:i,visibleToasts:E,closeButton:(me=C?.closeButton)!=null?me:f,interacting:ue,position:X,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:G,toasts:A.filter(Pe=>Pe.position==le.position),heights:H.filter(Pe=>Pe.position==le.position),setHeights:Z,expandByDefault:d,gap:N,expanded:ce,swipeDirections:e.swipeDirections})})):null}))});function PD({onLogin:t,onSignUp:e,onGoogleLogin:r,onGuestLogin:n}){const[i,a]=x.useState("login"),[l,d]=x.useState(!1),[f,p]=x.useState(!1),[m,g]=x.useState(!1),y=Ka(),[b,k]=x.useState({email:"",password:"",rememberMe:!1}),[S,E]=x.useState({name:"",email:"",password:"",confirmPassword:"",agreeTerms:!1}),[C,j]=x.useState(!1),N=async D=>{if(D.preventDefault(),!b.email||!b.password){re.error("Por favor, preencha todos os campos");return}if(!b.email.includes("@")){re.error("Por favor, insira um e-mail vlido");return}if(b.password.length<6){re.error("A senha deve ter pelo menos 6 caracteres");return}d(!0);const A=re.loading("Fazendo login...");try{await t(b.email,b.password),re.dismiss(A),re.success("Login realizado com sucesso!")}catch(V){console.error("Login failed:",V),re.dismiss(A);const H=V instanceof Error?V.message:"Erro ao fazer login. Verifique suas credenciais.";re.error(H)}finally{d(!1)}},R=async D=>{if(D.preventDefault(),!S.name||!S.email||!S.password||!S.confirmPassword){re.error("Por favor, preencha todos os campos");return}if(!S.email.includes("@")){re.error("Por favor, insira um e-mail vlido");return}if(S.password.length<6){re.error("A senha deve ter pelo menos 6 caracteres");return}if(S.password!==S.confirmPassword){re.error("As senhas no coincidem");return}if(!S.agreeTerms){re.error("Voc deve aceitar os termos de uso");return}d(!0);const A=re.loading("Criando conta...");try{await e(S.email,S.password,S.name),re.dismiss(A),re.dismiss(A),re.success("Conta criada com sucesso!"),j(!1)}catch(V){if(console.error("Signup failed:",V),re.dismiss(A),V instanceof Error&&V.message==="confirma_email")j(!0),re.error("Confirme seu e-mail para ativar a conta",{description:"Enviamos um link para o seu e-mail. Verifique a caixa de entrada e a pasta de spam."});else{const H=V instanceof Error?V.message:"Erro ao criar conta";re.error(H)}}finally{d(!1)}},M=async()=>{p(!0);const D=re.loading("Conectando com Google...",{description:"Redirecionando para autenticao segura"});try{await r()}catch(A){console.error(" Google login failed:",A),re.dismiss(D);const V=A instanceof Error?A.message:"Erro ao conectar com Google",H=V.toLowerCase();H.includes("sistema de autenticao no disponvel")||H.includes("supabase")?re.error("Sistema temporariamente indisponvel",{description:"Tente novamente em alguns minutos ou use login por email",duration:5e3}):H.includes("not configured")||H.includes("oauth")?re.error("Login com Google no disponvel",{description:"Use login por email ou entre em contato com o suporte"}):H.includes("network")||H.includes("fetch")||H.includes("conexo")?re.error("Erro de conexo",{description:"Verifique sua internet e tente novamente"}):H.includes("redirect")||H.includes("configurao")?re.error("Erro de configurao",{description:"Problema na configurao do sistema. Tente novamente."}):re.error("Erro no login com Google",{description:V.length>50?"Tente novamente ou use login por email":V}),p(!1)}},L=async()=>{g(!0),re.loading("Entrando como convidado...",{description:"Voc ter acesso limitado a 5 livros"});try{await n(),re.success("Bem-vindo ao Eclipse Reads!",{description:"Modo convidado: limite de 5 livros"})}catch(D){console.error("Guest login failed:",D),re.error("Erro ao entrar como convidado. Tente novamente.")}finally{g(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",style:{background:"linear-gradient(135deg, #2D1B69 0%, #1A0B2E 50%, #0F0A1F 100%)"},children:c.jsxs("div",{className:"w-full max-w-5xl flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-16",children:[c.jsxs(Ve.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"flex-1 text-center lg:text-left",children:[c.jsx("div",{className:"flex justify-center lg:justify-start mb-8",children:c.jsx(x1,{className:"w-24 h-24 lg:w-32 lg:h-32"})}),c.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-6 leading-tight",style:{fontFamily:"'Poppins', sans-serif"},children:["Eclipse",c.jsx("br",{}),c.jsx("span",{className:"text-yellow-300",children:"Reads"})]}),c.jsx("p",{className:"text-xl lg:text-2xl text-white/90 mb-8 max-w-lg",style:{fontFamily:"'Poppins', sans-serif"},children:"Mergulhe em um universo de histrias incrveis. Sua prxima aventura literria comea aqui."}),c.jsxs("div",{className:"hidden lg:flex items-center gap-6 text-white/80",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full"}),c.jsx("span",{children:"Milhares de livros"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full"}),c.jsx("span",{children:"Leitura offline"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full"}),c.jsx("span",{children:"Sincronizao"})]})]})]}),c.jsxs(Ve.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-3xl p-6 lg:p-8",style:{width:y?"90%":"100%",maxWidth:"450px"},children:[c.jsxs("div",{className:"flex bg-gray-100 rounded-2xl p-1 mb-8",children:[c.jsx("button",{onClick:()=>a("login"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${i==="login"?"bg-white text-purple-600 transform -translate-y-0.5":"text-gray-600 hover:text-purple-600"}`,style:{fontFamily:"'Poppins', sans-serif"},children:"Entrar"}),c.jsx("button",{onClick:()=>a("cadastro"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${i==="cadastro"?"bg-white text-purple-600 transform -translate-y-0.5":"text-gray-600 hover:text-purple-600"}`,style:{fontFamily:"'Poppins', sans-serif"},children:"Criar Conta"})]}),i==="login"&&c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",style:{fontFamily:"'Poppins', sans-serif"},children:"E-mail"}),c.jsx("input",{type:"email",value:b.email,onChange:D=>k({...b,email:D.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all duration-300 text-gray-900",placeholder:"seu@email.com",required:!0,style:{fontFamily:"'Poppins', sans-serif",color:"#111827"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",style:{fontFamily:"'Poppins', sans-serif"},children:"Senha"}),c.jsx("input",{type:"password",value:b.password,onChange:D=>k({...b,password:D.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all duration-300 text-gray-900",placeholder:"",required:!0,style:{fontFamily:"'Poppins', sans-serif",color:"#111827"}})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",style:{fontFamily:"'Poppins', sans-serif"},children:[c.jsx("input",{type:"checkbox",checked:b.rememberMe,onChange:D=>k({...b,rememberMe:D.target.checked}),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),c.jsx("span",{className:"text-gray-600 text-sm",children:"Lembrar-me"})]}),c.jsx("a",{href:"#",className:"text-purple-600 text-sm font-semibold hover:text-purple-700 transition-colors",style:{fontFamily:"'Poppins', sans-serif"},children:"Esqueci a senha"})]}),c.jsxs("button",{type:"submit",disabled:l,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-bold rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-center hover:from-purple-700 hover:to-purple-800 active:scale-95 flex items-center justify-center gap-2",style:{fontFamily:"'Poppins', sans-serif"},children:[l&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l?"Entrando...":"Entrar"]})]}),i==="cadastro"&&c.jsxs("form",{onSubmit:R,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",style:{fontFamily:"'Poppins', sans-serif"},children:"Nome Completo"}),c.jsx("input",{type:"text",value:S.name,onChange:D=>E({...S,name:D.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all duration-300 text-gray-900",placeholder:"Seu nome completo",required:!0,style:{fontFamily:"'Poppins', sans-serif",color:"#111827"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",style:{fontFamily:"'Poppins', sans-serif"},children:"E-mail"}),c.jsx("input",{type:"email",value:S.email,onChange:D=>E({...S,email:D.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all duration-300 text-gray-900",placeholder:"seu@email.com",required:!0,style:{fontFamily:"'Poppins', sans-serif",color:"#111827"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",style:{fontFamily:"'Poppins', sans-serif"},children:"Senha"}),c.jsx("input",{type:"password",value:S.password,onChange:D=>E({...S,password:D.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all duration-300 text-gray-900",placeholder:"",required:!0,style:{fontFamily:"'Poppins', sans-serif",color:"#111827"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",style:{fontFamily:"'Poppins', sans-serif"},children:"Confirmar Senha"}),c.jsx("input",{type:"password",value:S.confirmPassword,onChange:D=>E({...S,confirmPassword:D.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all duration-300 text-gray-900",placeholder:"",required:!0,style:{fontFamily:"'Poppins', sans-serif",color:"#111827"}})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"agreeTerms",checked:S.agreeTerms,onChange:D=>E({...S,agreeTerms:D.target.checked}),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),c.jsxs("label",{htmlFor:"agreeTerms",className:"text-gray-600 text-sm cursor-pointer",style:{fontFamily:"'Poppins', sans-serif"},children:["Eu aceito os ",c.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-700 font-semibold",children:"termos de uso"})," e ",c.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-700 font-semibold",children:"poltica de privacidade"})]})]}),c.jsxs("button",{type:"submit",disabled:l,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-bold rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-center hover:from-purple-700 hover:to-purple-800 active:scale-95 flex items-center justify-center gap-2",style:{fontFamily:"'Poppins', sans-serif"},children:[l&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l?"Criando...":"Criar Conta"]})]}),C&&c.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[c.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Aguardando confirmao de e-mail."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:async()=>{try{d(!0),await t(S.email,S.password),re.success("Login realizado com sucesso!"),j(!1)}catch{re.error("Ainda no confirmado. Verifique o link enviado por e-mail.")}finally{d(!1)}},className:"px-3 py-2 bg-yellow-600 text-white rounded",children:"J confirmei"}),c.jsx("button",{type:"button",onClick:()=>{re("Verifique seu e-mail para o link de confirmao.")},className:"px-3 py-2 bg-transparent border border-yellow-200 text-yellow-800 rounded",children:"Reenviar instrues"})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-6",children:[c.jsx("div",{className:"flex-1 h-px bg-gray-200"}),c.jsx("span",{className:"px-4 text-gray-500 font-medium",style:{fontFamily:"'Poppins', sans-serif"},children:"ou"}),c.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),c.jsxs("button",{onClick:M,disabled:f||l,className:"w-full py-2 px-3 border-2 border-purple-200 rounded-xl font-semibold text-purple-700 bg-gradient-to-r from-purple-50 to-purple-100 transition-all duration-300 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:from-purple-100 hover:to-purple-200 hover:border-purple-300 active:scale-95",style:{fontFamily:"'Poppins', sans-serif"},children:[f?c.jsx("div",{className:"w-5 h-5 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"}):c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#7C3AED",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#8B5CF6",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#A78BFA",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#6D28D9",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f?"Conectando...":"Continuar com Google"]}),c.jsxs("button",{onClick:L,disabled:m||l,className:"w-full py-2 px-3 border-2 border-purple-300 rounded-xl font-semibold text-purple-600 bg-gradient-to-r from-purple-100 to-purple-200 transition-all duration-300 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:from-purple-200 hover:to-purple-300 hover:border-purple-400 active:scale-95 mt-3",style:{fontFamily:"'Poppins', sans-serif"},children:[m?c.jsx("div",{className:"w-5 h-5 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"}):c.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),m?"Entrando...":"Entrar como Convidado"]})]})]})]})})}function mx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yu(...t){return e=>{let r=!1;const n=t.map(i=>{const a=mx(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():mx(t[i],null)}}}}function Ie(...t){return x.useCallback(yu(...t),t)}function Xs(t){const e=AD(t),r=x.forwardRef((n,i)=>{const{children:a,...l}=n,d=x.Children.toArray(a),f=d.find(ID);if(f){const p=f.props.children,m=d.map(g=>g===f?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:g);return c.jsx(e,{...l,ref:i,children:x.isValidElement(p)?x.cloneElement(p,void 0,m):null})}return c.jsx(e,{...l,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var b1=Xs("Slot");function AD(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const l=OD(i),d=MD(a,i.props);return i.type!==x.Fragment&&(d.ref=n?yu(n,l):l),x.cloneElement(i,d)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DD=Symbol("radix.slottable");function ID(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DD}function MD(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...d)=>{const f=a(...d);return i(...d),f}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function OD(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function S1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=S1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function k1(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=S1(t))&&(n&&(n+=" "),n+=e);return n}const gx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vx=k1,E1=(t,e)=>r=>{var n;if(e?.variants==null)return vx(t,r?.class,r?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const m=r?.[p],g=a?.[p];if(m===null)return null;const y=gx(m)||gx(g);return i[p][y]}),d=r&&Object.entries(r).reduce((p,m)=>{let[g,y]=m;return y===void 0||(p[g]=y),p},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,m)=>{let{class:g,className:y,...b}=m;return Object.entries(b).every(k=>{let[S,E]=k;return Array.isArray(E)?E.includes({...a,...d}[S]):{...a,...d}[S]===E})?[...p,g,y]:p},[]);return vx(t,l,f,r?.class,r?.className)},nm="-",LD=t=>{const e=UD(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const d=l.split(nm);return d[0]===""&&d.length!==1&&d.shift(),_1(d,e)||BD(l)},getConflictingClassGroupIds:(l,d)=>{const f=r[l]||[];return d&&n[l]?[...f,...n[l]]:f}}},_1=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?_1(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(nm);return e.validators.find(({validator:l})=>l(a))?.classGroupId},yx=/^\[(.+)\]$/,BD=t=>{if(yx.test(t)){const e=yx.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},UD=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)Yh(r[i],n,i,e);return n},Yh=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:xx(e,i);a.classGroupId=r;return}if(typeof i=="function"){if($D(i)){Yh(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,l])=>{Yh(l,xx(e,a),r,n)})})},xx=(t,e)=>{let r=t;return e.split(nm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$D=t=>t.isThemeGetter,FD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return i(a,l),l},set(a,l){r.has(a)?r.set(a,l):i(a,l)}}},Xh="!",Jh=":",zD=Jh.length,VD=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const a=[];let l=0,d=0,f=0,p;for(let k=0;k<i.length;k++){let S=i[k];if(l===0&&d===0){if(S===Jh){a.push(i.slice(f,k)),f=k+zD;continue}if(S==="/"){p=k;continue}}S==="["?l++:S==="]"?l--:S==="("?d++:S===")"&&d--}const m=a.length===0?i:i.substring(f),g=WD(m),y=g!==m,b=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+Jh,a=n;n=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},WD=t=>t.endsWith(Xh)?t.substring(0,t.length-1):t.startsWith(Xh)?t.substring(1):t,HD=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},GD=t=>({cache:FD(t.cacheSize),parseClassName:VD(t),sortModifiers:HD(t),...LD(t)}),KD=/\s+/,qD=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],d=t.trim().split(KD);let f="";for(let p=d.length-1;p>=0;p-=1){const m=d[p],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:S}=r(m);if(g){f=m+(f.length>0?" "+f:f);continue}let E=!!S,C=n(E?k.substring(0,S):k);if(!C){if(!E){f=m+(f.length>0?" "+f:f);continue}if(C=n(k),!C){f=m+(f.length>0?" "+f:f);continue}E=!1}const j=a(y).join(":"),N=b?j+Xh:j,R=N+C;if(l.includes(R))continue;l.push(R);const M=i(C,E);for(let L=0;L<M.length;++L){const D=M[L];l.push(N+D)}f=m+(f.length>0?" "+f:f)}return f};function YD(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=C1(e))&&(n&&(n+=" "),n+=r);return n}const C1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=C1(t[n]))&&(r&&(r+=" "),r+=e);return r};function XD(t,...e){let r,n,i,a=l;function l(f){const p=e.reduce((m,g)=>g(m),t());return r=GD(p),n=r.cache.get,i=r.cache.set,a=d,d(f)}function d(f){const p=n(f);if(p)return p;const m=qD(f,r);return i(f,m),m}return function(){return a(YD.apply(null,arguments))}}const gt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},j1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JD=/^\d+\/\d+$/,QD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=t=>JD.test(t),Me=t=>!!t&&!Number.isNaN(Number(t)),es=t=>!!t&&Number.isInteger(Number(t)),eh=t=>t.endsWith("%")&&Me(t.slice(0,-1)),vn=t=>QD.test(t),nI=()=>!0,sI=t=>ZD.test(t)&&!eI.test(t),T1=()=>!1,oI=t=>tI.test(t),iI=t=>rI.test(t),aI=t=>!we(t)&&!be(t),lI=t=>pi(t,A1,T1),we=t=>j1.test(t),$s=t=>pi(t,D1,sI),th=t=>pi(t,hI,Me),wx=t=>pi(t,R1,T1),cI=t=>pi(t,P1,iI),bc=t=>pi(t,I1,oI),be=t=>N1.test(t),la=t=>mi(t,D1),uI=t=>mi(t,pI),bx=t=>mi(t,R1),dI=t=>mi(t,A1),fI=t=>mi(t,P1),Sc=t=>mi(t,I1,!0),pi=(t,e,r)=>{const n=j1.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},mi=(t,e,r=!1)=>{const n=N1.exec(t);return n?n[1]?e(n[1]):r:!1},R1=t=>t==="position"||t==="percentage",P1=t=>t==="image"||t==="url",A1=t=>t==="length"||t==="size"||t==="bg-size",D1=t=>t==="length",hI=t=>t==="number",pI=t=>t==="family-name",I1=t=>t==="shadow",mI=()=>{const t=gt("color"),e=gt("font"),r=gt("text"),n=gt("font-weight"),i=gt("tracking"),a=gt("leading"),l=gt("breakpoint"),d=gt("container"),f=gt("spacing"),p=gt("radius"),m=gt("shadow"),g=gt("inset-shadow"),y=gt("text-shadow"),b=gt("drop-shadow"),k=gt("blur"),S=gt("perspective"),E=gt("aspect"),C=gt("ease"),j=gt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...R(),be,we],L=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],A=()=>[be,we,f],V=()=>[$o,"full","auto",...A()],H=()=>[es,"none","subgrid",be,we],Z=()=>["auto",{span:["full",es,be,we]},es,be,we],ce=()=>[es,"auto",be,we],ae=()=>["auto","min","max","fr",be,we],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...A()],q=()=>[$o,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],T=()=>[t,be,we],U=()=>[...R(),bx,wx,{position:[be,we]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",dI,lI,{size:[be,we]}],G=()=>[eh,la,$s],X=()=>["","none","full",p,be,we],se=()=>["",Me,la,$s],de=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[Me,eh,bx,wx],le=()=>["","none",k,be,we],J=()=>["none",Me,be,we],ne=()=>["none",Me,be,we],me=()=>[Me,be,we],Pe=()=>[$o,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vn],breakpoint:[vn],color:[nI],container:[vn],"drop-shadow":[vn],ease:["in","out","in-out"],font:[aI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vn],shadow:[vn],spacing:["px",Me],text:[vn],"text-shadow":[vn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$o,we,be,E]}],container:["container"],columns:[{columns:[Me,we,be,d]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[es,"auto",be,we]}],basis:[{basis:[$o,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,$o,"auto","initial","none",we]}],grow:[{grow:["",Me,be,we]}],shrink:[{shrink:["",Me,be,we]}],order:[{order:[es,"first","last","none",be,we]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[d,"screen",...q()]}],"min-w":[{"min-w":[d,"screen","none",...q()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,la,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,be,th]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",eh,we]}],"font-family":[{font:[uI,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,be,we]}],"line-clamp":[{"line-clamp":[Me,"none",be,th]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",be,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",be,$s]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Me,"auto",be,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},es,be,we],radial:["",be,we],conic:[es,be,we]},fI,cI]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,be,we]}],"outline-w":[{outline:["",Me,la,$s]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",m,Sc,bc]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",g,Sc,bc]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Me,$s]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",y,Sc,bc]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Me,be,we]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[be,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,we]}],filter:[{filter:["","none",be,we]}],blur:[{blur:le()}],brightness:[{brightness:[Me,be,we]}],contrast:[{contrast:[Me,be,we]}],"drop-shadow":[{"drop-shadow":["","none",b,Sc,bc]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Me,be,we]}],"hue-rotate":[{"hue-rotate":[Me,be,we]}],invert:[{invert:["",Me,be,we]}],saturate:[{saturate:[Me,be,we]}],sepia:[{sepia:["",Me,be,we]}],"backdrop-filter":[{"backdrop-filter":["","none",be,we]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Me,be,we]}],"backdrop-contrast":[{"backdrop-contrast":[Me,be,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,be,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,be,we]}],"backdrop-invert":[{"backdrop-invert":["",Me,be,we]}],"backdrop-opacity":[{"backdrop-opacity":[Me,be,we]}],"backdrop-saturate":[{"backdrop-saturate":[Me,be,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,be,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",be,we]}],ease:[{ease:["linear","initial",C,be,we]}],delay:[{delay:[Me,be,we]}],animate:[{animate:["none",j,be,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,be,we]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:ne()}],"scale-x":[{"scale-x":ne()}],"scale-y":[{"scale-y":ne()}],"scale-z":[{"scale-z":ne()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[be,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,we]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Me,la,$s,th]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},gI=XD(mI);function Be(...t){return gI(k1(t))}const vI=E1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ge=x.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const l=n?b1:"button";return c.jsx(l,{ref:a,"data-slot":"button",className:Be(vI({variant:e,size:r,className:t})),...i})});ge.displayName="Button";const yI=E1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Lt({className:t,variant:e,asChild:r=!1,...n}){const i=r?b1:"span";return c.jsx(i,{"data-slot":"badge",className:Be(yI({variant:e}),t),...n})}function xI(t,e){const r=x.createContext(e),n=a=>{const{children:l,...d}=a,f=x.useMemo(()=>d,Object.values(d));return c.jsx(r.Provider,{value:f,children:l})};n.displayName=t+"Provider";function i(a){const l=x.useContext(r);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function _r(t,e=[]){let r=[];function n(a,l){const d=x.createContext(l),f=r.length;r=[...r,l];const p=g=>{const{scope:y,children:b,...k}=g,S=y?.[t]?.[f]||d,E=x.useMemo(()=>k,Object.values(k));return c.jsx(S.Provider,{value:E,children:b})};p.displayName=a+"Provider";function m(g,y){const b=y?.[t]?.[f]||d,k=x.useContext(b);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,m]}const i=()=>{const a=r.map(l=>x.createContext(l));return function(d){const f=d?.[t]||a;return x.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[n,wI(i,...e)]}function wI(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((d,{useScope:f,scopeName:p})=>{const g=f(a)[`__scope${p}`];return{...d,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}var bI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=bI.reduce((t,e)=>{const r=Xs(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:l,...d}=i,f=l?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(f,{...d,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function M1(t,e){t&&qa.flushSync(()=>t.dispatchEvent(e))}var sm="Progress",om=100,[SI]=_r(sm),[kI,EI]=SI(sm),O1=x.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=_I,...l}=t;(i||i===0)&&!Sx(i)&&console.error(CI(`${i}`,"Progress"));const d=Sx(i)?i:om;n!==null&&!kx(n,d)&&console.error(jI(`${n}`,"Progress"));const f=kx(n,d)?n:null,p=Gc(f)?a(f,d):void 0;return c.jsx(kI,{scope:r,value:f,max:d,children:c.jsx(_e.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Gc(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":U1(f,d),"data-value":f??void 0,"data-max":d,...l,ref:e})})});O1.displayName=sm;var L1="ProgressIndicator",B1=x.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=EI(L1,r);return c.jsx(_e.div,{"data-state":U1(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});B1.displayName=L1;function _I(t,e){return`${Math.round(t/e*100)}%`}function U1(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Gc(t){return typeof t=="number"}function Sx(t){return Gc(t)&&!isNaN(t)&&t>0}function kx(t,e){return Gc(t)&&!isNaN(t)&&t<=e&&t>=0}function CI(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${om}\`.`}function jI(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${om} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var NI=O1,TI=B1;function RI({className:t,value:e,...r}){return c.jsx(NI,{"data-slot":"progress",className:Be("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:c.jsx(TI,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Ex=t=>{const e=AI(t);return e.charAt(0).toUpperCase()+e.slice(1)},$1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...d},f)=>x.createElement("svg",{ref:f,...DI,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:$1("lucide",i),...d},[...l.map(([p,m])=>x.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const r=x.forwardRef(({className:n,...i},a)=>x.createElement(II,{ref:a,iconNode:e,className:$1(`lucide-${PI(Ex(t))}`,`lucide-${t}`,n),...i}));return r.displayName=Ex(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Aa=Ne("arrow-left",MI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],LI=Ne("bell-off",OI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],UI=Ne("bell",BI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],FI=Ne("book-marked",$I);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ue=Ne("book-open",zI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],ca=Ne("bookmark",VI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kc=Ne("camera",WI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],GI=Ne("chart-column",HI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kc=Ne("check",KI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],F1=Ne("chevron-down",qI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qc=Ne("chevron-left",YI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z1=Ne("chevron-right",XI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QI=Ne("chevron-up",JI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Da=Ne("circle-check-big",ZI);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tM=Ne("circle-x",eM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qh=Ne("clock",rM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],yn=Ne("crown",nM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Zh=Ne("download",sM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iM=Ne("eye",oM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_x=Ne("funnel",aM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cM=Ne("globe",lM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dM=Ne("grid-3x3",uM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],hM=Ne("headphones",fM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],qs=Ne("heart",pM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],V1=Ne("house",mM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],vM=Ne("layout-list",gM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Cx=Ne("list",yM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wM=Ne("lock",xM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],SM=Ne("log-in",bM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],W1=Ne("log-out",kM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],_M=Ne("menu",EM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M5 12h14",key:"1ays0h"}]],jM=Ne("minus",CM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],im=Ne("moon",NM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Yc=Ne("palette",TM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],PM=Ne("play",RM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DM=Ne("plus",AM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],jx=Ne("quote",IM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fs=Ne("search",MM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xc=Ne("settings",OM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],BM=Ne("shield",LM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$M=Ne("smartphone",UM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zM=Ne("square-pen",FM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tn=Ne("star",VM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],am=Ne("sun",WM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Nx=Ne("target",HM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],KM=Ne("trash-2",GM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],YM=Ne("user-plus",qM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lm=Ne("user",XM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],QM=Ne("volume-2",JM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],eO=Ne("volume-x",ZM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ka=Ne("x",tO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tx=Ne("zap",rO);function Ys({book:t,userBook:e,variant:r="default",onOpenBook:n,onStartReading:i,onSelect:a,showStatus:l=!1,showActions:d=!1,className:f=""}){const{state:p,actions:m}=ir(),[g,y]=x.useState(window.innerWidth>=768);x.useEffect(()=>{const L=()=>{y(window.innerWidth>=768)};return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const b={default:"w-56",compact:"w-40",featured:"w-72",wide:"w-96",list:"w-80"},k={default:"h-48",compact:"h-40",featured:"h-64",wide:"h-20",list:"h-24"},S=()=>{if(a){a();return}if(g){const L=new CustomEvent("showBookDetail",{detail:{bookId:t.id}});window.dispatchEvent(L)}else n&&n(t)},E=async L=>{L.stopPropagation();try{const D=await m.addBookToLibrary(t.id,Ee.CURRENTLY_READING);D.success?re.success('Livro adicionado  seo "Lendo"!'):re.error(D.message||"Erro ao adicionar livro")}catch{re.error("Erro ao adicionar livro")}},C=async L=>{L.stopPropagation();try{const D=await m.addBookToLibrary(t.id,Ee.WANT_TO_READ);D.success?re.success("Livro adicionado aos favoritos!"):re.error(D.message||"Erro ao adicionar livro")}catch{re.error("Erro ao adicionar livro")}},j=async L=>{L.stopPropagation();try{const D=await m.addBookToLibrary(t.id,Ee.READ);D.success?re.success("Livro marcado como lido!"):re.error(D.message||"Erro ao adicionar livro")}catch{re.error("Erro ao adicionar livro")}},N=m.canAddMoreBooks();p.user?.accountType;const R=p.userBooks.find(L=>L.book.id===t.id),M=!!R;return r==="wide"||r==="list"?c.jsx("div",{className:`${b[r]} ${f} cursor-pointer transition-transform hover:-translate-y-1`,onClick:S,children:c.jsx("div",{className:"glass rounded-2xl overflow-hidden hover-eclipse p-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:`${k[r]} ${r==="list"?"w-16":"w-14"} bg-gradient-to-br from-purple-400 to-purple-600 relative rounded-lg flex-shrink-0 overflow-hidden`,children:[t.coverUrl?c.jsx("img",{src:t.coverUrl,alt:t.title,className:"w-full h-full object-cover",onError:L=>{const D=L.target;D.style.display="none";const A=D.parentElement;if(A){const V=A.querySelector(".fallback-icon");V&&(V.style.display="flex")}}}):null,c.jsx("div",{className:"absolute inset-0 flex items-center justify-center fallback-icon",style:{display:t.coverUrl?"none":"flex"},children:c.jsx(Ue,{className:"text-white opacity-50",size:20})})]}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsxs("div",{className:"flex items-start justify-between mb-1",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-white truncate mb-1",children:t.title}),c.jsx("p",{className:"text-sm text-white/70 truncate",children:t.author||"Autor desconhecido"}),c.jsxs("p",{className:"text-xs text-white/60 mt-1 truncate",children:[t.categories?.[0]?.name||"Geral","  ",t.pages||t.pageCount||0," ","pginas"]})]}),c.jsx("div",{className:"flex items-center gap-2 ml-3 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(tn,{className:"text-yellow-400 fill-current",size:14}),c.jsx("span",{className:"text-white text-sm",children:(t.rating||0).toFixed(1)})]})})]})})]})})}):c.jsx("div",{className:`${b[r]} ${f} cursor-pointer transition-transform hover:-translate-y-2`,onClick:S,children:c.jsxs("div",{className:"glass rounded-2xl overflow-hidden hover-eclipse",children:[c.jsxs("div",{className:`${k[r]} bg-gradient-to-br from-purple-400 to-purple-600 relative overflow-hidden`,children:[t.coverUrl?c.jsx("img",{src:t.coverUrl,alt:t.title,className:"w-full h-full object-cover",onError:L=>{const D=L.target;D.style.display="none";const A=D.parentElement;if(A){const V=A.querySelector(".fallback-icon");V&&(V.style.display="flex")}}}):null,c.jsx("div",{className:"absolute inset-0 flex items-center justify-center fallback-icon",style:{display:t.coverUrl?"none":"flex"},children:c.jsx(Ue,{className:"text-white opacity-50",size:r==="compact"?24:32})}),M&&c.jsx("div",{className:"absolute top-2 right-2 bg-black/50 backdrop-blur-sm rounded-full px-2 py-1",children:c.jsx("span",{className:"text-white text-xs font-medium",children:R?.isFavorite?" Favorito":R?.status===Ee.CURRENTLY_READING?" Lendo":" Lido"})}),!M&&c.jsx("div",{className:`absolute top-2 right-2 backdrop-blur-sm rounded-full px-2 py-1 ${t.id==="dom_casmurro"?"bg-blue-500/90":t.source==="elivros"?"bg-green-500/90":"bg-black/20"}`,children:c.jsx("div",{className:"flex items-center gap-1",children:t.id==="dom_casmurro"?c.jsxs(c.Fragment,{children:[c.jsx(Ue,{className:"text-white",size:12}),c.jsx("span",{className:"text-white text-xs font-medium",children:"E-book"})]}):t.source==="elivros"?c.jsxs(c.Fragment,{children:[c.jsx(Ue,{className:"text-white",size:12}),c.jsx("span",{className:"text-white text-xs font-medium",children:"Online"})]}):c.jsxs(c.Fragment,{children:[c.jsx(tn,{className:"text-yellow-400 fill-current",size:12}),c.jsx("span",{className:"text-white text-xs font-medium",children:(t.rating||0).toFixed(1)})]})})}),e&&e.progress&&e.progress.percentage>0&&c.jsxs("div",{className:"absolute bottom-2 left-2 right-2",children:[c.jsx(RI,{value:e.progress.percentage,className:"h-1.5 bg-white/20"}),c.jsxs("span",{className:"text-white text-xs mt-1 block",children:[e.progress.percentage,"% completo"]})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"flex items-start justify-between mb-2",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-white truncate mb-1",children:t.title}),c.jsx("p",{className:"text-sm text-white/70 truncate",children:t.author||"Autor desconhecido"})]})}),r!=="compact"&&c.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[(t.categories||[]).slice(0,2).map(L=>c.jsxs(Lt,{variant:"secondary",className:"text-xs bg-white/10 text-white/80 border-white/20",children:[L.icon," ",L.name]},L.id)),t.source==="elivros"&&c.jsx(Lt,{variant:"secondary",className:"text-xs bg-green-500/20 text-green-300 border-green-500/30",children:" elivros.info"})]}),r==="featured"&&c.jsx("p",{className:"text-sm text-white/70 mb-4 line-clamp-2",children:t.description}),d&&c.jsx("div",{className:"flex gap-1",children:N||M?c.jsxs(c.Fragment,{children:[c.jsxs(ge,{onClick:E,variant:"outline",className:"flex-1 border-purple-500/50 text-purple-300 hover:bg-purple-500/20",size:"sm",children:[c.jsx(PM,{size:14,className:"mr-1"}),"Ler agora"]}),c.jsx(ge,{onClick:C,variant:"outline",className:"border-purple-500/50 text-purple-300 hover:bg-purple-500/20",size:"sm",children:c.jsx(qs,{size:14})}),c.jsx(ge,{onClick:j,variant:"outline",className:"border-green-500/50 text-green-300 hover:bg-green-500/20",size:"sm",children:c.jsx(Kc,{size:14})})]}):c.jsxs(ge,{onClick:L=>L.stopPropagation(),variant:"outline",className:"flex-1 border-white/30 text-white/50 cursor-not-allowed",size:"sm",disabled:!0,children:[c.jsx(wM,{size:16,className:"mr-2"}),"Limite Atingido"]})}),l&&M&&c.jsx("div",{className:"mt-2 text-center",children:c.jsx(Lt,{variant:"secondary",className:`text-xs ${R?.status===Ee.CURRENTLY_READING?"bg-purple-500/20 text-purple-300 border-purple-500/30":R?.status===Ee.WANT_TO_READ?"bg-pink-500/20 text-pink-300 border-pink-500/30":R?.status===Ee.READ?"bg-green-500/20 text-green-300 border-green-500/30":"bg-white/10 text-white/80 border-white/20"}`,children:R?.status===Ee.CURRENTLY_READING?" Lendo":R?.status===Ee.WANT_TO_READ?" Favorito":R?.status===Ee.READ?" Lido":"Na biblioteca"})})]})]})})}function he(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}var ft=globalThis?.document?x.useLayoutEffect:()=>{},nO=cw[" useId ".trim().toString()]||(()=>{}),sO=0;function bn(t){const[e,r]=x.useState(nO());return ft(()=>{r(n=>n??String(sO++))},[t]),t||(e?`radix-${e}`:"")}var oO=cw[" useInsertionEffect ".trim().toString()]||ft;function Js({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,l]=iO({defaultProp:e,onChange:r}),d=t!==void 0,f=d?t:i;{const m=x.useRef(t!==void 0);x.useEffect(()=>{const g=m.current;g!==d&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,n])}const p=x.useCallback(m=>{if(d){const g=aO(m)?m(t):m;g!==t&&l.current?.(g)}else a(m)},[d,t,a,l]);return[f,p]}function iO({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),i=x.useRef(r),a=x.useRef(e);return oO(()=>{a.current=e},[e]),x.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function aO(t){return typeof t=="function"}function _t(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>e.current?.(...r),[])}function lO(t,e=globalThis?.document){const r=_t(t);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var cO="DismissableLayer",ep="dismissableLayer.update",uO="dismissableLayer.pointerDownOutside",dO="dismissableLayer.focusOutside",Rx,H1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xu=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...f}=t,p=x.useContext(H1),[m,g]=x.useState(null),y=m?.ownerDocument??globalThis?.document,[,b]=x.useState({}),k=Ie(e,D=>g(D)),S=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=S.indexOf(E),j=m?S.indexOf(m):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,R=j>=C,M=pO(D=>{const A=D.target,V=[...p.branches].some(H=>H.contains(A));!R||V||(i?.(D),l?.(D),D.defaultPrevented||d?.())},y),L=mO(D=>{const A=D.target;[...p.branches].some(H=>H.contains(A))||(a?.(D),l?.(D),D.defaultPrevented||d?.())},y);return lO(D=>{j===p.layers.size-1&&(n?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},y),x.useEffect(()=>{if(m)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Rx=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),Px(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Rx)}},[m,y,r,p]),x.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),Px())},[m,p]),x.useEffect(()=>{const D=()=>b({});return document.addEventListener(ep,D),()=>document.removeEventListener(ep,D)},[]),c.jsx(_e.div,{...f,ref:k,style:{pointerEvents:N?R?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,L.onFocusCapture),onBlurCapture:he(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,M.onPointerDownCapture)})});xu.displayName=cO;var fO="DismissableLayerBranch",hO=x.forwardRef((t,e)=>{const r=x.useContext(H1),n=x.useRef(null),i=Ie(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(_e.div,{...t,ref:i})});hO.displayName=fO;function pO(t,e=globalThis?.document){const r=_t(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=d=>{if(d.target&&!n.current){let f=function(){G1(uO,r,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function mO(t,e=globalThis?.document){const r=_t(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&G1(dO,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Px(){const t=new CustomEvent(ep);document.dispatchEvent(t)}function G1(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?M1(i,a):i.dispatchEvent(a)}var rh="focusScope.autoFocusOnMount",nh="focusScope.autoFocusOnUnmount",Ax={bubbles:!1,cancelable:!0},gO="FocusScope",wu=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[d,f]=x.useState(null),p=_t(i),m=_t(a),g=x.useRef(null),y=Ie(e,S=>f(S)),b=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let S=function(N){if(b.paused||!d)return;const R=N.target;d.contains(R)?g.current=R:os(g.current,{select:!0})},E=function(N){if(b.paused||!d)return;const R=N.relatedTarget;R!==null&&(d.contains(R)||os(g.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const M of N)M.removedNodes.length>0&&os(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",E);const j=new MutationObserver(C);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",E),j.disconnect()}}},[n,d,b.paused]),x.useEffect(()=>{if(d){Ix.add(b);const S=document.activeElement;if(!d.contains(S)){const C=new CustomEvent(rh,Ax);d.addEventListener(rh,p),d.dispatchEvent(C),C.defaultPrevented||(vO(SO(K1(d)),{select:!0}),document.activeElement===S&&os(d))}return()=>{d.removeEventListener(rh,p),setTimeout(()=>{const C=new CustomEvent(nh,Ax);d.addEventListener(nh,m),d.dispatchEvent(C),C.defaultPrevented||os(S??document.body,{select:!0}),d.removeEventListener(nh,m),Ix.remove(b)},0)}}},[d,p,m,b]);const k=x.useCallback(S=>{if(!r&&!n||b.paused)return;const E=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,C=document.activeElement;if(E&&C){const j=S.currentTarget,[N,R]=yO(j);N&&R?!S.shiftKey&&C===R?(S.preventDefault(),r&&os(N,{select:!0})):S.shiftKey&&C===N&&(S.preventDefault(),r&&os(R,{select:!0})):C===j&&S.preventDefault()}},[r,n,b.paused]);return c.jsx(_e.div,{tabIndex:-1,...l,ref:y,onKeyDown:k})});wu.displayName=gO;function vO(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(os(n,{select:e}),document.activeElement!==r)return}function yO(t){const e=K1(t),r=Dx(e,t),n=Dx(e.reverse(),t);return[r,n]}function K1(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Dx(t,e){for(const r of t)if(!xO(r,{upTo:e}))return r}function xO(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wO(t){return t instanceof HTMLInputElement&&"select"in t}function os(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&wO(t)&&e&&t.select()}}var Ix=bO();function bO(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=Mx(t,e),t.unshift(e)},remove(e){t=Mx(t,e),t[0]?.resume()}}}function Mx(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function SO(t){return t.filter(e=>e.tagName!=="A")}var kO="Portal",bu=x.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=x.useState(!1);ft(()=>a(!0),[]);const l=r||i&&globalThis?.document?.body;return l?w1.createPortal(c.jsx(_e.div,{...n,ref:e}),l):null});bu.displayName=kO;function EO(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var Cr=t=>{const{present:e,children:r}=t,n=_O(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=Ie(n.ref,CO(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};Cr.displayName="Presence";function _O(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),l=t?"mounted":"unmounted",[d,f]=EO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=Ec(n.current);a.current=d==="mounted"?p:"none"},[d]),ft(()=>{const p=n.current,m=i.current;if(m!==t){const y=a.current,b=Ec(p);t?f("MOUNT"):b==="none"||p?.display==="none"?f("UNMOUNT"):f(m&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),ft(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,g=b=>{const S=Ec(n.current).includes(CSS.escape(b.animationName));if(b.target===e&&S&&(f("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},y=b=>{b.target===e&&(a.current=Ec(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(p=>{n.current=p?getComputedStyle(p):null,r(p)},[])}}function Ec(t){return t?.animationName||"none"}function CO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var sh=0;function cm(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ox()),document.body.insertAdjacentElement("beforeend",t[1]??Ox()),sh++,()=>{sh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sh--}},[])}function Ox(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xr=function(){return Xr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xr.apply(this,arguments)};function q1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function jO(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Mc="right-scroll-bar-position",Oc="width-before-scroll-bar",NO="with-scroll-bars-hidden",TO="--removed-body-scroll-bar-size";function oh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function RO(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var PO=typeof window<"u"?x.useLayoutEffect:x.useEffect,Lx=new WeakMap;function AO(t,e){var r=RO(null,function(n){return t.forEach(function(i){return oh(i,n)})});return PO(function(){var n=Lx.get(r);if(n){var i=new Set(n),a=new Set(t),l=r.current;i.forEach(function(d){a.has(d)||oh(d,null)}),a.forEach(function(d){i.has(d)||oh(d,l)})}Lx.set(r,t)},[t]),r}function DO(t){return t}function IO(t,e){e===void 0&&(e=DO);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var l=e(a,n);return r.push(l),function(){r=r.filter(function(d){return d!==l})}},assignSyncMedium:function(a){for(n=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(d){return a(d)},filter:function(){return r}}},assignMedium:function(a){n=!0;var l=[];if(r.length){var d=r;r=[],d.forEach(a),l=r}var f=function(){var m=l;l=[],m.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),r}}}};return i}function MO(t){t===void 0&&(t={});var e=IO(null);return e.options=Xr({async:!0,ssr:!1},t),e}var Y1=function(t){var e=t.sideCar,r=q1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Xr({},r))};Y1.isSideCarExport=!0;function OO(t,e){return t.useMedium(e),Y1}var X1=MO(),ih=function(){},Su=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:ih,onWheelCapture:ih,onTouchMoveCapture:ih}),i=n[0],a=n[1],l=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,m=t.enabled,g=t.shards,y=t.sideCar,b=t.noRelative,k=t.noIsolation,S=t.inert,E=t.allowPinchZoom,C=t.as,j=C===void 0?"div":C,N=t.gapMode,R=q1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,L=AO([r,e]),D=Xr(Xr({},R),i);return x.createElement(x.Fragment,null,m&&x.createElement(M,{sideCar:X1,removeScrollBar:p,shards:g,noRelative:b,noIsolation:k,inert:S,setCallbacks:a,allowPinchZoom:!!E,lockRef:r,gapMode:N}),l?x.cloneElement(x.Children.only(d),Xr(Xr({},D),{ref:L})):x.createElement(j,Xr({},D,{className:f,ref:L}),d))});Su.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Su.classNames={fullWidth:Oc,zeroRight:Mc};var LO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LO();return e&&t.setAttribute("nonce",e),t}function UO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $O(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FO=function(){var t=0,e=null;return{add:function(r){t==0&&(e=BO())&&(UO(e,r),$O(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zO=function(){var t=FO();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},J1=function(){var t=zO(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},VO={left:0,top:0,right:0,gap:0},ah=function(t){return parseInt(t||"",10)||0},WO=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ah(r),ah(n),ah(i)]},HO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return VO;var e=WO(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},GO=J1(),Qo="data-scroll-locked",KO=function(t,e,r,n){var i=t.left,a=t.top,l=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(NO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mc,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Oc,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(TO,": ").concat(d,`px;
  }
`)},Bx=function(){var t=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(t)?t:0},qO=function(){x.useEffect(function(){return document.body.setAttribute(Qo,(Bx()+1).toString()),function(){var t=Bx()-1;t<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,t.toString())}},[])},YO=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;qO();var a=x.useMemo(function(){return HO(i)},[i]);return x.createElement(GO,{styles:KO(a,!e,i,r?"":"!important")})},tp=!1;if(typeof window<"u")try{var _c=Object.defineProperty({},"passive",{get:function(){return tp=!0,!0}});window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{tp=!1}var Fo=tp?{passive:!1}:!1,XO=function(t){return t.tagName==="TEXTAREA"},Q1=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!XO(t)&&r[e]==="visible")},JO=function(t){return Q1(t,"overflowY")},QO=function(t){return Q1(t,"overflowX")},Ux=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Z1(t,n);if(i){var a=eS(t,n),l=a[1],d=a[2];if(l>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ZO=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},eL=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Z1=function(t,e){return t==="v"?JO(e):QO(e)},eS=function(t,e){return t==="v"?ZO(e):eL(e)},tL=function(t,e){return t==="h"&&e==="rtl"?-1:1},rL=function(t,e,r,n,i){var a=tL(t,window.getComputedStyle(e).direction),l=a*n,d=r.target,f=e.contains(d),p=!1,m=l>0,g=0,y=0;do{if(!d)break;var b=eS(t,d),k=b[0],S=b[1],E=b[2],C=S-E-a*k;(k||C)&&Z1(t,d)&&(g+=C,y+=k);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(p=!0),p},Cc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$x=function(t){return[t.deltaX,t.deltaY]},Fx=function(t){return t&&"current"in t?t.current:t},nL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oL=0,zo=[];function iL(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(oL++)[0],a=x.useState(J1)[0],l=x.useRef(t);x.useEffect(function(){l.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=jO([t.lockRef.current],(t.shards||[]).map(Fx),!0).filter(Boolean);return S.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=x.useCallback(function(S,E){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var C=Cc(S),j=r.current,N="deltaX"in S?S.deltaX:j[0]-C[0],R="deltaY"in S?S.deltaY:j[1]-C[1],M,L=S.target,D=Math.abs(N)>Math.abs(R)?"h":"v";if("touches"in S&&D==="h"&&L.type==="range")return!1;var A=Ux(D,L);if(!A)return!0;if(A?M=D:(M=D==="v"?"h":"v",A=Ux(D,L)),!A)return!1;if(!n.current&&"changedTouches"in S&&(N||R)&&(n.current=M),!M)return!0;var V=n.current||M;return rL(V,E,S,V==="h"?N:R)},[]),f=x.useCallback(function(S){var E=S;if(!(!zo.length||zo[zo.length-1]!==a)){var C="deltaY"in E?$x(E):Cc(E),j=e.current.filter(function(M){return M.name===E.type&&(M.target===E.target||E.target===M.shadowParent)&&nL(M.delta,C)})[0];if(j&&j.should){E.cancelable&&E.preventDefault();return}if(!j){var N=(l.current.shards||[]).map(Fx).filter(Boolean).filter(function(M){return M.contains(E.target)}),R=N.length>0?d(E,N[0]):!l.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),p=x.useCallback(function(S,E,C,j){var N={name:S,delta:E,target:C,should:j,shadowParent:aL(C)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(R){return R!==N})},1)},[]),m=x.useCallback(function(S){r.current=Cc(S),n.current=void 0},[]),g=x.useCallback(function(S){p(S.type,$x(S),S.target,d(S,t.lockRef.current))},[]),y=x.useCallback(function(S){p(S.type,Cc(S),S.target,d(S,t.lockRef.current))},[]);x.useEffect(function(){return zo.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Fo),document.addEventListener("touchmove",f,Fo),document.addEventListener("touchstart",m,Fo),function(){zo=zo.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,Fo),document.removeEventListener("touchmove",f,Fo),document.removeEventListener("touchstart",m,Fo)}},[]);var b=t.removeScrollBar,k=t.inert;return x.createElement(x.Fragment,null,k?x.createElement(a,{styles:sL(i)}):null,b?x.createElement(YO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function aL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lL=OO(X1,iL);var ku=x.forwardRef(function(t,e){return x.createElement(Su,Xr({},t,{ref:e,sideCar:lL}))});ku.classNames=Su.classNames;var cL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vo=new WeakMap,jc=new WeakMap,Nc={},lh=0,tS=function(t){return t&&(t.host||tS(t.parentNode))},uL=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=tS(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},dL=function(t,e,r,n){var i=uL(e,Array.isArray(t)?t:[t]);Nc[r]||(Nc[r]=new WeakMap);var a=Nc[r],l=[],d=new Set,f=new Set(i),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};i.forEach(p);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(d.has(y))m(y);else try{var b=y.getAttribute(n),k=b!==null&&b!=="false",S=(Vo.get(y)||0)+1,E=(a.get(y)||0)+1;Vo.set(y,S),a.set(y,E),l.push(y),S===1&&k&&jc.set(y,!0),E===1&&y.setAttribute(r,"true"),k||y.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return m(e),d.clear(),lh++,function(){l.forEach(function(g){var y=Vo.get(g)-1,b=a.get(g)-1;Vo.set(g,y),a.set(g,b),y||(jc.has(g)||g.removeAttribute(n),jc.delete(g)),b||g.removeAttribute(r)}),lh--,lh||(Vo=new WeakMap,Vo=new WeakMap,jc=new WeakMap,Nc={})}},um=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=cL(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),dL(n,i,r,"aria-hidden")):function(){return null}},Eu="Dialog",[rS]=_r(Eu),[fL,Fr]=rS(Eu),nS=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,d=x.useRef(null),f=x.useRef(null),[p,m]=Js({prop:n,defaultProp:i??!1,onChange:a,caller:Eu});return c.jsx(fL,{scope:e,triggerRef:d,contentRef:f,contentId:bn(),titleId:bn(),descriptionId:bn(),open:p,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:l,children:r})};nS.displayName=Eu;var sS="DialogTrigger",oS=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(sS,r),a=Ie(e,i.triggerRef);return c.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hm(i.open),...n,ref:a,onClick:he(t.onClick,i.onOpenToggle)})});oS.displayName=sS;var dm="DialogPortal",[hL,iS]=rS(dm,{forceMount:void 0}),aS=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Fr(dm,e);return c.jsx(hL,{scope:e,forceMount:r,children:x.Children.map(n,l=>c.jsx(Cr,{present:r||a.open,children:c.jsx(bu,{asChild:!0,container:i,children:l})}))})};aS.displayName=dm;var Jc="DialogOverlay",lS=x.forwardRef((t,e)=>{const r=iS(Jc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Fr(Jc,t.__scopeDialog);return a.modal?c.jsx(Cr,{present:n||a.open,children:c.jsx(mL,{...i,ref:e})}):null});lS.displayName=Jc;var pL=Xs("DialogOverlay.RemoveScroll"),mL=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(Jc,r);return c.jsx(ku,{as:pL,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(_e.div,{"data-state":hm(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Qs="DialogContent",cS=x.forwardRef((t,e)=>{const r=iS(Qs,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Fr(Qs,t.__scopeDialog);return c.jsx(Cr,{present:n||a.open,children:a.modal?c.jsx(gL,{...i,ref:e}):c.jsx(vL,{...i,ref:e})})});cS.displayName=Qs;var gL=x.forwardRef((t,e)=>{const r=Fr(Qs,t.__scopeDialog),n=x.useRef(null),i=Ie(e,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return um(a)},[]),c.jsx(uS,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&a.preventDefault()}),onFocusOutside:he(t.onFocusOutside,a=>a.preventDefault())})}),vL=x.forwardRef((t,e)=>{const r=Fr(Qs,t.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return c.jsx(uS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;r.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),uS=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,d=Fr(Qs,r),f=x.useRef(null),p=Ie(e,f);return cm(),c.jsxs(c.Fragment,{children:[c.jsx(wu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(xu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":hm(d.open),...l,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(yL,{titleId:d.titleId}),c.jsx(wL,{contentRef:f,descriptionId:d.descriptionId})]})]})}),fm="DialogTitle",dS=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(fm,r);return c.jsx(_e.h2,{id:i.titleId,...n,ref:e})});dS.displayName=fm;var fS="DialogDescription",hS=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(fS,r);return c.jsx(_e.p,{id:i.descriptionId,...n,ref:e})});hS.displayName=fS;var pS="DialogClose",mS=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(pS,r);return c.jsx(_e.button,{type:"button",...n,ref:e,onClick:he(t.onClick,()=>i.onOpenChange(!1))})});mS.displayName=pS;function hm(t){return t?"open":"closed"}var gS="DialogTitleWarning",[J6,vS]=xI(gS,{contentName:Qs,titleName:fm,docsSlug:"dialog"}),yL=({titleId:t})=>{const e=vS(gS),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},xL="DialogDescriptionWarning",wL=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vS(xL).contentName}}.`;return x.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},bL=nS,SL=oS,kL=aS,yS=lS,xS=cS,wS=dS,bS=hS,EL=mS;function Qc({...t}){return c.jsx(bL,{"data-slot":"dialog",...t})}function _L({...t}){return c.jsx(SL,{"data-slot":"dialog-trigger",...t})}function CL({...t}){return c.jsx(kL,{"data-slot":"dialog-portal",...t})}const SS=x.forwardRef(({className:t,...e},r)=>c.jsx(yS,{ref:r,"data-slot":"dialog-overlay",className:Be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));SS.displayName=yS.displayName;const Ia=x.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(CL,{"data-slot":"dialog-portal",children:[c.jsx(SS,{}),c.jsxs(xS,{ref:n,"data-slot":"dialog-content",className:Be("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,c.jsxs(EL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(ka,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ia.displayName=xS.displayName;function Zc({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-header",className:Be("flex flex-col gap-2 text-center sm:text-left",t),...e})}const Ma=x.forwardRef(({className:t,...e},r)=>c.jsx(wS,{ref:r,"data-slot":"dialog-title",className:Be("text-lg leading-none font-semibold",t),...e}));Ma.displayName=wS.displayName;const Oa=x.forwardRef(({className:t,...e},r)=>c.jsx(bS,{ref:r,"data-slot":"dialog-description",className:Be("text-muted-foreground text-sm",t),...e}));Oa.displayName=bS.displayName;var jL=x.createContext(void 0);function Ya(t){const e=x.useContext(jL);return t||e||"ltr"}function La(t,[e,r]){return Math.min(r,Math.max(e,t))}function NL(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var pm="ScrollArea",[kS]=_r(pm),[TL,jr]=kS(pm),ES=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...l}=t,[d,f]=x.useState(null),[p,m]=x.useState(null),[g,y]=x.useState(null),[b,k]=x.useState(null),[S,E]=x.useState(null),[C,j]=x.useState(0),[N,R]=x.useState(0),[M,L]=x.useState(!1),[D,A]=x.useState(!1),V=Ie(e,Z=>f(Z)),H=Ya(i);return c.jsx(TL,{scope:r,type:n,dir:H,scrollHideDelay:a,scrollArea:d,viewport:p,onViewportChange:m,content:g,onContentChange:y,scrollbarX:b,onScrollbarXChange:k,scrollbarXEnabled:M,onScrollbarXEnabledChange:L,scrollbarY:S,onScrollbarYChange:E,scrollbarYEnabled:D,onScrollbarYEnabledChange:A,onCornerWidthChange:j,onCornerHeightChange:R,children:c.jsx(_e.div,{dir:H,...l,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});ES.displayName=pm;var _S="ScrollAreaViewport",CS=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,l=jr(_S,r),d=x.useRef(null),f=Ie(e,d,l.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...a,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});CS.displayName=_S;var nn="ScrollAreaScrollbar",jS=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=jr(nn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=i,d=t.orientation==="horizontal";return x.useEffect(()=>(d?a(!0):l(!0),()=>{d?a(!1):l(!1)}),[d,a,l]),i.type==="hover"?c.jsx(RL,{...n,ref:e,forceMount:r}):i.type==="scroll"?c.jsx(PL,{...n,ref:e,forceMount:r}):i.type==="auto"?c.jsx(NS,{...n,ref:e,forceMount:r}):i.type==="always"?c.jsx(mm,{...n,ref:e}):null});jS.displayName=nn;var RL=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=jr(nn,t.__scopeScrollArea),[a,l]=x.useState(!1);return x.useEffect(()=>{const d=i.scrollArea;let f=0;if(d){const p=()=>{window.clearTimeout(f),l(!0)},m=()=>{f=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",m)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(Cr,{present:r||a,children:c.jsx(NS,{"data-state":a?"visible":"hidden",...n,ref:e})})}),PL=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=jr(nn,t.__scopeScrollArea),a=t.orientation==="horizontal",l=Cu(()=>f("SCROLL_END"),100),[d,f]=NL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,i.scrollHideDelay,f]),x.useEffect(()=>{const p=i.viewport,m=a?"scrollLeft":"scrollTop";if(p){let g=p[m];const y=()=>{const b=p[m];g!==b&&(f("SCROLL"),l()),g=b};return p.addEventListener("scroll",y),()=>p.removeEventListener("scroll",y)}},[i.viewport,a,f,l]),c.jsx(Cr,{present:r||d!=="hidden",children:c.jsx(mm,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:he(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:he(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),NS=x.forwardRef((t,e)=>{const r=jr(nn,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,l]=x.useState(!1),d=t.orientation==="horizontal",f=Cu(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;l(d?p:m)}},10);return si(r.viewport,f),si(r.content,f),c.jsx(Cr,{present:n||a,children:c.jsx(mm,{"data-state":a?"visible":"hidden",...i,ref:e})})}),mm=x.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=jr(nn,t.__scopeScrollArea),a=x.useRef(null),l=x.useRef(0),[d,f]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=DS(d.viewport,d.content),m={...n,sizes:d,onSizesChange:f,hasThumb:p>0&&p<1,onThumbChange:y=>a.current=y,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:y=>l.current=y};function g(y,b){return LL(y,l.current,d,b)}return r==="horizontal"?c.jsx(AL,{...m,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const y=i.viewport.scrollLeft,b=zx(y,d,i.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=g(y,i.dir))}}):r==="vertical"?c.jsx(DL,{...m,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const y=i.viewport.scrollTop,b=zx(y,d);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=g(y))}}):null}),AL=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=jr(nn,t.__scopeScrollArea),[l,d]=x.useState(),f=x.useRef(null),p=Ie(e,f,a.onScrollbarXChange);return x.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),c.jsx(RS,{"data-orientation":"horizontal",...i,ref:p,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_u(r)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(a.viewport){const y=a.viewport.scrollLeft+m.deltaX;t.onWheelScroll(y),MS(y,g)&&m.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:tu(l.paddingLeft),paddingEnd:tu(l.paddingRight)}})}})}),DL=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=jr(nn,t.__scopeScrollArea),[l,d]=x.useState(),f=x.useRef(null),p=Ie(e,f,a.onScrollbarYChange);return x.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),c.jsx(RS,{"data-orientation":"vertical",...i,ref:p,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_u(r)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(a.viewport){const y=a.viewport.scrollTop+m.deltaY;t.onWheelScroll(y),MS(y,g)&&m.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:tu(l.paddingTop),paddingEnd:tu(l.paddingBottom)}})}})}),[IL,TS]=kS(nn),RS=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:p,onWheelScroll:m,onResize:g,...y}=t,b=jr(nn,r),[k,S]=x.useState(null),E=Ie(e,V=>S(V)),C=x.useRef(null),j=x.useRef(""),N=b.viewport,R=n.content-n.viewport,M=_t(m),L=_t(f),D=Cu(g,10);function A(V){if(C.current){const H=V.clientX-C.current.left,Z=V.clientY-C.current.top;p({x:H,y:Z})}}return x.useEffect(()=>{const V=H=>{const Z=H.target;k?.contains(Z)&&M(H,R)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[N,k,R,M]),x.useEffect(L,[n,L]),si(k,D),si(b.content,D),c.jsx(IL,{scope:r,scrollbar:k,hasThumb:i,onThumbChange:_t(a),onThumbPointerUp:_t(l),onThumbPositionChange:L,onThumbPointerDown:_t(d),children:c.jsx(_e.div,{...y,ref:E,style:{position:"absolute",...y.style},onPointerDown:he(t.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),C.current=k.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),A(V))}),onPointerMove:he(t.onPointerMove,A),onPointerUp:he(t.onPointerUp,V=>{const H=V.target;H.hasPointerCapture(V.pointerId)&&H.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=j.current,b.viewport&&(b.viewport.style.scrollBehavior=""),C.current=null})})})}),eu="ScrollAreaThumb",PS=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=TS(eu,t.__scopeScrollArea);return c.jsx(Cr,{present:r||i.hasThumb,children:c.jsx(ML,{ref:e,...n})})}),ML=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=jr(eu,r),l=TS(eu,r),{onThumbPositionChange:d}=l,f=Ie(e,g=>l.onThumbChange(g)),p=x.useRef(void 0),m=Cu(()=>{p.current&&(p.current(),p.current=void 0)},100);return x.useEffect(()=>{const g=a.viewport;if(g){const y=()=>{if(m(),!p.current){const b=BL(g,d);p.current=b,d()}};return d(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[a.viewport,m,d]),c.jsx(_e.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:he(t.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),k=g.clientX-b.left,S=g.clientY-b.top;l.onThumbPointerDown({x:k,y:S})}),onPointerUp:he(t.onPointerUp,l.onThumbPointerUp)})});PS.displayName=eu;var gm="ScrollAreaCorner",AS=x.forwardRef((t,e)=>{const r=jr(gm,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(OL,{...t,ref:e}):null});AS.displayName=gm;var OL=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=jr(gm,r),[a,l]=x.useState(0),[d,f]=x.useState(0),p=!!(a&&d);return si(i.scrollbarX,()=>{const m=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(m),f(m)}),si(i.scrollbarY,()=>{const m=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(m),l(m)}),p?c.jsx(_e.div,{...n,ref:e,style:{width:a,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tu(t){return t?parseInt(t,10):0}function DS(t,e){const r=t/e;return isNaN(r)?0:r}function _u(t){const e=DS(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function LL(t,e,r,n="ltr"){const i=_u(r),a=i/2,l=e||a,d=i-l,f=r.scrollbar.paddingStart+l,p=r.scrollbar.size-r.scrollbar.paddingEnd-d,m=r.content-r.viewport,g=n==="ltr"?[0,m]:[m*-1,0];return IS([f,p],g)(t)}function zx(t,e,r="ltr"){const n=_u(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,l=e.content-e.viewport,d=a-n,f=r==="ltr"?[0,l]:[l*-1,0],p=La(t,f);return IS([0,l],[0,d])(p)}function IS(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function MS(t,e){return t>0&&t<e}var BL=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},l=r.left!==a.left,d=r.top!==a.top;(l||d)&&e(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function Cu(t,e){const r=_t(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function si(t,e){const r=_t(e);ft(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var UL=ES,$L=CS,FL=AS;function rp({className:t,children:e,...r}){return c.jsxs(UL,{"data-slot":"scroll-area",className:Be("relative",t),...r,children:[c.jsx($L,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),c.jsx(zL,{}),c.jsx(FL,{})]})}function zL({className:t,orientation:e="vertical",...r}){return c.jsx(jS,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Be("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:c.jsx(PS,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function ju({book:t,isOpen:e,onClose:r,onStartReading:n}){const{state:i,actions:a}=ir(),l=rD(),d=nD();if(Ka(),!t)return null;const f=async()=>{try{const j=await a.removeBookFromLibrary(t.id);j.success?(re.success("Livro removido com sucesso!"),r()):re.error(j.message||"Erro ao remover livro")}catch{re.error("Erro ao remover livro")}},p=async()=>{try{const j=await a.toggleFavorite(t.id);j.success?(await a.loadUserData(),re.success(j.message)):re.error(j.message||"Erro ao alterar favorito")}catch(j){console.error("Error toggling favorite:",j),re.error("Erro ao alterar favorito")}},m=async()=>{if(k)try{const j=await a.repositories.bookRepository.updateUserBookStatus(k.id,Ee.READ);await a.loadUserData(),re.success("Livro marcado como lido!"),r()}catch(j){console.error("Error updating book status:",j),re.error("Erro ao marcar como lido")}else try{const j=await a.addBookToLibrary(t.id,Ee.READ);j.success?(re.success("Livro marcado como lido!"),r()):re.error(j.message||"Erro ao marcar como lido")}catch(j){console.error("Error adding book as read:",j),re.error("Erro ao marcar como lido")}},g=async()=>{const j=i.userBooks.find(N=>N.book.id===t.id);if(j){if(j.status!==Ee.CURRENTLY_READING)try{await a.repositories.bookRepository.updateUserBookStatus(j.id,Ee.CURRENTLY_READING),await a.loadUserData(),re.success("Comeando a leitura!")}catch(N){console.error("Error updating book status:",N)}n&&(n(t),r())}else try{const N=await a.addBookToLibrary(t.id,Ee.CURRENTLY_READING);N.success?(re.success("Comeando a leitura!"),setTimeout(()=>{n&&(n(t),r())},100)):re.error(N.message||"Erro ao adicionar livro")}catch(N){console.error("Error adding book to library:",N),re.error("Erro ao adicionar livro")}},y=a.canAddMoreBooks(),b=i.user?.accountType==="guest",k=i.userBooks.find(j=>j.book.id===t.id),S=!!k,E=k?.isFavorite||!1,C=()=>l?"max-w-[95vw] max-h-[90vh]":d?"max-w-lg max-h-[85vh]":"max-w-xl max-h-[80vh]";return c.jsx(Qc,{open:e,onOpenChange:r,children:c.jsx(Ia,{className:`${C()} p-0`,style:{backgroundColor:i.theme==="night"?"rgb(25,25,112)":void 0,color:i.theme==="night"?"#ffffff":void 0},children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"h-64 bg-gradient-to-br from-purple-400 to-purple-600 relative overflow-hidden",children:[t.coverUrl?c.jsx("img",{src:t.coverUrl,alt:t.title,className:"w-full h-full object-cover",onError:j=>{const N=j.target;N.style.display="none"}}):c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(Ue,{className:"text-white opacity-50",size:48})}),t.id==="dom_casmurro"?c.jsx("div",{className:"absolute top-4 right-4 bg-blue-500/90 backdrop-blur-sm rounded-full px-3 py-1",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ue,{className:"text-white",size:14}),c.jsx("span",{className:"text-white text-xs font-medium",children:"E-book Funcionando"})]})}):t.isPublicDomain&&c.jsx("div",{className:"absolute top-4 right-4 bg-green-500/90 backdrop-blur-sm rounded-full px-3 py-1",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ue,{className:"text-white",size:14}),c.jsx("span",{className:"text-white text-xs font-medium",children:"Disponvel"})]})}),c.jsx("div",{className:"absolute top-4 left-4 bg-black/20 backdrop-blur-sm rounded-full px-3 py-1",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(tn,{className:"text-yellow-400 fill-current",size:16}),c.jsx("span",{className:"text-white font-medium",children:(t.rating||0).toFixed(1)})]})}),S&&c.jsx("div",{className:`absolute bottom-4 left-4 backdrop-blur-sm rounded-full px-3 py-1 ${E?"bg-red-500/90":k?.status===Ee.CURRENTLY_READING?"bg-blue-500/90":"bg-green-500/90"}`,children:c.jsxs("div",{className:"flex items-center gap-1",children:[E?c.jsx(qs,{className:"text-white fill-current",size:16}):c.jsx(Ue,{className:"text-white",size:16}),c.jsx("span",{className:"text-white font-medium",children:E?"Favorito":k?.status===Ee.CURRENTLY_READING?"Lendo":"Lido"})]})})]}),c.jsxs("div",{className:`${l?"p-4":"p-6"}`,children:[c.jsxs(Zc,{className:"text-left p-0 mb-4",children:[c.jsx(Ma,{className:`${l?"text-lg":"text-xl"} ${i.theme==="night"?"text-white":"text-black"}`,children:t.title}),c.jsxs(Oa,{className:`mt-1 ${i.theme==="night"?"text-gray-300":"text-gray-600"}`,children:["por ",t.author,"  ",t.publishedYear,t.publisher&&`  ${t.publisher}`]})]}),c.jsxs("div",{className:`grid grid-cols-2 gap-4 mb-4 ${l?"text-xs":"text-sm"}`,children:[c.jsxs("div",{children:[c.jsx("span",{className:`font-medium ${i.theme==="night"?"text-white":"text-black"}`,children:"Pginas:"}),c.jsx("span",{className:`ml-1 ${i.theme==="night"?"text-gray-300":"text-black"}`,children:t.pages||t.pageCount||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:`font-medium ${i.theme==="night"?"text-white":"text-black"}`,children:"Idioma:"}),c.jsx("span",{className:`ml-1 ${i.theme==="night"?"text-gray-300":"text-black"}`,children:t.language==="pt"?"Portugus":t.language==="en"?"Ingls":t.language||"N/A"})]}),t.isbn&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:`font-medium ${i.theme==="night"?"text-white":"text-black"}`,children:"ISBN:"}),c.jsx("span",{className:`ml-1 ${i.theme==="night"?"text-gray-300":"text-black"}`,children:t.isbn})]})]}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(t.categories||[]).map(j=>c.jsxs(Lt,{variant:"secondary",className:"text-xs",style:{backgroundColor:`${j.color}20`,color:j.color},children:[j.icon," ",j.name]},j.id))}),c.jsx(rp,{className:`${l?"h-24":"h-32"} mb-4`,children:c.jsx("p",{className:`${l?"text-xs":"text-sm"} leading-relaxed ${i.theme==="night"?"text-gray-300":"text-black"}`,children:t.description})}),t.isPublicDomain&&c.jsxs("div",{className:`mb-4 p-3 rounded-lg border ${i.theme==="night"?"bg-blue-900/30 border-blue-700":"bg-gray-50 border-gray-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ue,{className:`${i.theme==="night"?"text-green-400":"text-green-600"}`,size:16}),c.jsx("p",{className:`text-sm font-medium ${i.theme==="night"?"text-white":"text-black"}`,children:"Disponvel para Leitura"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[c.jsx(Lt,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"Online"}),c.jsx(Lt,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Domnio Pblico"}),c.jsx(Lt,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-800",children:"Gratuito"})]}),c.jsx("p",{className:`text-xs mb-2 ${i.theme==="night"?"text-gray-400":"text-gray-500"}`,children:"Obra de domnio pblico - Leitura online gratuita"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:`text-xs font-medium ${i.theme==="night"?"text-white":"text-black"}`,children:"Disponvel tambm em:"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("a",{href:"https://www.gutenberg.org",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Project Gutenberg"}),c.jsx("a",{href:"https://openlibrary.org",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Open Library"}),c.jsx("a",{href:"https://manybooks.net",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"ManyBooks"})]})]})]}),!y&&b&&!S&&c.jsx("div",{className:"mb-4 p-3 bg-orange-50 rounded-lg border border-orange-200",children:c.jsx("p",{className:"text-sm text-orange-700",children:"Limite de livros atingido. Crie uma conta para adicionar mais livros!"})}),c.jsx("div",{className:"space-y-3",children:S?c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs(ge,{onClick:g,className:"w-full bg-purple-600 hover:bg-purple-700 flex items-center justify-center gap-2",children:[c.jsx(Ue,{size:16}),k?.status===Ee.CURRENTLY_READING?"Continuar Lendo":"Ler Agora"]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(ge,{onClick:p,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[c.jsx(qs,{size:16,className:`mr-2 ${E?"fill-current text-white":"text-white"}`}),"Favoritar"]}),c.jsxs(ge,{onClick:m,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[c.jsx(Da,{size:16,className:"mr-2 text-white"}),"J Li"]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.jsxs(ge,{onClick:f,variant:"outline",className:"border-gray-200 text-gray-700 hover:bg-gray-50",children:[c.jsx(KM,{size:16,className:"mr-1"}),"Remover dos Favoritos"]})}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-sm text-gray-500",children:E?"Livro nos seus favoritos":"Livro adicionado"})})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs(ge,{onClick:g,className:"w-full bg-purple-600 hover:bg-purple-700 flex items-center justify-center gap-2",disabled:!y,children:[c.jsx(Ue,{size:16}),"Ler Agora"]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(ge,{onClick:p,className:"bg-purple-600 hover:bg-purple-700 text-white",disabled:!y,children:[c.jsx(qs,{size:16,className:"mr-2 text-white"}),"Favoritar"]}),c.jsxs(ge,{onClick:m,variant:"outline",className:"bg-purple-600 hover:bg-purple-700 text-white",disabled:!y,children:[c.jsx(Da,{size:16,className:"mr-2 text-white"}),"J Li"]})]})]})})]})]})})})}function vm(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function ym(t){const[e,r]=x.useState(void 0);return ft(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,d=p.blockSize}else l=t.offsetWidth,d=t.offsetHeight;r({width:l,height:d})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function Nu(t){const e=t+"CollectionProvider",[r,n]=_r(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:E,children:C}=S,j=ie.useRef(null),N=ie.useRef(new Map).current;return c.jsx(i,{scope:E,itemMap:N,collectionRef:j,children:C})};l.displayName=e;const d=t+"CollectionSlot",f=Xs(d),p=ie.forwardRef((S,E)=>{const{scope:C,children:j}=S,N=a(d,C),R=Ie(E,N.collectionRef);return c.jsx(f,{ref:R,children:j})});p.displayName=d;const m=t+"CollectionItemSlot",g="data-radix-collection-item",y=Xs(m),b=ie.forwardRef((S,E)=>{const{scope:C,children:j,...N}=S,R=ie.useRef(null),M=Ie(E,R),L=a(m,C);return ie.useEffect(()=>(L.itemMap.set(R,{ref:R,...N}),()=>void L.itemMap.delete(R))),c.jsx(y,{[g]:"",ref:M,children:j})});b.displayName=m;function k(S){const E=a(t+"CollectionConsumer",S);return ie.useCallback(()=>{const j=E.collectionRef.current;if(!j)return[];const N=Array.from(j.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((L,D)=>N.indexOf(L.ref.current)-N.indexOf(D.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:p,ItemSlot:b},k,n]}var OS=["PageUp","PageDown"],LS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},gi="Slider",[np,VL,WL]=Nu(gi),[US]=_r(gi,[WL]),[HL,Tu]=US(gi),$S=x.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:f=0,defaultValue:p=[n],value:m,onValueChange:g=()=>{},onValueCommit:y=()=>{},inverted:b=!1,form:k,...S}=t,E=x.useRef(new Set),C=x.useRef(0),N=l==="horizontal"?GL:KL,[R=[],M]=Js({prop:m,defaultProp:p,onChange:Z=>{[...E.current][C.current]?.focus(),g(Z)}}),L=x.useRef(R);function D(Z){const ce=QL(R,Z);H(Z,ce)}function A(Z){H(Z,C.current)}function V(){const Z=L.current[C.current];R[C.current]!==Z&&y(R)}function H(Z,ce,{commit:ae}={commit:!1}){const ue=r3(a),ye=n3(Math.round((Z-n)/a)*a+n,ue),Y=La(ye,[n,i]);M((q=[])=>{const T=XL(q,Y,ce);if(t3(T,f*a)){C.current=T.indexOf(Y);const U=String(T)!==String(q);return U&&ae&&y(T),U?T:q}else return q})}return c.jsx(HL,{scope:t.__scopeSlider,name:r,disabled:d,min:n,max:i,valueIndexToChangeRef:C,thumbs:E.current,values:R,orientation:l,form:k,children:c.jsx(np.Provider,{scope:t.__scopeSlider,children:c.jsx(np.Slot,{scope:t.__scopeSlider,children:c.jsx(N,{"aria-disabled":d,"data-disabled":d?"":void 0,...S,ref:e,onPointerDown:he(S.onPointerDown,()=>{d||(L.current=R)}),min:n,max:i,inverted:b,onSlideStart:d?void 0:D,onSlideMove:d?void 0:A,onSlideEnd:d?void 0:V,onHomeKeyDown:()=>!d&&H(n,0,{commit:!0}),onEndKeyDown:()=>!d&&H(i,R.length-1,{commit:!0}),onStepKeyDown:({event:Z,direction:ce})=>{if(!d){const ye=OS.includes(Z.key)||Z.shiftKey&&LS.includes(Z.key)?10:1,Y=C.current,q=R[Y],T=a*ye*ce;H(q+T,Y,{commit:!0})}}})})})})});$S.displayName=gi;var[FS,zS]=US(gi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),GL=x.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:l,onSlideMove:d,onSlideEnd:f,onStepKeyDown:p,...m}=t,[g,y]=x.useState(null),b=Ie(e,N=>y(N)),k=x.useRef(void 0),S=Ya(i),E=S==="ltr",C=E&&!a||!E&&a;function j(N){const R=k.current||g.getBoundingClientRect(),M=[0,R.width],D=xm(M,C?[r,n]:[n,r]);return k.current=R,D(N-R.left)}return c.jsx(FS,{scope:t.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:c.jsx(VS,{dir:S,"data-orientation":"horizontal",...m,ref:b,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const R=j(N.clientX);l?.(R)},onSlideMove:N=>{const R=j(N.clientX);d?.(R)},onSlideEnd:()=>{k.current=void 0,f?.()},onStepKeyDown:N=>{const M=BS[C?"from-left":"from-right"].includes(N.key);p?.({event:N,direction:M?-1:1})}})})}),KL=x.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:d,onStepKeyDown:f,...p}=t,m=x.useRef(null),g=Ie(e,m),y=x.useRef(void 0),b=!i;function k(S){const E=y.current||m.current.getBoundingClientRect(),C=[0,E.height],N=xm(C,b?[n,r]:[r,n]);return y.current=E,N(S-E.top)}return c.jsx(FS,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:c.jsx(VS,{"data-orientation":"vertical",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const E=k(S.clientY);a?.(E)},onSlideMove:S=>{const E=k(S.clientY);l?.(E)},onSlideEnd:()=>{y.current=void 0,d?.()},onStepKeyDown:S=>{const C=BS[b?"from-bottom":"from-top"].includes(S.key);f?.({event:S,direction:C?-1:1})}})})}),VS=x.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:f,...p}=t,m=Tu(gi,r);return c.jsx(_e.span,{...p,ref:e,onKeyDown:he(t.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):OS.concat(LS).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:he(t.onPointerDown,g=>{const y=g.target;y.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(y)?y.focus():n(g)}),onPointerMove:he(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:he(t.onPointerUp,g=>{const y=g.target;y.hasPointerCapture(g.pointerId)&&(y.releasePointerCapture(g.pointerId),a(g))})})}),WS="SliderTrack",HS=x.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Tu(WS,r);return c.jsx(_e.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});HS.displayName=WS;var sp="SliderRange",GS=x.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Tu(sp,r),a=zS(sp,r),l=x.useRef(null),d=Ie(e,l),f=i.values.length,p=i.values.map(y=>YS(y,i.min,i.max)),m=f>1?Math.min(...p):0,g=100-Math.max(...p);return c.jsx(_e.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:d,style:{...t.style,[a.startEdge]:m+"%",[a.endEdge]:g+"%"}})});GS.displayName=sp;var op="SliderThumb",KS=x.forwardRef((t,e)=>{const r=VL(t.__scopeSlider),[n,i]=x.useState(null),a=Ie(e,d=>i(d)),l=x.useMemo(()=>n?r().findIndex(d=>d.ref.current===n):-1,[r,n]);return c.jsx(qL,{...t,ref:a,index:l})}),qL=x.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...a}=t,l=Tu(op,r),d=zS(op,r),[f,p]=x.useState(null),m=Ie(e,j=>p(j)),g=f?l.form||!!f.closest("form"):!0,y=ym(f),b=l.values[n],k=b===void 0?0:YS(b,l.min,l.max),S=JL(n,l.values.length),E=y?.[d.size],C=E?ZL(E,k,d.direction):0;return x.useEffect(()=>{if(f)return l.thumbs.add(f),()=>{l.thumbs.delete(f)}},[f,l.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${k}% + ${C}px)`},children:[c.jsx(np.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(_e.span,{role:"slider","aria-label":t["aria-label"]||S,"aria-valuemin":l.min,"aria-valuenow":b,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...a,ref:m,style:b===void 0?{display:"none"}:t.style,onFocus:he(t.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),g&&c.jsx(qS,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:b},n)]})});KS.displayName=op;var YL="RadioBubbleInput",qS=x.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=x.useRef(null),a=Ie(i,n),l=vm(e);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const g=new Event("input",{bubbles:!0});m.call(d,e),d.dispatchEvent(g)}},[l,e]),c.jsx(_e.input,{style:{display:"none"},...r,ref:a,defaultValue:e})});qS.displayName=YL;function XL(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,a)=>i-a)}function YS(t,e,r){const a=100/(r-e)*(t-e);return La(a,[0,100])}function JL(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function QL(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function ZL(t,e,r){const n=t/2,a=xm([0,50],[0,n]);return(n-a(e)*r)*r}function e3(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function t3(t,e){if(e>0){const r=e3(t);return Math.min(...r)>=e}return!0}function xm(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function r3(t){return(String(t).split(".")[1]||"").length}function n3(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var s3=$S,o3=HS,i3=GS,a3=KS;function l3({className:t,defaultValue:e,value:r,min:n=0,max:i=100,...a}){const l=x.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,i],[r,e,n,i]);return c.jsxs(s3,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:i,className:Be("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...a,children:[c.jsx(o3,{"data-slot":"slider-track",className:Be("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:c.jsx(i3,{"data-slot":"slider-range",className:Be("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(d,f)=>c.jsx(a3,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},f))]})}function Br({className:t,type:e,...r}){return c.jsx("input",{type:e,"data-slot":"input",className:Be("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var c3="Separator",Vx="horizontal",u3=["horizontal","vertical"],XS=x.forwardRef((t,e)=>{const{decorative:r,orientation:n=Vx,...i}=t,a=d3(n)?n:Vx,d=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(_e.div,{"data-orientation":a,...d,...i,ref:e})});XS.displayName=c3;function d3(t){return u3.includes(t)}var f3=XS;function Wx({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return c.jsx(f3,{"data-slot":"separator-root",decorative:r,orientation:e,className:Be("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function wm({bookTitle:t,book:e,bookContent:r,currentPage:n,onBack:i,onPageChange:a}){const{actions:l,state:d}=ir(),[f,p]=x.useState(r||""),[m,g]=x.useState([]),[y,b]=x.useState(0),[k,S]=x.useState(n?n-1:0),[E,C]=x.useState(!r),[j,N]=x.useState(!1),[R,M]=x.useState(!1),[L,D]=x.useState(16),[A,V]=x.useState("dark"),[H,Z]=x.useState("sans"),[ce,ae]=x.useState(""),[ue,ye]=x.useState([]),Y=J=>{switch(J){case"sans":return"Arial";case"times":return"Times New Roman";case"merriweather":return"Merriweather";default:return"Arial"}},q=J=>{switch(J){case"sans":return'Arial, "Helvetica Neue", sans-serif';case"times":return'"Times New Roman", Times, serif';case"merriweather":return"Merriweather, Georgia, serif";default:return'Arial, "Helvetica Neue", sans-serif'}},T=()=>"px-8 md:px-12";x.useEffect(()=>{if(r||!e){C(!1);return}(async()=>{C(!0),new Promise((ne,me)=>{setTimeout(()=>me(new Error("Request timeout")),15e3)});try{const ne=await l.repositories.bookRepository.getBookContent(e),me=[{id:"1",title:"Captulo I",content:"Contedo do primeiro captulo...",pageStart:0,pageEnd:0},{id:"2",title:"Captulo II",content:"Contedo do segundo captulo...",pageStart:0,pageEnd:0},{id:"3",title:"Captulo III",content:"Contedo do terceiro captulo...",pageStart:0,pageEnd:0}];p(ne||`${e.title}
Por ${e.author}

${e.description}

Contedo de demonstrao do Eclipse Reads.

Este  um exemplo de contedo para demonstrar as funcionalidades do leitor. O texto pode ser navegado usando as setas do teclado, cliques nas laterais da tela, ou os controles de navegao.

As configuraes de leitura permitem personalizar a fonte, tamanho do texto, tema de cores e muito mais para uma experincia de leitura confortvel e personalizada.`),g(me)}catch(ne){console.error("Error loading book content:",ne);const me=`${e.title}
Por ${e.author}

${e.description}

Contedo de demonstrao do Eclipse Reads.

Este  um exemplo de contedo para demonstrar as funcionalidades completas do leitor digital. O sistema de leitura oferece uma experincia imersiva e personalizvel.

**Caractersticas principais:**

 Navegao intuitiva por pginas
 Configuraes simplificadas de leitura
 Sistema de marcadores
 Modo de leitura adaptvel
 Atalhos de teclado para produtividade

**Como usar:**

Use as setas do teclado ( ) ou clique nas laterais da tela para navegar entre as pginas. Pressione 'S' para abrir as configuraes e 'T' para o sumrio.

O leitor se adapta automaticamente ao seu dispositivo, oferecendo uma experincia otimizada tanto em desktop quanto em dispositivos mveis.

**Personalizao:**

Acesse as configuraes para personalizar:
- Tamanho e tipo de fonte
- Tema de cores (claro, escuro, spia)

Sua experincia de leitura  nica e pode ser personalizada de acordo com suas preferncias.

**Marcadores:**

Use a tecla 'B' ou o cone de marcador para salvar pginas importantes.

O Eclipse Reads transforma a leitura digital em uma experincia rica e envolvente, combinando funcionalidade moderna com design elegante.`;p(me),g([{id:"1",title:"Introduo ao Eclipse Reads",content:"Contedo do primeiro captulo...",pageStart:1,pageEnd:3},{id:"2",title:"Funcionalidades Principais",content:"Contedo do segundo captulo...",pageStart:4,pageEnd:7},{id:"3",title:"Personalizao Simplificada",content:"Contedo do terceiro captulo...",pageStart:8,pageEnd:12}])}finally{C(!1)}})()},[e,r]);const U=x.useMemo(()=>{if(!f)return[""];const J=f.split(`

`).filter(nt=>nt.trim()),ne=Math.max(300,Math.min(800,L*25)),me=[];let Pe="",Je=0;for(const nt of J){const ar=nt.split(" ").length;Je+ar>ne&&Pe?(me.push(Pe.trim()),Pe=nt+`

`,Je=ar):(Pe+=nt+`

`,Je+=ar)}return Pe.trim()&&me.push(Pe.trim()),me.length>0?me:["Contedo no disponvel"]},[f,L]),F=()=>{if(k<U.length-1){const J=k+1;if(S(J),a&&a(J+1),e){const ne=d.userBooks.find(me=>me.book.id===e.id);if(ne)try{l.updateReadingProgress(ne.id,J+1)}catch(me){console.warn("Failed to update reading progress:",me)}}}},I=()=>{if(k>0){const J=k-1;if(S(J),a&&a(J+1),e){const ne=d.userBooks.find(me=>me.book.id===e.id);if(ne)try{l.updateReadingProgress(ne.id,J+1)}catch(me){console.warn("Failed to update reading progress:",me)}}}},G=()=>{ye(J=>J.includes(k)?J.filter(ne=>ne!==k):[...J,k].sort((ne,me)=>ne-me))},X=ue.includes(k),se=J=>{if(m.length>0&&J>=0&&J<m.length){b(J);const ne=m[J],me=Math.max(0,Math.floor((ne.pageStart-1)*U.length/(e?.pages||100)));S(Math.min(me,U.length-1)),N(!1)}};x.useEffect(()=>{const J=ne=>{(ne.key==="ArrowRight"||ne.key===" ")&&(ne.preventDefault(),F()),ne.key==="ArrowLeft"&&(ne.preventDefault(),I()),(ne.key==="="||ne.key==="+")&&(ne.preventDefault(),D(me=>Math.min(28,me+2))),ne.key==="-"&&(ne.preventDefault(),D(me=>Math.max(12,me-2))),(ne.key==="t"||ne.key==="T")&&(ne.preventDefault(),N(!0)),(ne.key==="s"||ne.key==="S")&&(ne.preventDefault(),M(!0)),ne.key==="Escape"&&(ne.preventDefault(),N(!1),M(!1)),(ne.key==="b"||ne.key==="B")&&(ne.preventDefault(),G())};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[k,U.length]);const pe=(()=>{switch(A){case"light":return{background:"bg-white",text:"text-gray-900",accent:"text-purple-600",card:"bg-gray-50 border-gray-200",header:"bg-gray-50/80"};case"sepia":return{background:"bg-amber-50",text:"text-amber-900",accent:"text-amber-700",card:"bg-amber-100/50 border-amber-200",header:"bg-amber-100/80"};default:return{background:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",text:"text-gray-100",accent:"text-purple-400",card:"bg-white/10 border-white/10",header:"bg-black/30"}}})(),K=m.filter(J=>J.title.toLowerCase().includes(ce.toLowerCase()));if(E)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-white rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-white/90 mb-2",children:"Carregando livro..."}),c.jsx("p",{className:"text-white/60 text-sm",children:"Preparando contedo para leitura"})]})});const le=(k+1)/U.length*100;return c.jsxs("div",{className:`min-h-screen ${pe.background} ${pe.text} transition-all duration-300 flex flex-col`,children:[c.jsxs(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`sticky top-0 z-10 ${pe.header} backdrop-blur-sm border-b border-white/10 px-4 py-2 flex-shrink-0`,children:[c.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c.jsx(ge,{variant:"ghost",size:"sm",onClick:i,className:"rounded-full p-2 flex-shrink-0 hover:bg-white/10",title:"Voltar",children:c.jsx(Aa,{size:20})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h1",{className:"font-medium truncate text-lg",children:e?.title||t}),c.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-70",children:[c.jsx(lm,{size:14}),c.jsx("span",{children:e?.author||"Autor Desconhecido"}),c.jsx("span",{children:""}),c.jsx(Ue,{size:14}),c.jsxs("span",{children:["Pgina ",k+1," de ",U.length]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[Math.round(le),"% concludo"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ge,{variant:"ghost",size:"sm",onClick:G,className:`rounded-full p-2 hover:bg-white/10 ${X?"text-yellow-400":""}`,title:X?"Remover marcador (B)":"Adicionar marcador (B)",children:c.jsx(ca,{size:20,className:X?"fill-current":""})}),c.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>N(!0),className:"rounded-full p-2 hover:bg-white/10",title:"Sumrio (T)",children:c.jsx(Cx,{size:20})}),c.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>M(!0),className:"rounded-full p-2 hover:bg-white/10",title:"Configuraes (S)",children:c.jsx(Xc,{size:20})})]})]}),c.jsx("div",{className:"max-w-6xl mx-auto mt-2",children:c.jsx("div",{className:"w-full bg-white/10 rounded-full h-1",children:c.jsx(Ve.div,{className:"bg-purple-400 h-1 rounded-full",initial:{width:0},animate:{width:`${le}%`},transition:{duration:.3}})})})]}),c.jsxs("div",{className:"flex-1 relative px-4 md:px-6 py-4",children:[c.jsx("div",{className:"max-w-5xl mx-auto h-full",children:c.jsxs(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:`${pe.card} backdrop-blur-sm rounded-2xl ${T()} min-h-[calc(100vh-180px)] cursor-pointer shadow-2xl border relative`,onClick:J=>{const ne=J.currentTarget.getBoundingClientRect(),me=J.clientX-ne.left,Pe=ne.width/2;me>Pe+100?F():me<Pe-100&&I()},children:[c.jsx("div",{className:"absolute top-4 right-4 z-10",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Lt,{variant:"secondary",className:"bg-black/20 backdrop-blur-sm text-white border-white/20",children:[Y(H)," ",L,"px"]}),c.jsxs(Lt,{variant:"secondary",className:"bg-black/20 backdrop-blur-sm text-white border-white/20",children:[A==="light"?"":A==="sepia"?"":""," ",A]}),X&&c.jsx(Lt,{variant:"secondary",className:"bg-yellow-500/20 backdrop-blur-sm text-yellow-400 border-yellow-400/20",children:c.jsx(ca,{size:12,className:"fill-current"})})]})}),c.jsx("div",{className:`prose prose-lg leading-relaxed max-w-none ${pe.text} pt-8`,style:{fontSize:`${L}px`,lineHeight:1.6,textAlign:"justify",fontFamily:q(H)},children:c.jsx("div",{className:"whitespace-pre-line",children:U[k]||"Contedo no disponvel"})})]},k)}),c.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:c.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-black/30 backdrop-blur-sm rounded-full",children:[c.jsx(ge,{variant:"ghost",onClick:I,disabled:k===0,size:"sm",className:"p-2 hover:bg-white/20 disabled:opacity-30 rounded-full",children:c.jsx(qc,{size:18})}),c.jsxs("div",{className:"flex items-center gap-2 px-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),c.jsxs("span",{className:"text-sm font-medium text-white",children:[k+1," / ",U.length]}),c.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400/30 rounded-full"})]}),c.jsx(ge,{variant:"ghost",onClick:F,disabled:k===U.length-1,size:"sm",className:"p-2 hover:bg-white/20 disabled:opacity-30 rounded-full",children:c.jsx(z1,{size:18})})]})})]}),c.jsx(Qc,{open:j,onOpenChange:N,children:c.jsxs(Ia,{className:"max-w-2xl max-h-[80vh] bg-gray-50 text-gray-900",children:[c.jsxs(Zc,{children:[c.jsxs(Ma,{className:"flex items-center gap-2 text-purple-700",children:[c.jsx(Cx,{size:20}),"Sumrio e Navegao"]}),c.jsx(Oa,{className:"text-gray-600",children:"Navegue pelos captulos e acesse seus marcadores"})]}),c.jsxs("div",{className:"relative mb-4",children:[c.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),c.jsx(Br,{placeholder:"Buscar no livro...",value:ce,onChange:J=>ae(J.target.value),className:"pl-10 bg-white border-gray-200"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2 text-gray-700",children:[c.jsx(Ue,{size:16}),"Captulos"]}),c.jsx(rp,{className:"h-[300px]",children:K.length>0?c.jsx("div",{className:"space-y-2",children:K.map((J,ne)=>c.jsx("button",{onClick:()=>se(ne),className:"w-full text-left p-3 rounded-lg bg-white border border-gray-200 hover:bg-purple-50 hover:border-purple-200 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:J.title}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pginas ",J.pageStart," - ",J.pageEnd]})]}),c.jsx(qc,{className:"w-4 h-4 text-gray-400 rotate-180"})]})},J.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Ue,{size:32,className:"mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"Nenhum captulo encontrado"})]})})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2 text-gray-700",children:[c.jsx(ca,{size:16}),"Marcadores"]}),c.jsx(rp,{className:"h-[300px]",children:ue.length>0?c.jsx("div",{className:"space-y-2",children:ue.map(J=>c.jsx("button",{onClick:()=>{S(J),N(!1)},className:"w-full text-left p-3 rounded-lg bg-white border border-gray-200 hover:bg-yellow-50 hover:border-yellow-200 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-gray-800 text-sm",children:["Pgina ",J+1]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:[U[J]?.substring(0,60),"..."]})]}),c.jsx(ca,{className:"w-4 h-4 text-yellow-500 fill-current"})]})},J))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(ca,{size:32,className:"mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"Nenhum marcador salvo"})]})})]})]})]})}),c.jsx(Qc,{open:R,onOpenChange:M,children:c.jsxs(Ia,{className:"max-w-lg bg-gray-50 text-gray-900",children:[c.jsxs(Zc,{children:[c.jsxs(Ma,{className:"flex items-center gap-2 text-purple-700",children:[c.jsx(Xc,{size:20}),"Configuraes de Leitura"]}),c.jsx(Oa,{className:"text-gray-600",children:"Personalize sua experincia de leitura"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-3 text-gray-700",children:"Tamanho da Fonte"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ge,{variant:"outline",size:"sm",onClick:()=>D(J=>Math.max(12,J-2)),className:"p-2",children:c.jsx(jM,{size:16})}),c.jsx(l3,{value:[L],onValueChange:J=>D(J[0]),max:28,min:12,step:2,className:"flex-1"}),c.jsx(ge,{variant:"outline",size:"sm",onClick:()=>D(J=>Math.min(28,J+2)),className:"p-2",children:c.jsx(DM,{size:16})})]}),c.jsxs("div",{className:"text-center mt-2 text-sm text-gray-600",children:[L,"px"]})]}),c.jsx(Wx,{}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-3 text-gray-700",children:"Tipo de Fonte"}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:["sans","times","merriweather"].map(J=>c.jsx("button",{onClick:()=>Z(J),className:`p-3 rounded-lg border text-left transition-colors ${H===J?"bg-purple-100 border-purple-300 text-purple-800":"bg-white border-gray-200 hover:bg-gray-50"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-medium",children:Y(J)}),c.jsx("span",{className:"text-lg",style:{fontFamily:q(J)},children:"Aa"})]})},J))})]}),c.jsx(Wx,{}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-3 text-gray-700",children:"Tema"}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("button",{onClick:()=>V("light"),className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${A==="light"?"bg-purple-100 border-purple-300 text-purple-800":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[c.jsx(am,{size:20,className:"text-yellow-500"}),c.jsxs("div",{className:"text-left",children:[c.jsx("h4",{className:"font-medium",children:"Modo Claro"}),c.jsx("p",{className:"text-xs opacity-70",children:"Fundo branco, ideal para ambientes bem iluminados"})]})]}),c.jsxs("button",{onClick:()=>V("sepia"),className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${A==="sepia"?"bg-purple-100 border-purple-300 text-purple-800":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[c.jsx("div",{className:"w-5 h-5 bg-amber-400 rounded-full"}),c.jsxs("div",{className:"text-left",children:[c.jsx("h4",{className:"font-medium",children:"Modo Spia"}),c.jsx("p",{className:"text-xs opacity-70",children:"Tom amarelado, reduz o cansao visual"})]})]}),c.jsxs("button",{onClick:()=>V("dark"),className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${A==="dark"?"bg-purple-100 border-purple-300 text-purple-800":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[c.jsx(im,{size:20,className:"text-blue-400"}),c.jsxs("div",{className:"text-left",children:[c.jsx("h4",{className:"font-medium",children:"Modo Escuro"}),c.jsx("p",{className:"text-xs opacity-70",children:"Fundo escuro, ideal para leitura noturna"})]})]})]})]})]})]})})]})}function kt({className:t,...e}){return c.jsx("div",{"data-slot":"card",className:Be("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function oi({className:t,...e}){return c.jsx("div",{"data-slot":"card-header",className:Be("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function ii({className:t,...e}){return c.jsx("h4",{"data-slot":"card-title",className:Be("leading-none",t),...e})}function Et({className:t,...e}){return c.jsx("div",{"data-slot":"card-content",className:Be("px-6 [&:last-child]:pb-6",t),...e})}const ua=[{id:"1",quote:"A vida no  a que a gente viveu, e sim a que a gente recorda, e como recorda para cont-la.",bookTitle:"Viver para Contar",author:"Gabriel Garca Mrquez"},{id:"2",quote:"No so as palavras que dizemos ou os pensamentos que pensamos, mas sim aquilo que fazemos que nos define.",bookTitle:"O Hobbit",author:"J.R.R. Tolkien"},{id:"3",quote:"O tempo  o fogo no qual ns queimamos.",bookTitle:"Star Trek: Generations",author:"Delmore Schwartz"},{id:"4",quote:"Tudo o que somos  resultado do que pensamos.  fundado em nossos pensamentos e  feito de nossos pensamentos.",bookTitle:"Dhammapada",author:"Buda"},{id:"5",quote:"A imaginao  mais importante que o conhecimento, pois o conhecimento  limitado, enquanto a imaginao abrange o mundo inteiro.",bookTitle:"Como Vejo o Mundo",author:"Albert Einstein"},{id:"6",quote:"A nica maneira de fazer um trabalho excelente  amar o que voc faz.",bookTitle:"Steve Jobs",author:"Walter Isaacson"},{id:"7",quote:"Ser ou no ser, eis a questo.",bookTitle:"Hamlet",author:"William Shakespeare"},{id:"8",quote:"A vida  aquilo que acontece enquanto voc est ocupado fazendo outros planos.",bookTitle:"Beautiful Boy",author:"John Lennon"}];function h3(){const[t,e]=x.useState(0),[r,n]=x.useState(!1);x.useEffect(()=>{const d=setInterval(()=>{i()},8e3);return()=>clearInterval(d)},[t]);const i=()=>{r||(n(!0),setTimeout(()=>{e(d=>(d+1)%ua.length),n(!1)},300))},a=()=>{r||(n(!0),setTimeout(()=>{e(d=>(d-1+ua.length)%ua.length),n(!1)},300))},l=ua[t];return c.jsxs(kt,{className:"bg-gradient-to-r from-purple-900/40 to-blue-900/40 backdrop-blur-xl border border-purple-400/30 shadow-2xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 to-transparent"}),c.jsx("div",{className:"absolute top-4 right-4 opacity-20",children:c.jsx(jx,{size:48,className:"text-purple-300"})}),c.jsxs(Et,{className:"p-6 relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jx,{size:20,className:"text-purple-300"}),c.jsx("span",{className:"text-purple-300 font-medium text-sm",children:"Frase do Dia"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ge,{variant:"ghost",size:"sm",onClick:a,disabled:r,className:"p-1 h-8 w-8 text-white/70 hover:text-white hover:bg-purple-600/20 transition-all duration-300",children:c.jsx(qc,{size:16})}),c.jsx("div",{className:"flex gap-1 mx-2",children:ua.map((d,f)=>c.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${f===t?"bg-purple-400 scale-110":"bg-white/30 hover:bg-white/50"}`,onClick:()=>{r||(n(!0),setTimeout(()=>{e(f),n(!1)},300))},role:"button",tabIndex:0},f))}),c.jsx(ge,{variant:"ghost",size:"sm",onClick:i,disabled:r,className:"p-1 h-8 w-8 text-white/70 hover:text-white hover:bg-purple-600/20 transition-all duration-300",children:c.jsx(z1,{size:16})})]})]}),c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},className:"space-y-4",children:[c.jsxs("blockquote",{className:"text-white text-lg leading-relaxed italic",children:['"',l.quote,'"']}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-purple-200 font-medium",children:l.bookTitle}),c.jsxs("p",{className:"text-white/70 text-sm",children:[" ",l.author]})]})})]},t),c.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-purple-500/5 to-blue-500/5 transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`})]})]})}function br({className:t,...e}){return c.jsx("div",{"data-slot":"skeleton",className:Be("bg-accent animate-pulse rounded-md",t),...e})}function p3(){const{state:t,actions:e}=ir(),[r,n]=x.useState(null),[i,a]=x.useState(!1),[l,d]=x.useState([]),[f,p]=x.useState(!0),[m,g]=x.useState([]),[y,b]=x.useState(null),[k,S]=x.useState("grid"),[E,C]=x.useState(!1);x.useEffect(()=>{j()},[t.user]),x.useEffect(()=>{t.user&&g(t.currentlyReading)},[t.currentlyReading]);const j=async()=>{if(t.user){p(!0);try{const A=await e.repositories.bookRepository.getAllBooks();d(A.slice(0,50))}catch(A){console.error("Error loading home data:",A),re.error("Erro ao carregar livros. Verifique sua conexo com a internet.")}finally{p(!1)}}},N=A=>{n(A),a(!0)},R=async(A,V)=>{const H=l.find(Z=>Z.id===A)||m.find(Z=>Z.book.id===A)?.book;if(!H){re.error("Livro no encontrado");return}if(a(!1),V){const Z=t.userBooks.find(ce=>ce.book.id===A);b({book:H,content:V,currentPage:Z?.progress?.currentPage||1})}else if(H.source==="elivros")try{re.info("Carregando contedo do livro...");const Z=await e.repositories.bookRepository.getBookContent(H),ce=t.userBooks.find(ae=>ae.book.id===A);b({book:H,content:Z,currentPage:ce?.progress?.currentPage||1})}catch(Z){console.error("Failed to load elivros.info book content:",Z),re.error("No foi possvel carregar o contedo do livro.")}else if(H.source==="gutenberg"&&H.isPublicDomain)try{re.info("Baixando contedo do livro...");const Z=await e.repositories.bookRepository.getBookContent(H),ce=t.userBooks.find(ae=>ae.book.id===A);b({book:H,content:Z,currentPage:ce?.progress?.currentPage||1})}catch(Z){console.error("Failed to download book content:",Z),re.error("No foi possvel baixar o contedo do livro. Verifique sua conexo.")}else re.info("Modo de demonstrao - contedo simulado"),b({book:H,content:`Este  o incio de "${H.title}" por ${H.author}.

Este  um modo de demonstrao. Para livros completos, recomendamos usar livros do Project Gutenberg que esto disponveis gratuitamente.

${H.description}

Para continuar lendo este livro, voc precisaria adquiri-lo atravs dos canais oficiais do editor.`,currentPage:1})},M=()=>{b(null)},L=async A=>{if(!y)return;const V=t.userBooks.find(H=>H.book.id===y.book.id);if(V)try{console.log("Updating progress for userBook:",V.id,"page:",A),await e.updateReadingProgress(V.id,A)}catch(H){console.error("Failed to update reading progress:",H);try{await e.updateReadingProgress(y.book.id,A)}catch(Z){console.error("Alternative update also failed:",Z)}}else console.warn("UserBook not found for book:",y.book.id)};if(y)return c.jsx(wm,{bookTitle:y.book.title,book:y.book,bookContent:y.content,currentPage:y.currentPage,onBack:M,onPageChange:L});const D=t.user?.accountType==="guest";return c.jsx("div",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-8",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-white mb-1",children:["Ol, ",t.user?.name||"Usurio","!"]}),c.jsx("p",{className:"text-white/70",children:"O que gostaria de ler hoje?"})]})}),c.jsx("section",{className:"glass rounded-2xl p-4 md:p-6 border border-purple-400/30 bg-gradient-to-r from-purple-500/20 to-purple-600/20",children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:"p-2.5 bg-purple-500/30 rounded-lg flex-shrink-0",children:c.jsx(SM,{className:"text-purple-300",size:18})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-0.5 truncate",children:D?"Libere Todos os Livros!":"Acesso Completo"}),c.jsx("p",{className:"text-white/70 text-xs md:text-sm leading-tight",children:D?"Faa login para recursos ilimitados":"Aproveite livros sem limitao"})]})]}),D&&c.jsx(ge,{onClick:e.logout,className:"bg-purple-500 hover:bg-purple-600 text-white px-3 md:px-4 py-2 text-xs md:text-sm flex-shrink-0",children:"Fazer Login"})]})}),!D&&c.jsx("section",{children:c.jsx(h3,{})}),m.length>0&&c.jsxs("section",{className:"glass rounded-3xl p-6 border border-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-600/20 rounded-xl",children:c.jsx(Qh,{className:"text-purple-400",size:20})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Continue Lendo"})]}),c.jsx(ge,{variant:"ghost",className:"text-purple-400 hover:text-purple-300 text-sm",children:"Ver todos"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.slice(0,4).map(A=>c.jsx(Ys,{book:A.book,userBook:A,onOpenBook:N,onStartReading:R,className:"hover:scale-105 transition-transform"},A.id))})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-600/20 rounded-xl",children:c.jsx(tn,{className:"text-purple-400",size:20})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Atualizaes do Dia"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>S(k==="grid"?"list":"grid"),className:"text-purple-400 hover:text-purple-300 p-2",title:k==="grid"?"Visualizao em lista":"Visualizao em grid",children:k==="grid"?c.jsx(vM,{size:20}):c.jsx(dM,{size:20})}),c.jsx(ge,{variant:"ghost",className:"text-purple-400 hover:text-purple-300 text-sm",children:"Ver todos"})]})]}),f?c.jsx("div",{className:k==="grid"?"grid grid-cols-3 md:grid-cols-6 gap-4":"space-y-4",children:[...Array(6)].map((A,V)=>c.jsxs("div",{className:k==="grid"?"space-y-3":"flex gap-4 p-4 glass rounded-2xl",children:[c.jsx(br,{className:k==="grid"?"h-48 w-full rounded-2xl":"h-24 w-16 rounded-lg"}),c.jsxs("div",{className:k==="grid"?"space-y-2":"flex-1 space-y-2",children:[c.jsx(br,{className:"h-4 w-3/4"}),c.jsx(br,{className:"h-3 w-1/2"})]})]},V))}):c.jsx("div",{className:k==="grid"?"grid grid-cols-3 md:grid-cols-6 gap-4":"space-y-4",children:l.map(A=>c.jsx(Ys,{book:A,variant:k==="grid"?"compact":"list",onOpenBook:N,onStartReading:R,className:"hover:scale-105 transition-transform"},A.id))}),!f&&l.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ue,{className:"text-white/30 mx-auto mb-4",size:64}),c.jsx("p",{className:"text-white/60 mb-4",children:"No foi possvel carregar as atualizaes do dia."}),c.jsx(ge,{onClick:j,variant:"outline",className:"border-purple-400 text-purple-400",children:"Tentar novamente"})]})]}),c.jsx(ju,{book:r,isOpen:i,onClose:()=>a(!1),onStartReading:A=>R(A.id)})]})})}const m3=["top","right","bottom","left"],hs=Math.min,sr=Math.max,ru=Math.round,Tc=Math.floor,en=t=>({x:t,y:t}),g3={left:"right",right:"left",bottom:"top",top:"bottom"},v3={start:"end",end:"start"};function ip(t,e,r){return sr(t,hs(e,r))}function En(t,e){return typeof t=="function"?t(e):t}function _n(t){return t.split("-")[0]}function vi(t){return t.split("-")[1]}function bm(t){return t==="x"?"y":"x"}function Sm(t){return t==="y"?"height":"width"}const y3=new Set(["top","bottom"]);function Jr(t){return y3.has(_n(t))?"y":"x"}function km(t){return bm(Jr(t))}function x3(t,e,r){r===void 0&&(r=!1);const n=vi(t),i=km(t),a=Sm(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=nu(l)),[l,nu(l)]}function w3(t){const e=nu(t);return[ap(t),e,ap(e)]}function ap(t){return t.replace(/start|end/g,e=>v3[e])}const Hx=["left","right"],Gx=["right","left"],b3=["top","bottom"],S3=["bottom","top"];function k3(t,e,r){switch(t){case"top":case"bottom":return r?e?Gx:Hx:e?Hx:Gx;case"left":case"right":return e?b3:S3;default:return[]}}function E3(t,e,r,n){const i=vi(t);let a=k3(_n(t),r==="start",n);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(ap)))),a}function nu(t){return t.replace(/left|right|bottom|top/g,e=>g3[e])}function _3(t){return{top:0,right:0,bottom:0,left:0,...t}}function JS(t){return typeof t!="number"?_3(t):{top:t,right:t,bottom:t,left:t}}function su(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Kx(t,e,r){let{reference:n,floating:i}=t;const a=Jr(e),l=km(e),d=Sm(l),f=_n(e),p=a==="y",m=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,y=n[d]/2-i[d]/2;let b;switch(f){case"top":b={x:m,y:n.y-i.height};break;case"bottom":b={x:m,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(vi(e)){case"start":b[l]-=y*(r&&p?-1:1);break;case"end":b[l]+=y*(r&&p?-1:1);break}return b}const C3=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=r,d=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:g}=Kx(p,n,f),y=n,b={},k=0;for(let S=0;S<d.length;S++){const{name:E,fn:C}=d[S],{x:j,y:N,data:R,reset:M}=await C({x:m,y:g,initialPlacement:n,placement:y,strategy:i,middlewareData:b,rects:p,platform:l,elements:{reference:t,floating:e}});m=j??m,g=N??g,b={...b,[E]:{...b[E],...R}},M&&k<=50&&(k++,typeof M=="object"&&(M.placement&&(y=M.placement),M.rects&&(p=M.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:m,y:g}=Kx(p,y,f)),S=-1)}return{x:m,y:g,placement:y,strategy:i,middlewareData:b}};async function Ba(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:l,elements:d,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=En(e,t),k=JS(b),E=d[y?g==="floating"?"reference":"floating":g],C=su(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(E)))==null||r?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:m,strategy:f})),j=g==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),R=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},M=su(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:N,strategy:f}):j);return{top:(C.top-M.top+k.top)/R.y,bottom:(M.bottom-C.bottom+k.bottom)/R.y,left:(C.left-M.left+k.left)/R.x,right:(M.right-C.right+k.right)/R.x}}const j3=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:l,elements:d,middlewareData:f}=e,{element:p,padding:m=0}=En(t,e)||{};if(p==null)return{};const g=JS(m),y={x:r,y:n},b=km(i),k=Sm(b),S=await l.getDimensions(p),E=b==="y",C=E?"top":"left",j=E?"bottom":"right",N=E?"clientHeight":"clientWidth",R=a.reference[k]+a.reference[b]-y[b]-a.floating[k],M=y[b]-a.reference[b],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let D=L?L[N]:0;(!D||!await(l.isElement==null?void 0:l.isElement(L)))&&(D=d.floating[N]||a.floating[k]);const A=R/2-M/2,V=D/2-S[k]/2-1,H=hs(g[C],V),Z=hs(g[j],V),ce=H,ae=D-S[k]-Z,ue=D/2-S[k]/2+A,ye=ip(ce,ue,ae),Y=!f.arrow&&vi(i)!=null&&ue!==ye&&a.reference[k]/2-(ue<ce?H:Z)-S[k]/2<0,q=Y?ue<ce?ue-ce:ue-ae:0;return{[b]:y[b]+q,data:{[b]:ye,centerOffset:ue-ye-q,...Y&&{alignmentOffset:q}},reset:Y}}}),N3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:S=!0,...E}=En(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const C=_n(i),j=Jr(d),N=_n(d)===d,R=await(f.isRTL==null?void 0:f.isRTL(p.floating)),M=y||(N||!S?[nu(d)]:w3(d)),L=k!=="none";!y&&L&&M.push(...E3(d,S,k,R));const D=[d,...M],A=await Ba(e,E),V=[];let H=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&V.push(A[C]),g){const ue=x3(i,l,R);V.push(A[ue[0]],A[ue[1]])}if(H=[...H,{placement:i,overflows:V}],!V.every(ue=>ue<=0)){var Z,ce;const ue=(((Z=a.flip)==null?void 0:Z.index)||0)+1,ye=D[ue];if(ye&&(!(g==="alignment"?j!==Jr(ye):!1)||H.every(T=>Jr(T.placement)===j?T.overflows[0]>0:!0)))return{data:{index:ue,overflows:H},reset:{placement:ye}};let Y=(ce=H.filter(q=>q.overflows[0]<=0).sort((q,T)=>q.overflows[1]-T.overflows[1])[0])==null?void 0:ce.placement;if(!Y)switch(b){case"bestFit":{var ae;const q=(ae=H.filter(T=>{if(L){const U=Jr(T.placement);return U===j||U==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(U=>U>0).reduce((U,F)=>U+F,0)]).sort((T,U)=>T[1]-U[1])[0])==null?void 0:ae[0];q&&(Y=q);break}case"initialPlacement":Y=d;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function qx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Yx(t){return m3.some(e=>t[e]>=0)}const T3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=En(t,e);switch(n){case"referenceHidden":{const a=await Ba(e,{...i,elementContext:"reference"}),l=qx(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Yx(l)}}}case"escaped":{const a=await Ba(e,{...i,altBoundary:!0}),l=qx(a,r.floating);return{data:{escapedOffsets:l,escaped:Yx(l)}}}default:return{}}}}},QS=new Set(["left","top"]);async function R3(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=_n(r),d=vi(r),f=Jr(r)==="y",p=QS.has(l)?-1:1,m=a&&f?-1:1,g=En(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:k}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof k=="number"&&(b=d==="end"?k*-1:k),f?{x:b*m,y:y*p}:{x:y*p,y:b*m}}const P3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:l,middlewareData:d}=e,f=await R3(e,t);return l===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}},A3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:E=>{let{x:C,y:j}=E;return{x:C,y:j}}},...f}=En(t,e),p={x:r,y:n},m=await Ba(e,f),g=Jr(_n(i)),y=bm(g);let b=p[y],k=p[g];if(a){const E=y==="y"?"top":"left",C=y==="y"?"bottom":"right",j=b+m[E],N=b-m[C];b=ip(j,b,N)}if(l){const E=g==="y"?"top":"left",C=g==="y"?"bottom":"right",j=k+m[E],N=k-m[C];k=ip(j,k,N)}const S=d.fn({...e,[y]:b,[g]:k});return{...S,data:{x:S.x-r,y:S.y-n,enabled:{[y]:a,[g]:l}}}}}},D3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:l}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=En(t,e),m={x:r,y:n},g=Jr(i),y=bm(g);let b=m[y],k=m[g];const S=En(d,e),E=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const N=y==="y"?"height":"width",R=a.reference[y]-a.floating[N]+E.mainAxis,M=a.reference[y]+a.reference[N]-E.mainAxis;b<R?b=R:b>M&&(b=M)}if(p){var C,j;const N=y==="y"?"width":"height",R=QS.has(_n(i)),M=a.reference[g]-a.floating[N]+(R&&((C=l.offset)==null?void 0:C[g])||0)+(R?0:E.crossAxis),L=a.reference[g]+a.reference[N]+(R?0:((j=l.offset)==null?void 0:j[g])||0)-(R?E.crossAxis:0);k<M?k=M:k>L&&(k=L)}return{[y]:b,[g]:k}}}},I3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:l,elements:d}=e,{apply:f=()=>{},...p}=En(t,e),m=await Ba(e,p),g=_n(i),y=vi(i),b=Jr(i)==="y",{width:k,height:S}=a.floating;let E,C;g==="top"||g==="bottom"?(E=g,C=y===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,E=y==="end"?"top":"bottom");const j=S-m.top-m.bottom,N=k-m.left-m.right,R=hs(S-m[E],j),M=hs(k-m[C],N),L=!e.middlewareData.shift;let D=R,A=M;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=N),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(D=j),L&&!y){const H=sr(m.left,0),Z=sr(m.right,0),ce=sr(m.top,0),ae=sr(m.bottom,0);b?A=k-2*(H!==0||Z!==0?H+Z:sr(m.left,m.right)):D=S-2*(ce!==0||ae!==0?ce+ae:sr(m.top,m.bottom))}await f({...e,availableWidth:A,availableHeight:D});const V=await l.getDimensions(d.floating);return k!==V.width||S!==V.height?{reset:{rects:!0}}:{}}}};function Ru(){return typeof window<"u"}function yi(t){return ZS(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(ZS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZS(t){return Ru()?t instanceof Node||t instanceof or(t).Node:!1}function Ur(t){return Ru()?t instanceof Element||t instanceof or(t).Element:!1}function rn(t){return Ru()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function Xx(t){return!Ru()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}const M3=new Set(["inline","contents"]);function Xa(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=$r(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!M3.has(i)}const O3=new Set(["table","td","th"]);function L3(t){return O3.has(yi(t))}const B3=[":popover-open",":modal"];function Pu(t){return B3.some(e=>{try{return t.matches(e)}catch{return!1}})}const U3=["transform","translate","scale","rotate","perspective"],$3=["transform","translate","scale","rotate","perspective","filter"],F3=["paint","layout","strict","content"];function Em(t){const e=_m(),r=Ur(t)?$r(t):t;return U3.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||$3.some(n=>(r.willChange||"").includes(n))||F3.some(n=>(r.contain||"").includes(n))}function z3(t){let e=ps(t);for(;rn(e)&&!ai(e);){if(Em(e))return e;if(Pu(e))return null;e=ps(e)}return null}function _m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V3=new Set(["html","body","#document"]);function ai(t){return V3.has(yi(t))}function $r(t){return or(t).getComputedStyle(t)}function Au(t){return Ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ps(t){if(yi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Xx(t)&&t.host||sn(t);return Xx(e)?e.host:e}function ek(t){const e=ps(t);return ai(e)?t.ownerDocument?t.ownerDocument.body:t.body:rn(e)&&Xa(e)?e:ek(e)}function Ua(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=ek(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),l=or(i);if(a){const d=lp(l);return e.concat(l,l.visualViewport||[],Xa(i)?i:[],d&&r?Ua(d):[])}return e.concat(i,Ua(i,[],r))}function lp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tk(t){const e=$r(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=rn(t),a=i?t.offsetWidth:r,l=i?t.offsetHeight:n,d=ru(r)!==a||ru(n)!==l;return d&&(r=a,n=l),{width:r,height:n,$:d}}function Cm(t){return Ur(t)?t:t.contextElement}function Zo(t){const e=Cm(t);if(!rn(e))return en(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=tk(e);let l=(a?ru(r.width):r.width)/n,d=(a?ru(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const W3=en(0);function rk(t){const e=or(t);return!_m()||!e.visualViewport?W3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function H3(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==or(t)?!1:e}function Zs(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=Cm(t);let l=en(1);e&&(n?Ur(n)&&(l=Zo(n)):l=Zo(t));const d=H3(a,r,n)?rk(a):en(0);let f=(i.left+d.x)/l.x,p=(i.top+d.y)/l.y,m=i.width/l.x,g=i.height/l.y;if(a){const y=or(a),b=n&&Ur(n)?or(n):n;let k=y,S=lp(k);for(;S&&n&&b!==k;){const E=Zo(S),C=S.getBoundingClientRect(),j=$r(S),N=C.left+(S.clientLeft+parseFloat(j.paddingLeft))*E.x,R=C.top+(S.clientTop+parseFloat(j.paddingTop))*E.y;f*=E.x,p*=E.y,m*=E.x,g*=E.y,f+=N,p+=R,k=or(S),S=lp(k)}}return su({width:m,height:g,x:f,y:p})}function Du(t,e){const r=Au(t).scrollLeft;return e?e.left+r:Zs(sn(t)).left+r}function nk(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Du(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function G3(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",l=sn(n),d=e?Pu(e.floating):!1;if(n===l||d&&a)return r;let f={scrollLeft:0,scrollTop:0},p=en(1);const m=en(0),g=rn(n);if((g||!g&&!a)&&((yi(n)!=="body"||Xa(l))&&(f=Au(n)),rn(n))){const b=Zs(n);p=Zo(n),m.x=b.x+n.clientLeft,m.y=b.y+n.clientTop}const y=l&&!g&&!a?nk(l,f):en(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-f.scrollLeft*p.x+m.x+y.x,y:r.y*p.y-f.scrollTop*p.y+m.y+y.y}}function K3(t){return Array.from(t.getClientRects())}function q3(t){const e=sn(t),r=Au(t),n=t.ownerDocument.body,i=sr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=sr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Du(t);const d=-r.scrollTop;return $r(n).direction==="rtl"&&(l+=sr(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:d}}const Jx=25;function Y3(t,e){const r=or(t),n=sn(t),i=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,d=0,f=0;if(i){a=i.width,l=i.height;const m=_m();(!m||m&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}const p=Du(n);if(p<=0){const m=n.ownerDocument,g=m.body,y=getComputedStyle(g),b=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,k=Math.abs(n.clientWidth-g.clientWidth-b);k<=Jx&&(a-=k)}else p<=Jx&&(a+=p);return{width:a,height:l,x:d,y:f}}const X3=new Set(["absolute","fixed"]);function J3(t,e){const r=Zs(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=rn(t)?Zo(t):en(1),l=t.clientWidth*a.x,d=t.clientHeight*a.y,f=i*a.x,p=n*a.y;return{width:l,height:d,x:f,y:p}}function Qx(t,e,r){let n;if(e==="viewport")n=Y3(t,r);else if(e==="document")n=q3(sn(t));else if(Ur(e))n=J3(e,r);else{const i=rk(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return su(n)}function sk(t,e){const r=ps(t);return r===e||!Ur(r)||ai(r)?!1:$r(r).position==="fixed"||sk(r,e)}function Q3(t,e){const r=e.get(t);if(r)return r;let n=Ua(t,[],!1).filter(d=>Ur(d)&&yi(d)!=="body"),i=null;const a=$r(t).position==="fixed";let l=a?ps(t):t;for(;Ur(l)&&!ai(l);){const d=$r(l),f=Em(l);!f&&d.position==="fixed"&&(i=null),(a?!f&&!i:!f&&d.position==="static"&&!!i&&X3.has(i.position)||Xa(l)&&!f&&sk(t,l))?n=n.filter(m=>m!==l):i=d,l=ps(l)}return e.set(t,n),n}function Z3(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const l=[...r==="clippingAncestors"?Pu(e)?[]:Q3(e,this._c):[].concat(r),n],d=l[0],f=l.reduce((p,m)=>{const g=Qx(e,m,i);return p.top=sr(g.top,p.top),p.right=hs(g.right,p.right),p.bottom=hs(g.bottom,p.bottom),p.left=sr(g.left,p.left),p},Qx(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function e4(t){const{width:e,height:r}=tk(t);return{width:e,height:r}}function t4(t,e,r){const n=rn(e),i=sn(e),a=r==="fixed",l=Zs(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const f=en(0);function p(){f.x=Du(i)}if(n||!n&&!a)if((yi(e)!=="body"||Xa(i))&&(d=Au(e)),n){const b=Zs(e,!0,a,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else i&&p();a&&!n&&i&&p();const m=i&&!n&&!a?nk(i,d):en(0),g=l.left+d.scrollLeft-f.x-m.x,y=l.top+d.scrollTop-f.y-m.y;return{x:g,y,width:l.width,height:l.height}}function ch(t){return $r(t).position==="static"}function Zx(t,e){if(!rn(t)||$r(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return sn(t)===r&&(r=r.ownerDocument.body),r}function ok(t,e){const r=or(t);if(Pu(t))return r;if(!rn(t)){let i=ps(t);for(;i&&!ai(i);){if(Ur(i)&&!ch(i))return i;i=ps(i)}return r}let n=Zx(t,e);for(;n&&L3(n)&&ch(n);)n=Zx(n,e);return n&&ai(n)&&ch(n)&&!Em(n)?r:n||z3(t)||r}const r4=async function(t){const e=this.getOffsetParent||ok,r=this.getDimensions,n=await r(t.floating);return{reference:t4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function n4(t){return $r(t).direction==="rtl"}const s4={convertOffsetParentRelativeRectToViewportRelativeRect:G3,getDocumentElement:sn,getClippingRect:Z3,getOffsetParent:ok,getElementRects:r4,getClientRects:K3,getDimensions:e4,getScale:Zo,isElement:Ur,isRTL:n4};function ik(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function o4(t,e){let r=null,n;const i=sn(t);function a(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const p=t.getBoundingClientRect(),{left:m,top:g,width:y,height:b}=p;if(d||e(),!y||!b)return;const k=Tc(g),S=Tc(i.clientWidth-(m+y)),E=Tc(i.clientHeight-(g+b)),C=Tc(m),N={rootMargin:-k+"px "+-S+"px "+-E+"px "+-C+"px",threshold:sr(0,hs(1,f))||1};let R=!0;function M(L){const D=L[0].intersectionRatio;if(D!==f){if(!R)return l();D?l(!1,D):n=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!ik(p,t.getBoundingClientRect())&&l(),R=!1}try{r=new IntersectionObserver(M,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(M,N)}r.observe(t)}return l(!0),a}function i4(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,p=Cm(t),m=i||a?[...p?Ua(p):[],...Ua(e)]:[];m.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),a&&C.addEventListener("resize",r)});const g=p&&d?o4(p,r):null;let y=-1,b=null;l&&(b=new ResizeObserver(C=>{let[j]=C;j&&j.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),r()}),p&&!f&&b.observe(p),b.observe(e));let k,S=f?Zs(t):null;f&&E();function E(){const C=Zs(t);S&&!ik(S,C)&&r(),S=C,k=requestAnimationFrame(E)}return r(),()=>{var C;m.forEach(j=>{i&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),g?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(k)}}const a4=P3,l4=A3,c4=N3,u4=I3,d4=T3,ew=j3,f4=D3,h4=(t,e,r)=>{const n=new Map,i={platform:s4,...r},a={...i.platform,_c:n};return C3(t,e,{...i,platform:a})};var p4=typeof document<"u",m4=function(){},Lc=p4?x.useLayoutEffect:m4;function ou(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ou(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!ou(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ak(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tw(t,e){const r=ak(t);return Math.round(e*r)/r}function uh(t){const e=x.useRef(t);return Lc(()=>{e.current=t}),e}function g4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:f,open:p}=t,[m,g]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=x.useState(n);ou(y,n)||b(n);const[k,S]=x.useState(null),[E,C]=x.useState(null),j=x.useCallback(T=>{T!==L.current&&(L.current=T,S(T))},[]),N=x.useCallback(T=>{T!==D.current&&(D.current=T,C(T))},[]),R=a||k,M=l||E,L=x.useRef(null),D=x.useRef(null),A=x.useRef(m),V=f!=null,H=uh(f),Z=uh(i),ce=uh(p),ae=x.useCallback(()=>{if(!L.current||!D.current)return;const T={placement:e,strategy:r,middleware:y};Z.current&&(T.platform=Z.current),h4(L.current,D.current,T).then(U=>{const F={...U,isPositioned:ce.current!==!1};ue.current&&!ou(A.current,F)&&(A.current=F,qa.flushSync(()=>{g(F)}))})},[y,e,r,Z,ce]);Lc(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,g(T=>({...T,isPositioned:!1})))},[p]);const ue=x.useRef(!1);Lc(()=>(ue.current=!0,()=>{ue.current=!1}),[]),Lc(()=>{if(R&&(L.current=R),M&&(D.current=M),R&&M){if(H.current)return H.current(R,M,ae);ae()}},[R,M,ae,H,V]);const ye=x.useMemo(()=>({reference:L,floating:D,setReference:j,setFloating:N}),[j,N]),Y=x.useMemo(()=>({reference:R,floating:M}),[R,M]),q=x.useMemo(()=>{const T={position:r,left:0,top:0};if(!Y.floating)return T;const U=tw(Y.floating,m.x),F=tw(Y.floating,m.y);return d?{...T,transform:"translate("+U+"px, "+F+"px)",...ak(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:F}},[r,d,Y.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:ae,refs:ye,elements:Y,floatingStyles:q}),[m,ae,ye,Y,q])}const v4=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?ew({element:n.current,padding:i}).fn(r):{}:n?ew({element:n,padding:i}).fn(r):{}}}},y4=(t,e)=>({...a4(t),options:[t,e]}),x4=(t,e)=>({...l4(t),options:[t,e]}),w4=(t,e)=>({...f4(t),options:[t,e]}),b4=(t,e)=>({...c4(t),options:[t,e]}),S4=(t,e)=>({...u4(t),options:[t,e]}),k4=(t,e)=>({...d4(t),options:[t,e]}),E4=(t,e)=>({...v4(t),options:[t,e]});var _4="Arrow",lk=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return c.jsx(_e.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});lk.displayName=_4;var C4=lk,jm="Popper",[ck,Iu]=_r(jm),[j4,uk]=ck(jm),dk=t=>{const{__scopePopper:e,children:r}=t,[n,i]=x.useState(null);return c.jsx(j4,{scope:e,anchor:n,onAnchorChange:i,children:r})};dk.displayName=jm;var fk="PopperAnchor",hk=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=uk(fk,r),l=x.useRef(null),d=Ie(e,l),f=x.useRef(null);return x.useEffect(()=>{const p=f.current;f.current=n?.current||l.current,p!==f.current&&a.onAnchorChange(f.current)}),n?null:c.jsx(_e.div,{...i,ref:d})});hk.displayName=fk;var Nm="PopperContent",[N4,T4]=ck(Nm),pk=x.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:k,...S}=t,E=uk(Nm,r),[C,j]=x.useState(null),N=Ie(e,K=>j(K)),[R,M]=x.useState(null),L=ym(R),D=L?.width??0,A=L?.height??0,V=n+(a!=="center"?"-"+a:""),H=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Z=Array.isArray(p)?p:[p],ce=Z.length>0,ae={padding:H,boundary:Z.filter(P4),altBoundary:ce},{refs:ue,floatingStyles:ye,placement:Y,isPositioned:q,middlewareData:T}=g4({strategy:"fixed",placement:V,whileElementsMounted:(...K)=>i4(...K,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[y4({mainAxis:i+A,alignmentAxis:l}),f&&x4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?w4():void 0,...ae}),f&&b4({...ae}),S4({...ae,apply:({elements:K,rects:le,availableWidth:J,availableHeight:ne})=>{const{width:me,height:Pe}=le.reference,Je=K.floating.style;Je.setProperty("--radix-popper-available-width",`${J}px`),Je.setProperty("--radix-popper-available-height",`${ne}px`),Je.setProperty("--radix-popper-anchor-width",`${me}px`),Je.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),R&&E4({element:R,padding:d}),A4({arrowWidth:D,arrowHeight:A}),y&&k4({strategy:"referenceHidden",...ae})]}),[U,F]=vk(Y),I=_t(k);ft(()=>{q&&I?.()},[q,I]);const G=T.arrow?.x,X=T.arrow?.y,se=T.arrow?.centerOffset!==0,[de,pe]=x.useState();return ft(()=>{C&&pe(window.getComputedStyle(C).zIndex)},[C]),c.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:q?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[T.transformOrigin?.x,T.transformOrigin?.y].join(" "),...T.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(N4,{scope:r,placedSide:U,onArrowChange:M,arrowX:G,arrowY:X,shouldHideArrow:se,children:c.jsx(_e.div,{"data-side":U,"data-align":F,...S,ref:N,style:{...S.style,animation:q?void 0:"none"}})})})});pk.displayName=Nm;var mk="PopperArrow",R4={top:"bottom",right:"left",bottom:"top",left:"right"},gk=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=T4(mk,n),l=R4[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(C4,{...i,ref:r,style:{...i.style,display:"block"}})})});gk.displayName=mk;function P4(t){return t!==null}var A4=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,d=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[p,m]=vk(r),g={start:"0%",center:"50%",end:"100%"}[m],y=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+f/2;let k="",S="";return p==="bottom"?(k=l?g:`${y}px`,S=`${-f}px`):p==="top"?(k=l?g:`${y}px`,S=`${n.floating.height+f}px`):p==="right"?(k=`${-f}px`,S=l?g:`${b}px`):p==="left"&&(k=`${n.floating.width+f}px`,S=l?g:`${b}px`),{data:{x:k,y:S}}}});function vk(t){const[e,r="center"]=t.split("-");return[e,r]}var yk=dk,xk=hk,wk=pk,bk=gk,Sk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),D4="VisuallyHidden",I4=x.forwardRef((t,e)=>c.jsx(_e.span,{...t,ref:e,style:{...Sk,...t.style}}));I4.displayName=D4;var M4=[" ","Enter","ArrowUp","ArrowDown"],O4=[" ","Enter"],eo="Select",[Mu,Ou,L4]=Nu(eo),[xi]=_r(eo,[L4,Iu]),Lu=Iu(),[B4,vs]=xi(eo),[U4,$4]=xi(eo),kk=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:l,defaultValue:d,onValueChange:f,dir:p,name:m,autoComplete:g,disabled:y,required:b,form:k}=t,S=Lu(e),[E,C]=x.useState(null),[j,N]=x.useState(null),[R,M]=x.useState(!1),L=Ya(p),[D,A]=Js({prop:n,defaultProp:i??!1,onChange:a,caller:eo}),[V,H]=Js({prop:l,defaultProp:d,onChange:f,caller:eo}),Z=x.useRef(null),ce=E?k||!!E.closest("form"):!0,[ae,ue]=x.useState(new Set),ye=Array.from(ae).map(Y=>Y.props.value).join(";");return c.jsx(yk,{...S,children:c.jsxs(B4,{required:b,scope:e,trigger:E,onTriggerChange:C,valueNode:j,onValueNodeChange:N,valueNodeHasChildren:R,onValueNodeHasChildrenChange:M,contentId:bn(),value:V,onValueChange:H,open:D,onOpenChange:A,dir:L,triggerPointerDownPosRef:Z,disabled:y,children:[c.jsx(Mu.Provider,{scope:e,children:c.jsx(U4,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(Y=>{ue(q=>new Set(q).add(Y))},[]),onNativeOptionRemove:x.useCallback(Y=>{ue(q=>{const T=new Set(q);return T.delete(Y),T})},[]),children:r})}),ce?c.jsxs(Hk,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:g,value:V,onChange:Y=>H(Y.target.value),disabled:y,form:k,children:[V===void 0?c.jsx("option",{value:""}):null,Array.from(ae)]},ye):null]})})};kk.displayName=eo;var Ek="SelectTrigger",_k=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=Lu(r),l=vs(Ek,r),d=l.disabled||n,f=Ie(e,l.onTriggerChange),p=Ou(r),m=x.useRef("touch"),[g,y,b]=Kk(S=>{const E=p().filter(N=>!N.disabled),C=E.find(N=>N.value===l.value),j=qk(E,S,C);j!==void 0&&l.onValueChange(j.value)}),k=S=>{d||(l.onOpenChange(!0),b()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return c.jsx(xk,{asChild:!0,...a,children:c.jsx(_e.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Gk(l.value)?"":void 0,...i,ref:f,onClick:he(i.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&k(S)}),onPointerDown:he(i.onPointerDown,S=>{m.current=S.pointerType;const E=S.target;E.hasPointerCapture(S.pointerId)&&E.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(k(S),S.preventDefault())}),onKeyDown:he(i.onKeyDown,S=>{const E=g.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&y(S.key),!(E&&S.key===" ")&&M4.includes(S.key)&&(k(),S.preventDefault())})})})});_k.displayName=Ek;var Ck="SelectValue",jk=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:l="",...d}=t,f=vs(Ck,r),{onValueNodeHasChildrenChange:p}=f,m=a!==void 0,g=Ie(e,f.onValueNodeChange);return ft(()=>{p(m)},[p,m]),c.jsx(_e.span,{...d,ref:g,style:{pointerEvents:"none"},children:Gk(f.value)?c.jsx(c.Fragment,{children:l}):a})});jk.displayName=Ck;var F4="SelectIcon",Nk=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(_e.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});Nk.displayName=F4;var z4="SelectPortal",Tk=t=>c.jsx(bu,{asChild:!0,...t});Tk.displayName=z4;var to="SelectContent",Rk=x.forwardRef((t,e)=>{const r=vs(to,t.__scopeSelect),[n,i]=x.useState();if(ft(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?qa.createPortal(c.jsx(Pk,{scope:t.__scopeSelect,children:c.jsx(Mu.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(Ak,{...t,ref:e})});Rk.displayName=to;var Or=10,[Pk,ys]=xi(to),V4="SelectContentImpl",W4=Xs("SelectContent.RemoveScroll"),Ak=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:d,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:k,hideWhenDetached:S,avoidCollisions:E,...C}=t,j=vs(to,r),[N,R]=x.useState(null),[M,L]=x.useState(null),D=Ie(e,K=>R(K)),[A,V]=x.useState(null),[H,Z]=x.useState(null),ce=Ou(r),[ae,ue]=x.useState(!1),ye=x.useRef(!1);x.useEffect(()=>{if(N)return um(N)},[N]),cm();const Y=x.useCallback(K=>{const[le,...J]=ce().map(Pe=>Pe.ref.current),[ne]=J.slice(-1),me=document.activeElement;for(const Pe of K)if(Pe===me||(Pe?.scrollIntoView({block:"nearest"}),Pe===le&&M&&(M.scrollTop=0),Pe===ne&&M&&(M.scrollTop=M.scrollHeight),Pe?.focus(),document.activeElement!==me))return},[ce,M]),q=x.useCallback(()=>Y([A,N]),[Y,A,N]);x.useEffect(()=>{ae&&q()},[ae,q]);const{onOpenChange:T,triggerPointerDownPosRef:U}=j;x.useEffect(()=>{if(N){let K={x:0,y:0};const le=ne=>{K={x:Math.abs(Math.round(ne.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(ne.pageY)-(U.current?.y??0))}},J=ne=>{K.x<=10&&K.y<=10?ne.preventDefault():N.contains(ne.target)||T(!1),document.removeEventListener("pointermove",le),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",J,{capture:!0})}}},[N,T,U]),x.useEffect(()=>{const K=()=>T(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[T]);const[F,I]=Kk(K=>{const le=ce().filter(me=>!me.disabled),J=le.find(me=>me.ref.current===document.activeElement),ne=qk(le,K,J);ne&&setTimeout(()=>ne.ref.current.focus())}),G=x.useCallback((K,le,J)=>{const ne=!ye.current&&!J;(j.value!==void 0&&j.value===le||ne)&&(V(K),ne&&(ye.current=!0))},[j.value]),X=x.useCallback(()=>N?.focus(),[N]),se=x.useCallback((K,le,J)=>{const ne=!ye.current&&!J;(j.value!==void 0&&j.value===le||ne)&&Z(K)},[j.value]),de=n==="popper"?cp:Dk,pe=de===cp?{side:d,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:k,hideWhenDetached:S,avoidCollisions:E}:{};return c.jsx(Pk,{scope:r,content:N,viewport:M,onViewportChange:L,itemRefCallback:G,selectedItem:A,onItemLeave:X,itemTextRefCallback:se,focusSelectedItem:q,selectedItemText:H,position:n,isPositioned:ae,searchRef:F,children:c.jsx(ku,{as:W4,allowPinchZoom:!0,children:c.jsx(wu,{asChild:!0,trapped:j.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:he(i,K=>{j.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:c.jsx(xu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:c.jsx(de,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:K=>K.preventDefault(),...C,...pe,onPlaced:()=>ue(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:he(C.onKeyDown,K=>{const le=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!le&&K.key.length===1&&I(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ne=ce().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const me=K.target,Pe=ne.indexOf(me);ne=ne.slice(Pe+1)}setTimeout(()=>Y(ne)),K.preventDefault()}})})})})})})});Ak.displayName=V4;var H4="SelectItemAlignedPosition",Dk=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=vs(to,r),l=ys(to,r),[d,f]=x.useState(null),[p,m]=x.useState(null),g=Ie(e,D=>m(D)),y=Ou(r),b=x.useRef(!1),k=x.useRef(!0),{viewport:S,selectedItem:E,selectedItemText:C,focusSelectedItem:j}=l,N=x.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&p&&S&&E&&C){const D=a.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),H=C.getBoundingClientRect();if(a.dir!=="rtl"){const me=H.left-A.left,Pe=V.left-me,Je=D.left-Pe,nt=D.width+Je,ar=Math.max(nt,A.width),on=window.innerWidth-Or,Jt=La(Pe,[Or,Math.max(Or,on-ar)]);d.style.minWidth=nt+"px",d.style.left=Jt+"px"}else{const me=A.right-H.right,Pe=window.innerWidth-V.right-me,Je=window.innerWidth-D.right-Pe,nt=D.width+Je,ar=Math.max(nt,A.width),on=window.innerWidth-Or,Jt=La(Pe,[Or,Math.max(Or,on-ar)]);d.style.minWidth=nt+"px",d.style.right=Jt+"px"}const Z=y(),ce=window.innerHeight-Or*2,ae=S.scrollHeight,ue=window.getComputedStyle(p),ye=parseInt(ue.borderTopWidth,10),Y=parseInt(ue.paddingTop,10),q=parseInt(ue.borderBottomWidth,10),T=parseInt(ue.paddingBottom,10),U=ye+Y+ae+T+q,F=Math.min(E.offsetHeight*5,U),I=window.getComputedStyle(S),G=parseInt(I.paddingTop,10),X=parseInt(I.paddingBottom,10),se=D.top+D.height/2-Or,de=ce-se,pe=E.offsetHeight/2,K=E.offsetTop+pe,le=ye+Y+K,J=U-le;if(le<=se){const me=Z.length>0&&E===Z[Z.length-1].ref.current;d.style.bottom="0px";const Pe=p.clientHeight-S.offsetTop-S.offsetHeight,Je=Math.max(de,pe+(me?X:0)+Pe+q),nt=le+Je;d.style.height=nt+"px"}else{const me=Z.length>0&&E===Z[0].ref.current;d.style.top="0px";const Je=Math.max(se,ye+S.offsetTop+(me?G:0)+pe)+J;d.style.height=Je+"px",S.scrollTop=le-se+S.offsetTop}d.style.margin=`${Or}px 0`,d.style.minHeight=F+"px",d.style.maxHeight=ce+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[y,a.trigger,a.valueNode,d,p,S,E,C,a.dir,n]);ft(()=>N(),[N]);const[R,M]=x.useState();ft(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const L=x.useCallback(D=>{D&&k.current===!0&&(N(),j?.(),k.current=!1)},[N,j]);return c.jsx(K4,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:L,children:c.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:c.jsx(_e.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Dk.displayName=H4;var G4="SelectPopperPosition",cp=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Or,...a}=t,l=Lu(r);return c.jsx(wk,{...l,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=G4;var[K4,Tm]=xi(to,{}),up="SelectViewport",Ik=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=ys(up,r),l=Tm(up,r),d=Ie(e,a.onViewportChange),f=x.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Mu.Slot,{scope:r,children:c.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,p=>{const m=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=l;if(y?.current&&g){const b=Math.abs(f.current-m.scrollTop);if(b>0){const k=window.innerHeight-Or*2,S=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),C=Math.max(S,E);if(C<k){const j=C+b,N=Math.min(k,j),R=j-N;g.style.height=N+"px",g.style.bottom==="0px"&&(m.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});Ik.displayName=up;var Mk="SelectGroup",[q4,Y4]=xi(Mk),X4=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=bn();return c.jsx(q4,{scope:r,id:i,children:c.jsx(_e.div,{role:"group","aria-labelledby":i,...n,ref:e})})});X4.displayName=Mk;var Ok="SelectLabel",J4=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Y4(Ok,r);return c.jsx(_e.div,{id:i.id,...n,ref:e})});J4.displayName=Ok;var iu="SelectItem",[Q4,Lk]=xi(iu),Bk=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...l}=t,d=vs(iu,r),f=ys(iu,r),p=d.value===n,[m,g]=x.useState(a??""),[y,b]=x.useState(!1),k=Ie(e,j=>f.itemRefCallback?.(j,n,i)),S=bn(),E=x.useRef("touch"),C=()=>{i||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Q4,{scope:r,value:n,disabled:i,textId:S,isSelected:p,onItemTextChange:x.useCallback(j=>{g(N=>N||(j?.textContent??"").trim())},[]),children:c.jsx(Mu.ItemSlot,{scope:r,value:n,disabled:i,textValue:m,children:c.jsx(_e.div,{role:"option","aria-labelledby":S,"data-highlighted":y?"":void 0,"aria-selected":p&&y,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:k,onFocus:he(l.onFocus,()=>b(!0)),onBlur:he(l.onBlur,()=>b(!1)),onClick:he(l.onClick,()=>{E.current!=="mouse"&&C()}),onPointerUp:he(l.onPointerUp,()=>{E.current==="mouse"&&C()}),onPointerDown:he(l.onPointerDown,j=>{E.current=j.pointerType}),onPointerMove:he(l.onPointerMove,j=>{E.current=j.pointerType,i?f.onItemLeave?.():E.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(l.onPointerLeave,j=>{j.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:he(l.onKeyDown,j=>{f.searchRef?.current!==""&&j.key===" "||(O4.includes(j.key)&&C(),j.key===" "&&j.preventDefault())})})})})});Bk.displayName=iu;var ha="SelectItemText",Uk=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,l=vs(ha,r),d=ys(ha,r),f=Lk(ha,r),p=$4(ha,r),[m,g]=x.useState(null),y=Ie(e,C=>g(C),f.onItemTextChange,C=>d.itemTextRefCallback?.(C,f.value,f.disabled)),b=m?.textContent,k=x.useMemo(()=>c.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:S,onNativeOptionRemove:E}=p;return ft(()=>(S(k),()=>E(k)),[S,E,k]),c.jsxs(c.Fragment,{children:[c.jsx(_e.span,{id:f.textId,...a,ref:y}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?qa.createPortal(a.children,l.valueNode):null]})});Uk.displayName=ha;var $k="SelectItemIndicator",Fk=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Lk($k,r).isSelected?c.jsx(_e.span,{"aria-hidden":!0,...n,ref:e}):null});Fk.displayName=$k;var dp="SelectScrollUpButton",zk=x.forwardRef((t,e)=>{const r=ys(dp,t.__scopeSelect),n=Tm(dp,t.__scopeSelect),[i,a]=x.useState(!1),l=Ie(e,n.onScrollButtonChange);return ft(()=>{if(r.viewport&&r.isPositioned){let d=function(){const p=f.scrollTop>0;a(p)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?c.jsx(Wk,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});zk.displayName=dp;var fp="SelectScrollDownButton",Vk=x.forwardRef((t,e)=>{const r=ys(fp,t.__scopeSelect),n=Tm(fp,t.__scopeSelect),[i,a]=x.useState(!1),l=Ie(e,n.onScrollButtonChange);return ft(()=>{if(r.viewport&&r.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;a(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?c.jsx(Wk,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});Vk.displayName=fp;var Wk=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=ys("SelectScrollButton",r),l=x.useRef(null),d=Ou(r),f=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>f(),[f]),ft(()=>{d().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),c.jsx(_e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:he(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:he(i.onPointerLeave,()=>{f()})})}),Z4="SelectSeparator",eB=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(_e.div,{"aria-hidden":!0,...n,ref:e})});eB.displayName=Z4;var hp="SelectArrow",tB=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Lu(r),a=vs(hp,r),l=ys(hp,r);return a.open&&l.position==="popper"?c.jsx(bk,{...i,...n,ref:e}):null});tB.displayName=hp;var rB="SelectBubbleInput",Hk=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=x.useRef(null),a=Ie(n,i),l=vm(e);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const g=new Event("change",{bubbles:!0});m.call(d,e),d.dispatchEvent(g)}},[l,e]),c.jsx(_e.select,{...r,style:{...Sk,...r.style},ref:a,defaultValue:e})});Hk.displayName=rB;function Gk(t){return t===""||t===void 0}function Kk(t){const e=_t(t),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(l=>{const d=r.current+l;e(d),(function f(p){r.current=p,window.clearTimeout(n.current),p!==""&&(n.current=window.setTimeout(()=>f(""),1e3))})(d)},[e]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function qk(t,e,r){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let l=nB(t,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==r));const f=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function nB(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var sB=kk,oB=_k,iB=jk,aB=Nk,lB=Tk,cB=Rk,uB=Ik,dB=Bk,fB=Uk,hB=Fk,pB=zk,mB=Vk;function gB({...t}){return c.jsx(sB,{"data-slot":"select",...t})}function vB({...t}){return c.jsx(iB,{"data-slot":"select-value",...t})}function yB({className:t,size:e="default",children:r,...n}){return c.jsxs(oB,{"data-slot":"select-trigger","data-size":e,className:Be("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 *:data-[slot=select-value]:text-black [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,c.jsx(aB,{asChild:!0,children:c.jsx(F1,{className:"size-4 opacity-50"})})]})}function xB({className:t,children:e,position:r="popper",...n}){return c.jsx(lB,{children:c.jsxs(cB,{"data-slot":"select-content",className:Be("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(bB,{}),c.jsx(uB,{className:Be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),c.jsx(SB,{})]})})}function wB({className:t,children:e,...r}){return c.jsxs(dB,{"data-slot":"select-item",className:Be("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 text-black",t),...r,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(hB,{children:c.jsx(Kc,{className:"size-4"})})}),c.jsx(fB,{children:e})]})}function bB({className:t,...e}){return c.jsx(pB,{"data-slot":"select-scroll-up-button",className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(QI,{className:"size-4"})})}function SB({className:t,...e}){return c.jsx(mB,{"data-slot":"select-scroll-down-button",className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(F1,{className:"size-4"})})}function kB({query:t,selectedFilter:e,filterOptions:r,onQueryChange:n,onFilterChange:i,onSearch:a,onClear:l,isSearching:d=!1,placeholder:f="Buscar por ttulo, autor ou gnero..."}){const[p,m]=x.useState(!1),g=vu(),y=r.find(b=>b.value===e);return c.jsxs("div",{className:"space-y-4",children:[c.jsx("form",{onSubmit:a,className:"relative",children:c.jsx("div",{className:"relative flex items-center",children:g?c.jsxs("div",{className:"flex items-center w-full glass border-white/20 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"flex-shrink-0 border-r border-white/20",children:c.jsxs(gB,{value:e,onValueChange:i,children:[c.jsx(yB,{className:"border-0 bg-transparent text-white/70 hover:text-white focus:ring-0 pl-4 pr-2 py-4 h-auto min-w-[160px]",children:c.jsx(vB,{placeholder:"Todos os Gneros"})}),c.jsx(xB,{className:"bg-black/90 backdrop-blur-sm border-white/20 text-white",sideOffset:5,children:r.map(b=>c.jsx(wB,{value:b.value,className:"text-white hover:bg-purple-600/20 focus:bg-purple-600/20 cursor-pointer",children:b.label},b.value))})]})}),c.jsxs("div",{className:"relative flex-1",children:[c.jsx(fs,{className:"absolute left-4 text-white/50 z-10",size:20}),c.jsx(Br,{type:"text",placeholder:f,value:t,onChange:b=>n(b.target.value),className:"border-0 bg-transparent pl-12 pr-12 py-4 text-lg text-white placeholder:text-white/50 focus-visible:ring-0 w-full"}),t&&c.jsx(ge,{type:"button",variant:"ghost",onClick:l,className:"absolute right-2 text-white/50 hover:text-white p-2 z-10",children:c.jsx(ka,{size:20})})]})]}):c.jsxs(c.Fragment,{children:[c.jsx(fs,{className:"absolute left-4 text-white/50 z-10",size:20}),c.jsx(Br,{type:"text",placeholder:f,value:t,onChange:b=>n(b.target.value),className:"pl-12 pr-24 py-4 text-lg glass border-white/20 text-white placeholder:text-white/50"}),c.jsx(ge,{type:"button",variant:"ghost",onClick:()=>m(!p),className:`absolute right-12 text-white/70 hover:text-white p-2 ${e!=="all"?"text-purple-400":""}`,children:c.jsx(_x,{size:20})}),t&&c.jsx(ge,{type:"button",variant:"ghost",onClick:l,className:"absolute right-2 text-white/50 hover:text-white p-2",children:c.jsx(ka,{size:20})})]})})}),!g&&c.jsx(Ve.div,{initial:{opacity:0,height:0},animate:{opacity:p?1:0,height:p?"auto":0},transition:{duration:.2},className:"overflow-hidden",children:c.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_x,{size:16,className:"text-purple-400"}),c.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Filtrar por gnero:"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(b=>c.jsx(Lt,{variant:e===b.value?"default":"outline",className:`cursor-pointer transition-all ${e===b.value?"bg-purple-600 text-white border-purple-600":"border-white/30 text-white/70 hover:border-purple-400 hover:text-purple-400"}`,onClick:()=>i(b.value),children:b.label},b.value))})]})}),!g&&e!=="all"&&c.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Filtrando por:"}),c.jsxs(Lt,{variant:"outline",className:"border-purple-400 text-purple-400 cursor-pointer hover:bg-purple-600 hover:text-white",onClick:()=>i("all"),children:[y?.label,c.jsx(ka,{size:14,className:"ml-1"})]})]})]})}const EB=[{value:"all",label:"Todos os Gneros"},{value:"fiction",label:"Fico"},{value:"romance",label:"Romance"},{value:"mystery",label:"Mistrio"},{value:"fantasy",label:"Fantasia"},{value:"science_fiction",label:"Fico Cientfica"},{value:"history",label:"Histria"},{value:"biography",label:"Biografia"},{value:"self_help",label:"Autoajuda"},{value:"classic",label:"Clssicos"},{value:"adventure",label:"Aventura"},{value:"horror",label:"Terror"},{value:"comedy",label:"Comdia"},{value:"drama",label:"Drama"},{value:"non_fiction",label:"No-fico"}];function _B(){const{state:t,actions:e}=ir(),[r,n]=x.useState(""),[i,a]=x.useState([]),[l,d]=x.useState([]),[f,p]=x.useState([]),[m,g]=x.useState(!1),[y,b]=x.useState(!0),[k,S]=x.useState(null),[E,C]=x.useState(!1),[j,N]=x.useState(!1),[R,M]=x.useState(null),[L,D]=x.useState("all"),[A,V]=x.useState(!1);x.useEffect(()=>{H()},[]);const H=async()=>{b(!0);try{const T=await e.repositories.bookRepository.getTrendingBooks();d(T.slice(0,10)),p(T.slice(0,10).reverse())}catch(T){console.warn("Error loading search data:",T),re.error("Erro ao carregar dados de busca")}finally{b(!1)}},Z=x.useCallback(async T=>{if(!T.trim()){a([]),N(!1);return}g(!0),N(!0);try{const U=await e.repositories.bookRepository.searchBooks(T);a(U),U.length===0&&re.info(`Nenhum resultado encontrado para "${T}"`)}catch(U){console.warn("Error searching books:",U),re.error("Erro na busca. Verifique sua conexo com a internet."),a([])}finally{g(!1)}},[e.repositories.bookRepository]),ce=T=>{T.preventDefault(),Z(r)};x.useEffect(()=>{const T=setTimeout(()=>{r.trim()&&Z(r)},300);return()=>clearTimeout(T)},[r]);const ae=()=>{n(""),a([]),N(!1)},ue=T=>{S(T),C(!0)},ye=async(T,U)=>{const F=i.find(I=>I.id===T)||l.find(I=>I.id===T)||f.find(I=>I.id===T);if(!F){re.error("Livro no encontrado");return}if(C(!1),F.source==="elivros")try{re.info("Carregando contedo do livro...");const I=await e.repositories.bookRepository.getBookContent(F),G=t.userBooks.find(X=>X.book.id===T);M({book:F,content:I,currentPage:G?.progress?.currentPage||1})}catch(I){console.error("Failed to load elivros.info book content:",I),re.error("No foi possvel carregar o contedo do livro.")}else if(F.source==="gutenberg"&&F.isPublicDomain)try{re.info("Carregando contedo do livro...");const I=await e.repositories.bookRepository.getBookContent(F),G=t.userBooks.find(X=>X.book.id===T);M({book:F,content:I,currentPage:G?.progress?.currentPage||1})}catch(I){console.error("Failed to load book content:",I),re.error("No foi possvel carregar o contedo do livro. Verifique sua conexo.")}else re.info("Modo de demonstrao - contedo simulado"),M({book:F,content:`Este  o incio de "${F.title}" por ${F.author}.

Este  um modo de demonstrao. Para livros completos, recomendamos usar livros do Project Gutenberg que esto disponveis gratuitamente.

${F.description}

Para continuar lendo este livro, voc precisaria adquiri-lo atravs dos canais oficiais do editor.`,currentPage:1})},Y=()=>{M(null)},q=async T=>{if(!R)return;const U=t.userBooks.find(F=>F.book.id===R.book.id);if(U)try{console.log("Updating progress for userBook:",U.id,"page:",T),await e.updateReadingProgress(U.id,T)}catch(F){console.error("Failed to update reading progress:",F);try{await e.updateReadingProgress(R.book.id,T)}catch(I){console.error("Alternative update also failed:",I)}}else console.warn("UserBook not found for book:",R.book.id)};return R?c.jsx(wm,{bookTitle:R.book.title,book:R.book,bookContent:R.content,currentPage:R.currentPage,onBack:Y,onPageChange:q}):c.jsx("div",{className:"min-h-screen p-6",children:c.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Buscar livros"}),c.jsx("p",{className:"text-white/70",children:"Descubra sua prxima leitura favorita"})]}),c.jsx("div",{children:c.jsx(kB,{query:r,selectedFilter:L,filterOptions:EB,onQueryChange:n,onFilterChange:D,onSearch:ce,onClear:ae,isSearching:m,placeholder:"Buscar por ttulo, autor ou gnero..."})}),j&&c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fs,{className:"text-purple-400",size:24}),c.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Resultados da busca",r&&c.jsxs("span",{className:"text-purple-400 ml-2",children:['"',r,'"']})]})]}),i.length>0&&c.jsxs("p",{className:"text-white/70",children:[i.length," livro",i.length!==1?"s":""," encontrado",i.length!==1?"s":""]})]}),m?c.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[...Array(9)].map((T,U)=>c.jsxs("div",{className:"space-y-3",children:[c.jsx(br,{className:"h-32 md:h-48 w-full rounded-2xl"}),c.jsx(br,{className:"h-3 md:h-4 w-3/4"}),c.jsx(br,{className:"h-3 w-1/2"})]},U))}):i.length>0?c.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:i.map(T=>c.jsx(Ys,{book:T,variant:"compact",onOpenBook:ue,showActions:!0,className:"hover:scale-105 transition-transform"},T.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ue,{className:"text-white/30 mx-auto mb-4",size:64}),c.jsx("p",{className:"text-white/60 mb-4",children:"Nenhum livro encontrado para sua busca."}),c.jsx("p",{className:"text-white/50 mb-6",children:"Tente buscar por outros termos ou explore nossas sugestes."}),c.jsx(ge,{onClick:ae,variant:"outline",className:"border-purple-400 text-purple-400",children:"Limpar busca"})]})]}),!j&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-600/20 rounded-xl",children:c.jsx(tn,{className:"text-purple-400",size:20})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Recomendados para voc"})]}),c.jsx(ge,{variant:"ghost",className:"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20 text-sm",children:"Ver todos"})]}),y?c.jsx("div",{className:"overflow-x-auto responsive-scroll",children:c.jsx("div",{className:"flex gap-4 pb-2 min-w-max",children:[...Array(6)].map((T,U)=>c.jsxs("div",{className:"flex-shrink-0 w-32 md:w-40 space-y-3",children:[c.jsx(br,{className:"h-48 w-full rounded-2xl"}),c.jsx(br,{className:"h-4 w-3/4"}),c.jsx(br,{className:"h-3 w-1/2"})]},U))})}):l.length>0?c.jsx("div",{className:"overflow-x-auto responsive-scroll",children:c.jsx("div",{className:"flex gap-4 pb-2 min-w-max",children:l.map(T=>c.jsx("div",{className:"flex-shrink-0 w-32 md:w-40",children:c.jsx(Ys,{book:T,variant:"compact",onOpenBook:ue,showActions:!0,className:"hover:scale-105 transition-transform"})},T.id))})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(tn,{className:"text-white/30 mx-auto mb-4",size:64}),c.jsx("p",{className:"text-white/60 mb-4",children:"No foi possvel carregar recomendaes."}),c.jsx(ge,{onClick:H,variant:"outline",className:"border-purple-400 text-purple-400",children:"Tentar novamente"})]})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-600/20 rounded-xl",children:c.jsx(Ue,{className:"text-purple-400",size:20})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Novidades adicionadas"})]}),c.jsx(ge,{variant:"ghost",className:"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20 text-sm",children:"Ver todos"})]}),y?c.jsx("div",{className:"overflow-x-auto responsive-scroll",children:c.jsx("div",{className:"flex gap-4 pb-2 min-w-max",children:[...Array(6)].map((T,U)=>c.jsxs("div",{className:"flex-shrink-0 w-32 md:w-40 space-y-3",children:[c.jsx(br,{className:"h-48 w-full rounded-2xl"}),c.jsx(br,{className:"h-4 w-3/4"}),c.jsx(br,{className:"h-3 w-1/2"})]},U))})}):f.length>0?c.jsx("div",{className:"overflow-x-auto responsive-scroll",children:c.jsx("div",{className:"flex gap-4 pb-2 min-w-max",children:f.map(T=>c.jsx("div",{className:"flex-shrink-0 w-32 md:w-40",children:c.jsx(Ys,{book:T,variant:"compact",onOpenBook:ue,showActions:!0,className:"hover:scale-105 transition-transform"})},T.id))})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ue,{className:"text-white/30 mx-auto mb-4",size:64}),c.jsx("p",{className:"text-white/60 mb-4",children:"No foi possvel carregar novidades."}),c.jsx(ge,{onClick:H,variant:"outline",className:"border-purple-400 text-purple-400",children:"Tentar novamente"})]})]})]}),c.jsx(ju,{book:k,isOpen:E,onClose:()=>C(!1),onStartReading:T=>ye(T.id)})]})})}function CB({onSelectBook:t,onNavigateToSearch:e}){const{state:r}=ir(),[n,i]=x.useState("favorites"),a=vu(),d=(()=>{const m=r.userBooks||[];switch(n){case"favorites":return m.filter(g=>g.status===Ee.WANT_TO_READ);case"reading":return m.filter(g=>g.status===Ee.CURRENTLY_READING);case"read":return m.filter(g=>g.status===Ee.read);default:return m.filter(g=>g.status===Ee.WANT_TO_READ)}})(),f=[{id:"favorites",label:"Favoritos",icon:qs,count:r.userBooks?.filter(m=>m.status===Ee.WANT_TO_READ).length||0},{id:"reading",label:"Lendo",icon:iM,count:r.userBooks?.filter(m=>m.status===Ee.CURRENTLY_READING).length||0},{id:"read",label:"Lidos",icon:Da,count:r.userBooks?.filter(m=>m.status===Ee.read).length||0}],p=({tab:m})=>{const y={favorites:{title:"Nenhum favorito ainda",description:"Explore nosso catlogo e adicione livros aos seus favoritos."},reading:{title:"Nenhuma leitura em andamento",description:"Comece a ler um livro e ele aparecer aqui."},read:{title:"Nenhum livro concludo",description:'Marque livros como "j li" quando terminar de l-los.'}}[m];return c.jsxs(Ve.div,{className:"flex flex-col items-center justify-center py-16 px-4 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsx("div",{className:"w-20 h-20 bg-purple-500/20 rounded-full flex items-center justify-center mb-6",children:c.jsx(Ue,{className:"w-10 h-10 text-purple-300"})}),c.jsx("h3",{className:"text-xl mb-2 text-white",children:y.title}),c.jsx("p",{className:"text-white/70 mb-6 max-w-sm",children:y.description}),m==="favorites"&&c.jsxs(ge,{onClick:e,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[c.jsx(fs,{className:"w-4 h-4 mr-2"}),"Buscar livros"]})]})};return c.jsxs(Ve.div,{className:"flex-1 min-h-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[c.jsx("div",{className:"sticky top-0 backdrop-blur-sm border-b border-white/10 z-10",style:{background:"rgba(30, 27, 75, 0.8)"},children:c.jsxs("div",{className:"px-4 py-4",children:[c.jsx("h1",{className:"text-2xl text-white mb-4",children:"Minha Biblioteca"}),c.jsx("div",{className:"flex space-x-1 bg-white/5 p-1 rounded-lg",children:f.map(m=>{const g=m.icon,y=n===m.id;return c.jsxs("button",{onClick:()=>i(m.id),className:`
                    flex-1 flex items-center justify-center py-3 px-2 rounded-md text-sm font-medium transition-all duration-200
                    ${y?"bg-purple-600 text-white shadow-lg":"text-purple-300 hover:text-white hover:bg-white/5"}
                  `,children:[c.jsx(g,{className:"w-4 h-4 mr-1"}),c.jsx("span",{className:a?"block":"hidden sm:block",children:m.label}),m.count>0&&c.jsx("span",{className:`
                      ml-2 px-2 py-0.5 text-xs rounded-full
                      ${y?"bg-white/20 text-white":"bg-purple-500/30 text-purple-200"}
                    `,children:m.count})]},m.id)})})]})}),c.jsxs("div",{className:"p-4",children:[d.length===0?c.jsx(p,{tab:n}):c.jsx(Ve.div,{className:`
              grid gap-4
              ${a?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-2"}
            `,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.1},children:d.map((m,g)=>c.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:g*.05},children:c.jsx(Ys,{book:m,onSelect:()=>t(m.id),showStatus:!0})},m.id))}),n==="favorites"&&d.length>0&&c.jsx(Ve.div,{className:"mt-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:c.jsxs(ge,{onClick:e,variant:"outline",className:"border-purple-400 text-purple-300 hover:bg-purple-600/20 hover:border-purple-300",children:[c.jsx(fs,{className:"w-4 h-4 mr-2"}),"Buscar mais livros"]})})]})]})}var jB="Label",Yk=x.forwardRef((t,e)=>c.jsx(_e.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Yk.displayName=jB;var NB=Yk;function wn({className:t,...e}){return c.jsx(NB,{"data-slot":"label",className:Be("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function TB({onBack:t}){const{state:e,actions:r}=ir(),[n,i]=x.useState("goals"),[a,l]=x.useState("vertical"),[d,f]=x.useState(!0),[p,m]=x.useState([16]),[g,y]=x.useState([1.5]),[b,k]=x.useState([20]),[S,E]=x.useState(!1),[C,j]=x.useState("system"),[N,R]=x.useState(e.user?.preferences.readingGoals.chaptersPerDay||1),[M,L]=x.useState(e.user?.preferences.readingGoals.chaptersPerWeek||7),[D,A]=x.useState(e.user?.preferences.readingGoals.chaptersPerMonth||30),[V,H]=x.useState(e.user?.preferences.readingGoals.booksPerYear||24),Z=()=>{re.success("Configuraes salvas com sucesso!")},ce=()=>{re.success("Metas atualizadas com sucesso!")};return c.jsxs("div",{className:"min-h-screen pb-16",children:[c.jsxs(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass border-b border-white/20 px-4 py-4 sticky top-0 z-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ge,{variant:"ghost",size:"sm",onClick:t,className:"text-white hover:bg-white/10 rounded-full p-2",children:c.jsx(Aa,{size:20})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-semibold text-white",children:"Configuraes"}),c.jsx("p",{className:"text-sm text-white/70",children:"Personalize sua experincia de leitura"})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[c.jsxs(ge,{variant:n==="goals"?"default":"ghost",size:"sm",onClick:()=>i("goals"),className:n==="goals"?"bg-purple-600 hover:bg-purple-700 text-white":"text-white hover:bg-white/10",children:[c.jsx(Nx,{size:16,className:"mr-1"}),"Metas"]}),c.jsxs(ge,{variant:n==="themes"?"default":"ghost",size:"sm",onClick:()=>i("themes"),className:n==="themes"?"bg-purple-600 hover:bg-purple-700 text-white":"text-white hover:bg-white/10",children:[c.jsx(Yc,{size:16,className:"mr-1"}),"Temas"]})]})]}),c.jsx("div",{className:"px-4 py-6 space-y-6",children:n==="themes"?c.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[c.jsxs(kt,{className:"glass border-white/20",children:[c.jsx(oi,{children:c.jsxs(ii,{className:"flex items-center gap-2 text-white",children:[c.jsx(Yc,{size:20}),"Tema do Aplicativo"]})}),c.jsx(Et,{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx(wn,{className:"text-white mb-3 block",children:"Tema do Aplicativo"}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsxs("button",{onClick:()=>r.setTheme("light"),className:`flex items-center gap-3 p-4 rounded-xl border transition-all duration-300 ${e.theme==="light"?"bg-purple-600/20 border-purple-500 text-white":"bg-white/5 border-white/20 text-white/70 hover:bg-white/10"}`,children:[c.jsx(am,{size:20,className:"text-yellow-400"}),c.jsxs("div",{className:"text-left",children:[c.jsx("h4",{className:"font-medium",children:"Modo Dia"}),c.jsx("p",{className:"text-xs opacity-70",children:"Roxo estrela - ideal para ambientes claros"})]})]}),c.jsxs("button",{onClick:()=>r.setTheme("night"),className:`flex items-center gap-3 p-4 rounded-xl border transition-all duration-300 ${e.theme==="night"?"bg-purple-600/20 border-purple-500 text-white":"bg-white/5 border-white/20 text-white/70 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(im,{size:20,className:"text-blue-400"}),c.jsx("div",{className:"absolute -top-1 -right-1 w-1 h-1 bg-blue-200 rounded-full animate-pulse"})]}),c.jsxs("div",{className:"text-left",children:[c.jsx("h4",{className:"font-medium",children:"Modo Noite"}),c.jsx("p",{className:"text-xs opacity-70",children:"Azul estrelado - cu noturno relaxante"})]})]})]})]})})]}),c.jsx(ge,{onClick:Z,className:"w-full bg-purple-600 hover:bg-purple-700",children:"Salvar Configuraes"})]}):c.jsxs(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[c.jsxs(kt,{className:"glass border-white/20",children:[c.jsx(oi,{children:c.jsxs(ii,{className:"flex items-center gap-2 text-white",children:[c.jsx(Nx,{size:20}),"Metas de Leitura"]})}),c.jsxs(Et,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx(wn,{className:"text-white mb-2 block",children:"Captulos por Dia"}),c.jsx(Br,{type:"number",value:N,onChange:ae=>R(parseInt(ae.target.value)||1),min:1,max:10,className:"bg-white/10 border-white/20 text-white"})]}),c.jsxs("div",{children:[c.jsx(wn,{className:"text-white mb-2 block",children:"Captulos por Semana"}),c.jsx(Br,{type:"number",value:M,onChange:ae=>L(parseInt(ae.target.value)||7),min:1,max:50,className:"bg-white/10 border-white/20 text-white"})]}),c.jsxs("div",{children:[c.jsx(wn,{className:"text-white mb-2 block",children:"Captulos por Ms"}),c.jsx(Br,{type:"number",value:D,onChange:ae=>A(parseInt(ae.target.value)||30),min:1,max:200,className:"bg-white/10 border-white/20 text-white"})]}),c.jsxs("div",{children:[c.jsx(wn,{className:"text-white mb-2 block",children:"Livros por Ano"}),c.jsx(Br,{type:"number",value:V,onChange:ae=>H(parseInt(ae.target.value)||24),min:1,max:365,className:"bg-white/10 border-white/20 text-white"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[c.jsxs("div",{className:"glass rounded-lg p-3 text-center",children:[c.jsx("div",{className:"text-lg font-bold text-white",children:N}),c.jsx("div",{className:"text-xs text-white/70",children:"Cap/Dia"})]}),c.jsxs("div",{className:"glass rounded-lg p-3 text-center",children:[c.jsx("div",{className:"text-lg font-bold text-white",children:M}),c.jsx("div",{className:"text-xs text-white/70",children:"Cap/Semana"})]}),c.jsxs("div",{className:"glass rounded-lg p-3 text-center",children:[c.jsx("div",{className:"text-lg font-bold text-white",children:D}),c.jsx("div",{className:"text-xs text-white/70",children:"Cap/Ms"})]}),c.jsxs("div",{className:"glass rounded-lg p-3 text-center",children:[c.jsx("div",{className:"text-lg font-bold text-white",children:V}),c.jsx("div",{className:"text-xs text-white/70",children:"Livros/Ano"})]})]})]})]}),c.jsx(ge,{onClick:ce,className:"w-full bg-purple-600 hover:bg-purple-700",children:"Salvar Metas"})]})})]})}var dh={exports:{}},fh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function RB(){if(rw)return fh;rw=1;var t=cu();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function d(g,y){var b=y(),k=n({inst:{value:b,getSnapshot:y}}),S=k[0].inst,E=k[1];return a(function(){S.value=b,S.getSnapshot=y,f(S)&&E({inst:S})},[g,b,y]),i(function(){return f(S)&&E({inst:S}),g(function(){f(S)&&E({inst:S})})},[g]),l(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function p(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return fh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,fh}var nw;function PB(){return nw||(nw=1,dh.exports=RB()),dh.exports}var AB=PB();function DB(){return AB.useSyncExternalStore(IB,()=>!0,()=>!1)}function IB(){return()=>{}}var Rm="Avatar",[MB]=_r(Rm),[OB,Xk]=MB(Rm),Jk=x.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=x.useState("idle");return c.jsx(OB,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(_e.span,{...n,ref:e})})});Jk.displayName=Rm;var Qk="AvatarImage",Zk=x.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,l=Xk(Qk,r),d=LB(n,a),f=_t(p=>{i(p),l.onImageLoadingStatusChange(p)});return ft(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?c.jsx(_e.img,{...a,ref:e,src:n}):null});Zk.displayName=Qk;var eE="AvatarFallback",tE=x.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=Xk(eE,r),[l,d]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const f=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(f)}},[n]),l&&a.imageLoadingStatus!=="loaded"?c.jsx(_e.span,{...i,ref:e}):null});tE.displayName=eE;function sw(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function LB(t,{referrerPolicy:e,crossOrigin:r}){const n=DB(),i=x.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[l,d]=x.useState(()=>sw(a,t));return ft(()=>{d(sw(a,t))},[a,t]),ft(()=>{const f=g=>()=>{d(g)};if(!a)return;const p=f("loaded"),m=f("error");return a.addEventListener("load",p),a.addEventListener("error",m),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",p),a.removeEventListener("error",m)}},[a,r,e]),l}var BB=Jk,UB=Zk,$B=tE;function rE({className:t,...e}){return c.jsx(BB,{"data-slot":"avatar",className:Be("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function nE({className:t,...e}){return c.jsx(UB,{"data-slot":"avatar-image",className:Be("aspect-square size-full",t),...e})}function sE({className:t,...e}){return c.jsx($B,{"data-slot":"avatar-fallback",className:Be("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const FB="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function zB(t){const[e,r]=x.useState(!1),n=()=>{r(!0)},{src:i,alt:a,style:l,className:d,...f}=t;return e?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:l,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:FB,alt:"Error loading image",...f,"data-original-url":i})})}):c.jsx("img",{src:i,alt:a,className:d,style:l,...f,onError:n})}function VB(){const{state:t,actions:e,repositories:r}=ir(),[n,i]=x.useState(!1),[a,l]=x.useState(!1),[d,f]=x.useState(t.user?.name||""),[p,m]=x.useState(t.user?.nickname||""),[g,y]=x.useState(t.user?.avatar||""),[b,k]=x.useState(t.user?.banner||""),[S,E]=x.useState([]),[C,j]=x.useState(null),[N,R]=x.useState(!1),[M,L]=x.useState(!1),D=Ka();x.useEffect(()=>{A()},[t.userBooks]),x.useEffect(()=>{t.user&&(f(t.user.name||""),m(t.user.nickname||""),y(t.user.avatar||""),k(t.user.banner||""))},[t.user]),x.useEffect(()=>{const F=()=>{i(!0)};return window.addEventListener("showSettings",F),()=>{window.removeEventListener("showSettings",F)}},[]);const A=()=>{try{const F=t.userBooks.filter((I,G,X)=>G===X.findIndex(se=>se.book.id===I.book.id)).sort((I,G)=>new Date(G.addedAt).getTime()-new Date(I.addedAt).getTime()).slice(0,8).map(I=>I.book);E(F)}catch(F){console.error("Failed to load recent library books:",F)}};if(n)return c.jsx(TB,{onBack:()=>i(!1)});const V=async()=>{if(!M){L(!0);try{await e.updateProfile({name:d.trim()||void 0,nickname:p.trim()||void 0,avatar:g.trim()||void 0,banner:b.trim()||void 0}),re.success("Perfil atualizado com sucesso!"),l(!1)}catch(F){console.error("Error updating profile:",F),re.error("Erro ao atualizar perfil. Tente novamente.")}finally{L(!1)}}},H=()=>`https://images.unsplash.com/photo-1581065178047-8ee15951ede6?w=300&h=300&fit=crop&crop=face&auto=format&q=80&seed=${Math.floor(Math.random()*1e3)}`,Z=()=>`https://images.unsplash.com/photo-1614850716626-873413eb7c1b?w=800&h=200&fit=crop&auto=format&q=80&seed=${Math.floor(Math.random()*1e3)}`,ce=()=>{const F=H();y(F)},ae=()=>{const F=Z();k(F)},ue=()=>{e.logout(),re.success("Voc saiu da sua conta!")},ye=()=>{re.success("Redirecionando para a loja de aplicativos...")},Y=()=>{e.logout(),re.success("Redirecionando para o login...")},q=F=>{j(F),R(!0)},T=t.user,U=e.calculateUserStatistics();return c.jsxs("div",{className:"min-h-screen responsive-scroll",children:[c.jsxs("div",{className:`${D?"max-w-6xl mx-auto px-6 py-8":"px-4 py-6"}`,children:[c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative mb-8",children:[c.jsxs("div",{className:"h-32 md:h-40 relative rounded-2xl overflow-hidden mb-6",children:[T?.banner?c.jsx(zB,{src:T.banner,alt:"Banner do perfil",className:"w-full h-full object-cover"}):c.jsxs("div",{className:"w-full h-full bg-gradient-to-r from-eclipse-primary via-eclipse-secondary to-eclipse-accent",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/30"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-eclipse-darker/50 to-transparent"})]}),c.jsx(ge,{variant:"ghost",size:"sm",onClick:ae,className:"absolute top-4 right-4 text-white hover:bg-white/10 rounded-full p-2 opacity-80 hover:opacity-100 transition-all",children:c.jsx(kc,{size:18})})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-6 -mt-16 md:-mt-20 relative z-10",children:[c.jsxs("div",{className:"relative",children:[c.jsxs(rE,{className:"w-24 h-24 md:w-32 md:h-32 border-4 border-white/30 shadow-2xl",children:[c.jsx(nE,{src:T?.avatar||""}),c.jsx(sE,{className:"bg-eclipse-primary text-white text-2xl md:text-3xl",children:T?.name?.charAt(0)||"U"})]}),c.jsx(ge,{variant:"ghost",size:"sm",onClick:ce,className:"absolute -bottom-2 -right-2 bg-eclipse-secondary hover:bg-eclipse-accent text-white rounded-full p-2 w-8 h-8 shadow-lg",children:c.jsx(kc,{size:14})})]}),c.jsx("div",{className:"flex-1 text-center md:text-left",children:c.jsxs("div",{className:"mb-4",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:T?.nickname||T?.name?.split(" ")[0]||"Usurio"}),c.jsxs("p",{className:"text-white/70 text-base md:text-lg",children:["@",T?.name?.toLowerCase().replace(/\s+/g,"")||"usuario"]}),c.jsx("div",{className:"flex justify-center md:justify-start mt-3",children:c.jsx(Lt,{variant:T?.accountType==="premium"?"default":"secondary",className:T?.accountType==="premium"?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black shadow-lg px-3 py-1":"bg-gradient-to-r from-gray-500 to-gray-700 text-white px-3 py-1",children:T?.accountType==="premium"?" Premium":"Gratuito"})})]})}),c.jsxs(Qc,{open:a,onOpenChange:l,children:[c.jsx(_L,{asChild:!0,children:c.jsxs(ge,{variant:"outline",size:"sm",className:"bg-eclipse-primary text-white transition-colors duration-300 px-4",children:[c.jsx(zM,{size:16,className:"mr-2"}),"Editar Perfil"]})}),c.jsxs(Ia,{className:"glass border-white/20 max-w-md",children:[c.jsxs(Zc,{children:[c.jsx(Ma,{className:"text-white",children:"Editar Perfil"}),c.jsx(Oa,{className:"text-white/70",children:"Atualize suas informaes pessoais"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(wn,{className:"text-white",children:"Nome Completo"}),c.jsx(Br,{value:d,onChange:F=>f(F.target.value),className:"bg-white/10 border-white/20 text-white",style:{"--selection-bg":"#C4B5FD","--selection-color":"#1A0B2E"}})]}),c.jsxs("div",{children:[c.jsx(wn,{className:"text-white",children:"Nickname"}),c.jsx(Br,{value:p,onChange:F=>m(F.target.value),placeholder:"Como voc quer ser chamado?",className:"bg-white/10 border-white/20 text-white",style:{"--selection-bg":"#C4B5FD","--selection-color":"#1A0B2E"}})]}),c.jsxs("div",{children:[c.jsx(wn,{className:"text-white",children:"Avatar URL"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Br,{value:g,onChange:F=>y(F.target.value),placeholder:"URL da imagem do avatar",className:"bg-white/10 border-white/20 text-white flex-1",style:{"--selection-bg":"#C4B5FD","--selection-color":"#1A0B2E"}}),c.jsx(ge,{type:"button",onClick:ce,variant:"outline",size:"sm",className:"bg-eclipse-primary text-white transition-colors duration-300",children:c.jsx(kc,{size:16})})]})]}),c.jsxs("div",{children:[c.jsx(wn,{className:"text-white",children:"Banner URL"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Br,{value:b,onChange:F=>k(F.target.value),placeholder:"URL da imagem do banner",className:"bg-white/10 border-white/20 text-white flex-1",style:{"--selection-bg":"#C4B5FD","--selection-color":"#1A0B2E"}}),c.jsx(ge,{type:"button",onClick:ae,variant:"outline",size:"sm",className:"bg-eclipse-primary text-white transition-colors duration-300",children:c.jsx(kc,{size:16})})]})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(ge,{onClick:V,disabled:M,className:"flex-1 bg-eclipse-primary text-white transition-colors duration-300",children:M?"Salvando...":"Salvar"}),c.jsx(ge,{onClick:()=>l(!1),variant:"outline",className:"flex-1 text-white transition-colors duration-300",style:{backgroundColor:"rgb(108, 67, 192)",borderColor:"rgb(108, 67, 192)"},children:"Cancelar"})]})]})]})]})]})]}),c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-3 md:grid-cols-6 gap-3 md:gap-4 mb-8",children:[c.jsx(kt,{className:"glass border-white/20 hover:border-pink-500/30 transition-all duration-300 group",children:c.jsxs(Et,{className:"p-3 md:p-4 text-center",children:[c.jsx(qs,{className:"text-pink-400 mx-auto mb-2 group-hover:scale-110 transition-transform",size:20}),c.jsx("div",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:U.booksLiked}),c.jsx("div",{className:"text-xs text-white/70",children:"Curtidas"})]})}),c.jsx(kt,{className:"glass border-white/20 hover:border-blue-500/30 transition-all duration-300 group",children:c.jsxs(Et,{className:"p-3 md:p-4 text-center",children:[c.jsx(Ue,{className:"text-blue-400 mx-auto mb-2 group-hover:scale-110 transition-transform",size:20}),c.jsx("div",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:U.chaptersRead}),c.jsx("div",{className:"text-xs text-white/70",children:"Captulos"})]})}),c.jsx(kt,{className:"glass border-white/20 hover:border-yellow-500/30 transition-all duration-300 group",children:c.jsxs(Et,{className:"p-3 md:p-4 text-center",children:[c.jsx(FI,{className:"text-yellow-400 mx-auto mb-2 group-hover:scale-110 transition-transform",size:20}),c.jsx("div",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:U.toReadCount}),c.jsx("div",{className:"text-xs text-white/70",children:"Vou Ler"})]})}),c.jsx(kt,{className:"glass border-white/20 hover:border-green-500/30 transition-all duration-300 group",children:c.jsxs(Et,{className:"p-3 md:p-4 text-center",children:[c.jsx(Qh,{className:"text-green-400 mx-auto mb-2 group-hover:scale-110 transition-transform",size:20}),c.jsx("div",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:U.currentlyReading}),c.jsx("div",{className:"text-xs text-white/70",children:"Lendo"})]})}),c.jsx(kt,{className:"glass border-white/20 hover:border-purple-500/30 transition-all duration-300 group",children:c.jsxs(Et,{className:"p-3 md:p-4 text-center",children:[c.jsx(Da,{className:"text-purple-400 mx-auto mb-2 group-hover:scale-110 transition-transform",size:20}),c.jsx("div",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:U.booksRead}),c.jsx("div",{className:"text-xs text-white/70",children:"Lidos"})]})}),c.jsx(kt,{className:"glass border-white/20 hover:border-red-500/30 transition-all duration-300 group",children:c.jsxs(Et,{className:"p-3 md:p-4 text-center",children:[c.jsx(tM,{className:"text-red-400 mx-auto mb-2 group-hover:scale-110 transition-transform",size:20}),c.jsx("div",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:U.droppedCount}),c.jsx("div",{className:"text-xs text-white/70",children:"Dropados"})]})})]}),D&&c.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:c.jsx(kt,{className:"bg-gradient-to-r from-eclipse-primary/20 to-eclipse-secondary/20 backdrop-blur-xl border border-eclipse-accent/30 shadow-2xl",children:c.jsxs(Et,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx($M,{className:"text-eclipse-accent",size:20}),c.jsx("h3",{className:"text-white font-semibold",children:T?.accountType==="guest"?"Crie sua Conta":"App Mobile"})]}),T?.accountType==="guest"?c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-white/80 text-sm",children:"Faa login para desbloquear recursos completos e sincronizar seus dados em todos os dispositivos."}),c.jsxs(ge,{onClick:Y,className:"w-full md:w-auto bg-eclipse-primary hover:bg-eclipse-secondary hover:shadow-lg hover:shadow-purple-500/25 transition-all duration-300",children:[c.jsx(YM,{size:16,className:"mr-2"}),"Fazer Login / Criar Conta"]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-white/80 text-sm",children:"Baixe nosso app mvel para ler seus livros em qualquer lugar, mesmo offline."}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[c.jsxs(ge,{onClick:ye,className:"bg-eclipse-primary hover:bg-eclipse-secondary hover:shadow-lg hover:shadow-purple-500/25 transition-all duration-300",children:[c.jsx(Zh,{size:16,className:"mr-2"}),"Baixar para Android"]}),c.jsxs(ge,{onClick:ye,className:"bg-eclipse-primary hover:bg-eclipse-secondary hover:shadow-lg hover:shadow-purple-500/25 transition-all duration-300",children:[c.jsx(Zh,{size:16,className:"mr-2"}),"Baixar para iOS"]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[c.jsx("span",{children:" Interface otimizada"}),c.jsx("span",{children:" Leitura offline"}),c.jsx("span",{children:" Sincronizao"})]})]})]})})}),c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.jsx(Qh,{className:"text-blue-400",size:20}),"Adicionadas Recentemente"]}),c.jsxs("span",{className:"text-white/60 text-sm",children:[S.length," livros"]})]}),S.length===0?c.jsx(kt,{className:"glass border-white/20",children:c.jsxs(Et,{className:"p-8 text-center",children:[c.jsx(Ue,{className:"text-white/40 mx-auto mb-3",size:48}),c.jsx("h3",{className:"text-white/70 font-medium mb-2",children:"Nenhum livro ainda"}),c.jsx("p",{className:"text-white/50 text-sm",children:"Comece explorando e adicionando livros aos seus favoritos"})]})}):c.jsx("div",{className:"overflow-x-auto responsive-scroll",children:c.jsx("div",{className:"flex gap-4 pb-2 min-w-max",children:S.map(F=>c.jsx("div",{className:"flex-shrink-0 w-32 md:w-40 group",children:c.jsx(Ys,{book:F,variant:"compact",onOpenBook:q})},F.id))})})]}),c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[c.jsxs(ge,{onClick:()=>window.dispatchEvent(new CustomEvent("showPlansScreen")),className:"w-full bg-gradient-to-r from-yellow-400/10 to-yellow-600/10 backdrop-blur-xl border border-yellow-400/30 text-white hover:from-yellow-400/20 hover:to-yellow-600/20 hover:shadow-lg hover:shadow-yellow-500/25 transition-all duration-300 shadow-xl",variant:"outline",size:"sm",children:[c.jsx(tn,{size:16,className:"mr-2 text-yellow-400"}),T?.accountType==="premium"?"Gerenciar Plano":"Upgrade para Premium"]}),c.jsxs(ge,{onClick:ue,className:"w-full bg-red-600/20 backdrop-blur-xl border border-red-500/30 text-white hover:bg-red-600/30 hover:shadow-lg hover:shadow-red-500/25 transition-all duration-300 shadow-xl",variant:"outline",size:"sm",children:[c.jsx(W1,{size:16,className:"mr-2"}),"Sair da Conta"]})]})]}),c.jsx(ju,{book:C,isOpen:N,onClose:()=>R(!1),onStartReading:F=>{R(!1)}})]})}function WB({bookId:t,onBack:e,onNavigateToHome:r}){const{state:n,actions:i}=ir(),[a,l]=x.useState(null),[d,f]=x.useState(!1),[p,m]=x.useState(!0),g=vu();x.useEffect(()=>{(async()=>{if(!t){m(!1);return}try{m(!0);const C=new Promise((N,R)=>{setTimeout(()=>R(new Error("Request timeout")),3e4)}),j=await Promise.race([i.repositories.bookRepository.getBookById(t),C]);l(j),j&&j.isTemporaryData&&console.warn(" Exibindo dados de fallback para livro:",t)}catch(C){console.error("Error loading book:",C),l(null),re.error("No foi possvel carregar o livro. Tente novamente.")}finally{m(!1)}})()},[t,i.repositories.bookRepository]);const y=async E=>{if(n.userBooks.find(j=>j.book.id===E.id))re.success("Iniciando leitura!"),setTimeout(()=>{f(!0)},1e3);else try{const j=await i.addBookToLibrary(E.id,Ee.CURRENTLY_READING);j.success?(re.success("Comeando a leitura!"),setTimeout(()=>{f(!0)},1e3)):re.error(j.message||"Erro ao adicionar livro")}catch{re.error("Erro ao adicionar livro")}},b=async()=>{try{const E=await i.toggleFavorite(a.id);E.success?(await i.loadUserData(),re.success(E.message),setTimeout(()=>{r&&r(a.id)},1500)):re.error(E.message||"Erro ao alterar favorito")}catch(E){console.error("Error toggling favorite:",E),re.error("Erro ao alterar favorito")}},k=async()=>{if(!a)return;const E=n.userBooks.find(C=>C.book.id===a.id);if(console.log("DEBUG handleMarkAsRead - user:",n.user),console.log("DEBUG handleMarkAsRead - existingUserBook:",E),console.log("DEBUG handleMarkAsRead - bookId:",a.id),E)try{const C=await i.repositories.bookRepository.updateUserBookStatus(E.id,Ee.READ);console.log("DEBUG handleMarkAsRead - updatedUserBook:",C),await i.loadUserData(),re.success("Livro marcado como lido!"),setTimeout(()=>{r&&r(a.id)},1500)}catch(C){console.error("Error updating book status:",C),re.error("Erro ao marcar como lido")}else try{console.log("DEBUG handleMarkAsRead - calling addBookToLibrary for",a.id);const C=await i.addBookToLibrary(a.id,Ee.READ);console.log("DEBUG handleMarkAsRead - addBookToLibrary result:",C),C.success?(re.success("Livro marcado como lido!"),setTimeout(()=>{r&&r(a.id)},1500)):re.error(C.message||"Erro ao marcar como lido")}catch(C){console.error("Error adding book as read:",C),re.error("Erro ao marcar como lido")}};if(d&&a)return c.jsx(wm,{bookTitle:a.title,book:a,onBack:()=>f(!1)});if(p)return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-white rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-white/90",children:"Carregando detalhes do livro..."})]})});if(!a)return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx(Ue,{className:"w-16 h-16 text-white/50 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl text-white mb-2",children:"Livro temporariamente indisponvel"}),c.jsx("p",{className:"text-white/70 mb-6",children:"No foi possvel carregar os detalhes deste livro no momento. A API do Google Books pode estar temporariamente indisponvel."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsxs(ge,{onClick:e,variant:"outline",className:"border-purple-600 text-purple-300 hover:bg-purple-600/20",children:[c.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Voltar"]}),c.jsx(ge,{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700",children:"Tentar Novamente"})]})]})});if(!g)return c.jsx(ju,{book:a,isOpen:!0,onClose:e,onStartReading:y});const S=a.isTemporaryData;return c.jsx("div",{className:"min-h-screen p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsxs(ge,{onClick:e,variant:"ghost",className:"text-white hover:bg-white/10",children:[c.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Voltar"]})}),S&&c.jsx("div",{className:"mb-6 p-4 rounded-xl bg-yellow-900/30 border border-yellow-700",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("svg",{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-yellow-200 font-medium mb-1",children:"Dados Temporariamente Indisponveis"}),c.jsx("p",{className:"text-yellow-100/80 text-sm mb-3",children:"A API do Google Books est temporariamente indisponvel (erro 503). Os detalhes completos do livro no puderam ser carregados. Por favor, tente novamente em alguns minutos."}),c.jsx(ge,{onClick:()=>{as(()=>Promise.resolve().then(()=>Oh),void 0).then(E=>{E.clearCache(),window.location.reload()})},size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Tentar Novamente"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-[calc(100vh-180px)]",children:[c.jsx("div",{className:"flex flex-col items-center justify-center",children:c.jsxs("div",{className:"glass rounded-3xl p-8 max-w-md w-full",children:[c.jsxs("div",{className:"aspect-[3/4] w-full max-w-80 mx-auto mb-6 bg-gradient-to-br from-purple-400 to-purple-600 relative overflow-hidden rounded-2xl",children:[a.coverUrl?c.jsx("img",{src:a.coverUrl,alt:a.title,className:"w-full h-full object-cover",onError:E=>{const C=E.target;C.style.display="none"}}):c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(Ue,{className:"text-white opacity-50",size:64})}),a.id==="dom_casmurro"?c.jsx("div",{className:"absolute top-4 right-4 bg-blue-500/90 backdrop-blur-sm rounded-full px-3 py-1",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ue,{className:"text-white",size:14}),c.jsx("span",{className:"text-white text-xs font-medium",children:"E-book Funcionando"})]})}):a.source==="elivros"?c.jsx("div",{className:"absolute top-4 right-4 bg-green-500/90 backdrop-blur-sm rounded-full px-3 py-1",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ue,{className:"text-white",size:14}),c.jsx("span",{className:"text-white text-xs font-medium",children:"Leitura Online"})]})}):a.isPublicDomain&&c.jsx("div",{className:"absolute top-4 right-4 bg-green-500/90 backdrop-blur-sm rounded-full px-3 py-1",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ue,{className:"text-white",size:14}),c.jsx("span",{className:"text-white text-xs font-medium",children:"Disponvel"})]})})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:a.title}),c.jsxs("p",{className:"text-white/70 text-lg mb-2",children:["por ",a.author]}),c.jsx("p",{className:"text-white/60 text-sm mb-4",children:a.publishedYear}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(tn,{className:"text-yellow-400 fill-current",size:20}),c.jsx("span",{className:"text-white text-lg font-medium",children:(a.rating||0).toFixed(1)})]}),c.jsx("span",{className:"text-white/60",children:""}),c.jsxs("span",{className:"text-white/60",children:[a.pages," pginas"]})]})]})]})}),c.jsx("div",{className:"flex flex-col",children:c.jsx("div",{className:"glass rounded-3xl p-8 flex-1 overflow-y-auto responsive-scroll",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-white",children:"Pginas:"}),c.jsx("span",{className:"ml-1 text-gray-300",children:a.pages})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-white",children:"Idioma:"}),c.jsx("span",{className:"ml-1 text-gray-300",children:a.language==="pt"?"Portugus":a.language==="en"?"Ingls":a.language||"N/A"})]}),a.isbn&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"font-medium text-white",children:"ISBN:"}),c.jsx("span",{className:"ml-1 text-gray-300",children:a.isbn})]})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(a.categories||[]).map(E=>c.jsxs("div",{className:"px-3 py-1 rounded-full text-sm",style:{backgroundColor:`${E.color}20`,color:E.color},children:[E.icon," ",E.name]},E.id))}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Sobre o livro"}),c.jsx("p",{className:"text-gray-300 leading-relaxed",children:a.description})]}),a.source==="elivros"?c.jsxs("div",{className:"p-4 rounded-xl border border-green-700 bg-green-900/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Ue,{className:"text-green-400",size:20}),c.jsx("p",{className:"font-medium text-white",children:"Disponvel no elivros.info"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Leitura Online"}),c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:"Brasileiro"}),c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-purple-100 text-purple-800",children:"Literatura Nacional"})]}),c.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Este livro est disponvel para leitura online atravs do site elivros.info, uma biblioteca digital de literatura brasileira."})]}):a.isPublicDomain&&c.jsxs("div",{className:"p-4 rounded-xl border border-blue-700 bg-blue-900/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Ue,{className:"text-green-400",size:20}),c.jsx("p",{className:"font-medium text-white",children:"Disponvel para Leitura"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Online"}),c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:"Domnio Pblico"}),c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-purple-100 text-purple-800",children:"Gratuito"})]}),c.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Obra de domnio pblico - Leitura online gratuita"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(ge,{onClick:()=>y(a),className:"w-full bg-purple-600 hover:bg-purple-700 text-lg py-3",disabled:!i.canAddMoreBooks()&&!n.userBooks.find(E=>E.book.id===a.id),children:[c.jsx(Ue,{className:"w-5 h-5 mr-2"}),n.userBooks.find(E=>E.book.id===a.id)?.status===Ee.CURRENTLY_READING?"Continuar Lendo":"Ler Agora"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(ge,{onClick:b,className:`transition-all ${n.userBooks.find(E=>E.book.id===a.id)?.isFavorite,"bg-purple-600 hover:bg-purple-700 text-white"}`,disabled:!i.canAddMoreBooks()&&!n.userBooks.find(E=>E.book.id===a.id),title:n.userBooks.find(E=>E.book.id===a.id)?.isFavorite?"Remover dos favoritos":i.canAddMoreBooks()||n.userBooks.find(E=>E.book.id===a.id)?"Adicionar aos favoritos":"Limite atingido",children:[c.jsx(qs,{className:`w-4 h-4 mr-2 ${n.userBooks.find(E=>E.book.id===a.id)?.isFavorite?"fill-current text-white":"text-white"}`}),"Favoritar"]}),c.jsxs(ge,{onClick:k,className:`transition-all ${n.userBooks.find(E=>E.book.id===a.id)?.status===Ee.READ,"bg-purple-600 hover:bg-purple-700 text-white"}`,disabled:!i.canAddMoreBooks()&&!n.userBooks.find(E=>E.book.id===a.id),title:n.userBooks.find(E=>E.book.id===a.id)?.status===Ee.READ?"J marcado como lido":i.canAddMoreBooks()||n.userBooks.find(E=>E.book.id===a.id)?"Marcar como lido":"Limite atingido",children:[c.jsx(Da,{className:`w-4 h-4 mr-2 ${n.userBooks.find(E=>E.book.id===a.id)?.status===Ee.READ?"fill-current text-white":"text-white"}`}),"J Li"]})]})]})]})})})]})]})})}function HB({onBack:t}){const{state:e,actions:r}=ir(),[n,i]=x.useState(!1),a=Ka(),d=e.user?.accountType||"guest",f=async()=>{if(!n){i(!0);try{await new Promise(b=>setTimeout(b,2e3)),await r.upgradeToPremium(),re.success("Parabns! Voc agora  Premium! ")}catch(b){console.error("Error upgrading to premium:",b),re.error("Erro ao processar upgrade. Tente novamente.")}finally{i(!1)}}},p=()=>{const b=new Date;return b.setMonth(b.getMonth()+1),b.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})},m=[{icon:Ue,text:"Acesso a livros bsicos",included:!0},{icon:Ue,text:"Leitura online",included:!0},{icon:Tx,text:"Sincronizao entre dispositivos",included:!0},{icon:Ue,text:"Marcadores de pginas",included:!0}],g=[{icon:Kc,text:"Todos os recursos gratuitos",included:!0},{icon:yn,text:"Acesso a livros exclusivos",included:!0},{icon:Zh,text:"Download para leitura offline",included:!0},{icon:ka,text:"Sem anncios",included:!0},{icon:Tx,text:"Lanamentos antecipados",included:!0},{icon:BM,text:"Suporte prioritrio",included:!0},{icon:GI,text:"Estatsticas avanadas",included:!0},{icon:Yc,text:"Temas personalizados",included:!0}],y=[{icon:yn,title:"Contedo Exclusivo",description:"Acesso a ttulos exclusivos e lanamentos antecipados"},{icon:tn,title:"Experincia Completa",description:"Leitura offline, sem anncios e com recursos avanados"},{icon:hM,title:"Suporte Premium",description:"Atendimento prioritrio e suporte dedicado"}];return c.jsx("div",{className:"min-h-screen responsive-scroll",children:c.jsxs("div",{className:`${a?"max-w-6xl mx-auto px-6 py-8":"px-4 py-6"}`,children:[c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t&&c.jsx(ge,{variant:"ghost",size:"sm",onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-full",children:c.jsx(Aa,{size:20})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-3",children:[c.jsx(yn,{className:"text-yellow-400",size:32}),"Planos e Assinatura"]}),c.jsx("p",{className:"text-white/70 mt-2",children:"Escolha o plano ideal para voc"})]})]}),c.jsx(kt,{className:"glass border-white/20 mb-8",children:c.jsx(Et,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold mb-1",children:"Plano Atual"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:d==="premium"?"Premium":"Gratuito"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Vlido at"}),c.jsx("p",{className:"text-white font-medium",children:p()})]})]})})})]}),c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid md:grid-cols-2 gap-6 mb-12",children:[c.jsxs(kt,{className:"glass border-white/20 relative",children:[c.jsx(oi,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ii,{className:"text-white text-xl",children:"Gratuito"}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:"R$ 0"}),c.jsx("div",{className:"text-white/60 text-sm",children:"Plano Atual"})]})]})}),c.jsxs(Et,{className:"pt-0",children:[c.jsx("div",{className:"space-y-3 mb-6",children:m.map((b,k)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(b.icon,{className:"text-blue-400",size:16}),c.jsx("span",{className:"text-white/80 text-sm",children:b.text})]},k))}),c.jsx(ge,{disabled:!0,className:"w-full bg-gray-600/50 text-gray-300 cursor-not-allowed",children:"Plano Atual"})]})]}),c.jsxs(kt,{className:"glass border-yellow-400/30 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsxs(Lt,{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold px-3 py-1",children:[c.jsx(yn,{size:14,className:"mr-1"}),"Recomendado"]})}),c.jsx(oi,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ii,{className:"text-white text-xl",children:"Premium"}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:"R$ 19,90"}),c.jsx("div",{className:"text-white/60 text-sm",children:"/ms"})]})]})}),c.jsxs(Et,{className:"pt-0",children:[c.jsx("div",{className:"space-y-3 mb-6",children:g.map((b,k)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Kc,{className:"text-green-400",size:16}),c.jsx("span",{className:"text-white/80 text-sm",children:b.text})]},k))}),c.jsx(ge,{onClick:f,disabled:n||d==="premium",className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold hover:from-yellow-500 hover:to-yellow-700 transition-all duration-300",children:n?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin mr-2"}),"Processando..."]}):d==="premium"?c.jsxs(c.Fragment,{children:[c.jsx(yn,{size:16,className:"mr-2"}),"Plano Ativo"]}):c.jsxs(c.Fragment,{children:[c.jsx(yn,{size:16,className:"mr-2"}),"Assinar Premium"]})})]})]})]}),c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Por que escolher Premium?"}),c.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:y.map((b,k)=>c.jsx(kt,{className:"glass border-white/20 hover:border-yellow-400/30 transition-all duration-300 group",children:c.jsxs(Et,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(b.icon,{className:"text-yellow-400",size:24})}),c.jsx("h3",{className:"text-white font-semibold mb-2",children:b.title}),c.jsx("p",{className:"text-white/70 text-sm",children:b.description})]})},k))})]}),d!=="premium"&&c.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:c.jsx(kt,{className:"bg-gradient-to-r from-yellow-400/10 to-yellow-600/10 border-yellow-400/30",children:c.jsxs(Et,{className:"p-6 text-center",children:[c.jsx(yn,{className:"text-yellow-400 mx-auto mb-4",size:48}),c.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Desbloqueie Todo o Potencial do Eclipse Reads"}),c.jsx("p",{className:"text-white/70 mb-6",children:"Acesse contedo exclusivo, leia offline e tenha uma experincia sem limites"}),c.jsx(ge,{onClick:f,disabled:n,className:"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold hover:from-yellow-500 hover:to-yellow-700 transition-all duration-300 px-8 py-3",size:"lg",children:n?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin mr-2"}),"Processando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(yn,{size:20,className:"mr-2"}),"Comear Premium Agora"]})})]})})})]})})}var Bu="Switch",[GB]=_r(Bu),[KB,qB]=GB(Bu),oE=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:l,disabled:d,value:f="on",onCheckedChange:p,form:m,...g}=t,[y,b]=x.useState(null),k=Ie(e,N=>b(N)),S=x.useRef(!1),E=y?m||!!y.closest("form"):!0,[C,j]=Js({prop:i,defaultProp:a??!1,onChange:p,caller:Bu});return c.jsxs(KB,{scope:r,checked:C,disabled:d,children:[c.jsx(_e.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":cE(C),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:k,onClick:he(t.onClick,N=>{j(R=>!R),E&&(S.current=N.isPropagationStopped(),S.current||N.stopPropagation())})}),E&&c.jsx(lE,{control:y,bubbles:!S.current,name:n,value:f,checked:C,required:l,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});oE.displayName=Bu;var iE="SwitchThumb",aE=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=qB(iE,r);return c.jsx(_e.span,{"data-state":cE(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});aE.displayName=iE;var YB="SwitchBubbleInput",lE=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const l=x.useRef(null),d=Ie(l,a),f=vm(r),p=ym(e);return x.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&b){const k=new Event("click",{bubbles:n});b.call(m,r),m.dispatchEvent(k)}},[f,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:d,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lE.displayName=YB;function cE(t){return t?"checked":"unchecked"}var XB=oE,JB=aE;function ow({className:t,...e}){return c.jsx(XB,{"data-slot":"switch",className:Be("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(JB,{"data-slot":"switch-thumb",className:Be("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function QB({onBack:t}){const{state:e,actions:r}=ir(),[n,i]=x.useState(!0),[a,l]=x.useState(!0),d=Ka(),f=m=>{r.setTheme(m),re.success(`Tema ${m==="light"?"claro":"noturno"} ativado!`)},p=[{value:"light",label:"Claro",icon:am,description:"Tema padro com cores claras"},{value:"night",label:"Noturno",icon:im,description:"Cores azuis suaves para leitura noturna"}];return c.jsx("div",{className:"min-h-screen responsive-scroll",children:c.jsxs("div",{className:`${d?"max-w-4xl mx-auto px-6 py-8":"px-4 py-6"}`,children:[c.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center gap-4 mb-8",children:[t&&c.jsx(ge,{variant:"ghost",size:"sm",onClick:t,className:"text-white hover:bg-white/10 rounded-full p-2",children:c.jsx(qc,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Configuraes & Temas"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:c.jsxs(kt,{className:"glass border-white/20",children:[c.jsx(oi,{children:c.jsxs(ii,{className:"text-white flex items-center gap-2",children:[c.jsx(Yc,{className:"text-purple-400",size:20}),"Tema da Interface"]})}),c.jsx(Et,{className:"space-y-4",children:p.map(m=>{const g=m.icon,y=e.theme===m.value;return c.jsx("div",{onClick:()=>f(m.value),className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${y?"border-purple-500 bg-purple-500/20":"border-white/20 bg-white/5 hover:border-purple-400/50 hover:bg-purple-400/10"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(g,{className:`${y?"text-purple-300":"text-white/70"}`,size:20}),c.jsxs("div",{children:[c.jsx("div",{className:`font-medium ${y?"text-white":"text-white/90"}`,children:m.label}),c.jsx("div",{className:"text-sm text-white/60",children:m.description})]})]}),y&&c.jsx(Lt,{className:"bg-purple-500 text-white",children:"Ativo"})]})},m.value)})})]})}),c.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsxs(kt,{className:"glass border-white/20",children:[c.jsx(oi,{children:c.jsxs(ii,{className:"text-white flex items-center gap-2",children:[c.jsx(cM,{className:"text-blue-400",size:20}),"Preferncias de Leitura"]})}),c.jsxs(Et,{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-medium",children:"Sons da Interface"}),c.jsx("div",{className:"text-white/60 text-sm",children:"Reproduzir sons ao navegar"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[n?c.jsx(QM,{className:"text-green-400",size:16}):c.jsx(eO,{className:"text-red-400",size:16}),c.jsx(ow,{checked:n,onCheckedChange:i})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-medium",children:"Notificaes"}),c.jsx("div",{className:"text-white/60 text-sm",children:"Receber lembretes de leitura"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[a?c.jsx(UI,{className:"text-green-400",size:16}):c.jsx(LI,{className:"text-red-400",size:16}),c.jsx(ow,{checked:a,onCheckedChange:l})]})]})]})]})})]})]})})}function ZB({activeTab:t,onTabChange:e}){const r=()=>{const n=new CustomEvent("showSettingsScreen");window.dispatchEvent(n)};return c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-blue-900 via-blue-700 to-blue-600/90 backdrop-blur-lg border-t border-white/10 px-3 py-2",children:c.jsxs("div",{className:"flex justify-around items-center max-w-md mx-auto",children:[c.jsxs("button",{onClick:()=>e("home"),className:`relative flex flex-col items-center p-3 rounded-lg transition-colors duration-300 ${t==="home"?"text-white bg-white/20":"text-blue-200/80"}`,children:[t==="home"&&c.jsx("div",{className:"absolute -top-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),c.jsx(V1,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-medium",children:"Home"})]}),c.jsxs("button",{onClick:()=>e("search"),className:`relative flex flex-col items-center p-3 rounded-lg transition-colors duration-300 ${t==="search"?"text-white bg-white/20":"text-blue-200/80"}`,children:[t==="search"&&c.jsx("div",{className:"absolute -top-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),c.jsx(fs,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-medium",children:"Busca"})]}),c.jsxs("button",{onClick:()=>e("library"),className:`relative flex flex-col items-center p-3 rounded-lg transition-colors duration-300 ${t==="library"?"text-white bg-white/20":"text-blue-200/80"}`,children:[t==="library"&&c.jsx("div",{className:"absolute -top-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),c.jsx(Ue,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-medium",children:"Biblioteca"})]}),c.jsxs("button",{onClick:r,className:"relative flex flex-col items-center p-3 rounded-lg transition-colors duration-300 text-blue-200/80",children:[c.jsx(Xc,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-medium",children:"Config"})]}),c.jsxs("button",{onClick:()=>e("profile"),className:`relative flex flex-col items-center p-3 rounded-lg transition-colors duration-300 ${t==="profile"?"text-white bg-white/20":"text-blue-200/80"}`,children:[t==="profile"&&c.jsx("div",{className:"absolute -top-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"}),c.jsx(lm,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-medium",children:"Perfil"})]})]})})}var hh="rovingFocusGroup.onEntryFocus",e5={bubbles:!1,cancelable:!0},Ja="RovingFocusGroup",[pp,uE,t5]=Nu(Ja),[r5,dE]=_r(Ja,[t5]),[n5,s5]=r5(Ja),fE=x.forwardRef((t,e)=>c.jsx(pp.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(pp.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(o5,{...t,ref:e})})}));fE.displayName=Ja;var o5=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...g}=t,y=x.useRef(null),b=Ie(e,y),k=Ya(a),[S,E]=Js({prop:l,defaultProp:d??null,onChange:f,caller:Ja}),[C,j]=x.useState(!1),N=_t(p),R=uE(r),M=x.useRef(!1),[L,D]=x.useState(0);return x.useEffect(()=>{const A=y.current;if(A)return A.addEventListener(hh,N),()=>A.removeEventListener(hh,N)},[N]),c.jsx(n5,{scope:r,orientation:n,dir:k,loop:i,currentTabStopId:S,onItemFocus:x.useCallback(A=>E(A),[E]),onItemShiftTab:x.useCallback(()=>j(!0),[]),onFocusableItemAdd:x.useCallback(()=>D(A=>A+1),[]),onFocusableItemRemove:x.useCallback(()=>D(A=>A-1),[]),children:c.jsx(_e.div,{tabIndex:C||L===0?-1:0,"data-orientation":n,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{M.current=!0}),onFocus:he(t.onFocus,A=>{const V=!M.current;if(A.target===A.currentTarget&&V&&!C){const H=new CustomEvent(hh,e5);if(A.currentTarget.dispatchEvent(H),!H.defaultPrevented){const Z=R().filter(Y=>Y.focusable),ce=Z.find(Y=>Y.active),ae=Z.find(Y=>Y.id===S),ye=[ce,ae,...Z].filter(Boolean).map(Y=>Y.ref.current);mE(ye,m)}}M.current=!1}),onBlur:he(t.onBlur,()=>j(!1))})})}),hE="RovingFocusGroupItem",pE=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:l,...d}=t,f=bn(),p=a||f,m=s5(hE,r),g=m.currentTabStopId===p,y=uE(r),{onFocusableItemAdd:b,onFocusableItemRemove:k,currentTabStopId:S}=m;return x.useEffect(()=>{if(n)return b(),()=>k()},[n,b,k]),c.jsx(pp.ItemSlot,{scope:r,id:p,focusable:n,active:i,children:c.jsx(_e.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...d,ref:e,onMouseDown:he(t.onMouseDown,E=>{n?m.onItemFocus(p):E.preventDefault()}),onFocus:he(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:he(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){m.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const C=l5(E,m.orientation,m.dir);if(C!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let N=y().filter(R=>R.focusable).map(R=>R.ref.current);if(C==="last")N.reverse();else if(C==="prev"||C==="next"){C==="prev"&&N.reverse();const R=N.indexOf(E.currentTarget);N=m.loop?c5(N,R+1):N.slice(R+1)}setTimeout(()=>mE(N))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:S!=null}):l})})});pE.displayName=hE;var i5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function l5(t,e,r){const n=a5(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return i5[n]}function mE(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function c5(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var u5=fE,d5=pE,mp=["Enter"," "],f5=["ArrowDown","PageUp","Home"],gE=["ArrowUp","PageDown","End"],h5=[...f5,...gE],p5={ltr:[...mp,"ArrowRight"],rtl:[...mp,"ArrowLeft"]},m5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qa="Menu",[$a,g5,v5]=Nu(Qa),[no,vE]=_r(Qa,[v5,Iu,dE]),Uu=Iu(),yE=dE(),[y5,so]=no(Qa),[x5,Za]=no(Qa),xE=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:l=!0}=t,d=Uu(e),[f,p]=x.useState(null),m=x.useRef(!1),g=_t(a),y=Ya(i);return x.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),c.jsx(yk,{...d,children:c.jsx(y5,{scope:e,open:r,onOpenChange:g,content:f,onContentChange:p,children:c.jsx(x5,{scope:e,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:y,modal:l,children:n})})})};xE.displayName=Qa;var w5="MenuAnchor",Pm=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Uu(r);return c.jsx(xk,{...i,...n,ref:e})});Pm.displayName=w5;var Am="MenuPortal",[b5,wE]=no(Am,{forceMount:void 0}),bE=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=so(Am,e);return c.jsx(b5,{scope:e,forceMount:r,children:c.jsx(Cr,{present:r||a.open,children:c.jsx(bu,{asChild:!0,container:i,children:n})})})};bE.displayName=Am;var Er="MenuContent",[S5,Dm]=no(Er),SE=x.forwardRef((t,e)=>{const r=wE(Er,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=so(Er,t.__scopeMenu),l=Za(Er,t.__scopeMenu);return c.jsx($a.Provider,{scope:t.__scopeMenu,children:c.jsx(Cr,{present:n||a.open,children:c.jsx($a.Slot,{scope:t.__scopeMenu,children:l.modal?c.jsx(k5,{...i,ref:e}):c.jsx(E5,{...i,ref:e})})})})}),k5=x.forwardRef((t,e)=>{const r=so(Er,t.__scopeMenu),n=x.useRef(null),i=Ie(e,n);return x.useEffect(()=>{const a=n.current;if(a)return um(a)},[]),c.jsx(Im,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),E5=x.forwardRef((t,e)=>{const r=so(Er,t.__scopeMenu);return c.jsx(Im,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),_5=Xs("MenuContent.ScrollLock"),Im=x.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:k,...S}=t,E=so(Er,r),C=Za(Er,r),j=Uu(r),N=yE(r),R=g5(r),[M,L]=x.useState(null),D=x.useRef(null),A=Ie(e,D,E.onContentChange),V=x.useRef(0),H=x.useRef(""),Z=x.useRef(0),ce=x.useRef(null),ae=x.useRef("right"),ue=x.useRef(0),ye=k?ku:x.Fragment,Y=k?{as:_5,allowPinchZoom:!0}:void 0,q=U=>{const F=H.current+U,I=R().filter(K=>!K.disabled),G=document.activeElement,X=I.find(K=>K.ref.current===G)?.textValue,se=I.map(K=>K.textValue),de=L5(se,F,X),pe=I.find(K=>K.textValue===de)?.ref.current;(function K(le){H.current=le,window.clearTimeout(V.current),le!==""&&(V.current=window.setTimeout(()=>K(""),1e3))})(F),pe&&setTimeout(()=>pe.focus())};x.useEffect(()=>()=>window.clearTimeout(V.current),[]),cm();const T=x.useCallback(U=>ae.current===ce.current?.side&&U5(U,ce.current?.area),[]);return c.jsx(S5,{scope:r,searchRef:H,onItemEnter:x.useCallback(U=>{T(U)&&U.preventDefault()},[T]),onItemLeave:x.useCallback(U=>{T(U)||(D.current?.focus(),L(null))},[T]),onTriggerLeave:x.useCallback(U=>{T(U)&&U.preventDefault()},[T]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:x.useCallback(U=>{ce.current=U},[]),children:c.jsx(ye,{...Y,children:c.jsx(wu,{asChild:!0,trapped:i,onMountAutoFocus:he(a,U=>{U.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:c.jsx(xu,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:c.jsx(u5,{asChild:!0,...N,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:M,onCurrentTabStopIdChange:L,onEntryFocus:he(f,U=>{C.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(wk,{role:"menu","aria-orientation":"vertical","data-state":BE(E.open),"data-radix-menu-content":"",dir:C.dir,...j,...S,ref:A,style:{outline:"none",...S.style},onKeyDown:he(S.onKeyDown,U=>{const I=U.target.closest("[data-radix-menu-content]")===U.currentTarget,G=U.ctrlKey||U.altKey||U.metaKey,X=U.key.length===1;I&&(U.key==="Tab"&&U.preventDefault(),!G&&X&&q(U.key));const se=D.current;if(U.target!==se||!h5.includes(U.key))return;U.preventDefault();const pe=R().filter(K=>!K.disabled).map(K=>K.ref.current);gE.includes(U.key)&&pe.reverse(),M5(pe)}),onBlur:he(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(V.current),H.current="")}),onPointerMove:he(t.onPointerMove,Fa(U=>{const F=U.target,I=ue.current!==U.clientX;if(U.currentTarget.contains(F)&&I){const G=U.clientX>ue.current?"right":"left";ae.current=G,ue.current=U.clientX}}))})})})})})})});SE.displayName=Er;var C5="MenuGroup",Mm=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(_e.div,{role:"group",...n,ref:e})});Mm.displayName=C5;var j5="MenuLabel",kE=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(_e.div,{...n,ref:e})});kE.displayName=j5;var au="MenuItem",iw="menu.itemSelect",$u=x.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=x.useRef(null),l=Za(au,t.__scopeMenu),d=Dm(au,t.__scopeMenu),f=Ie(e,a),p=x.useRef(!1),m=()=>{const g=a.current;if(!r&&g){const y=new CustomEvent(iw,{bubbles:!0,cancelable:!0});g.addEventListener(iw,b=>n?.(b),{once:!0}),M1(g,y),y.defaultPrevented?p.current=!1:l.onClose()}};return c.jsx(EE,{...i,ref:f,disabled:r,onClick:he(t.onClick,m),onPointerDown:g=>{t.onPointerDown?.(g),p.current=!0},onPointerUp:he(t.onPointerUp,g=>{p.current||g.currentTarget?.click()}),onKeyDown:he(t.onKeyDown,g=>{const y=d.searchRef.current!=="";r||y&&g.key===" "||mp.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});$u.displayName=au;var EE=x.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,l=Dm(au,r),d=yE(r),f=x.useRef(null),p=Ie(e,f),[m,g]=x.useState(!1),[y,b]=x.useState("");return x.useEffect(()=>{const k=f.current;k&&b((k.textContent??"").trim())},[a.children]),c.jsx($a.ItemSlot,{scope:r,disabled:n,textValue:i??y,children:c.jsx(d5,{asChild:!0,...d,focusable:!n,children:c.jsx(_e.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:p,onPointerMove:he(t.onPointerMove,Fa(k=>{n?l.onItemLeave(k):(l.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,Fa(k=>l.onItemLeave(k))),onFocus:he(t.onFocus,()=>g(!0)),onBlur:he(t.onBlur,()=>g(!1))})})})}),N5="MenuCheckboxItem",_E=x.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return c.jsx(RE,{scope:t.__scopeMenu,checked:r,children:c.jsx($u,{role:"menuitemcheckbox","aria-checked":lu(r)?"mixed":r,...i,ref:e,"data-state":Lm(r),onSelect:he(i.onSelect,()=>n?.(lu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_E.displayName=N5;var CE="MenuRadioGroup",[T5,R5]=no(CE,{value:void 0,onValueChange:()=>{}}),jE=x.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=_t(n);return c.jsx(T5,{scope:t.__scopeMenu,value:r,onValueChange:a,children:c.jsx(Mm,{...i,ref:e})})});jE.displayName=CE;var NE="MenuRadioItem",TE=x.forwardRef((t,e)=>{const{value:r,...n}=t,i=R5(NE,t.__scopeMenu),a=r===i.value;return c.jsx(RE,{scope:t.__scopeMenu,checked:a,children:c.jsx($u,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Lm(a),onSelect:he(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});TE.displayName=NE;var Om="MenuItemIndicator",[RE,P5]=no(Om,{checked:!1}),PE=x.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=P5(Om,r);return c.jsx(Cr,{present:n||lu(a.checked)||a.checked===!0,children:c.jsx(_e.span,{...i,ref:e,"data-state":Lm(a.checked)})})});PE.displayName=Om;var A5="MenuSeparator",AE=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});AE.displayName=A5;var D5="MenuArrow",DE=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Uu(r);return c.jsx(bk,{...i,...n,ref:e})});DE.displayName=D5;var I5="MenuSub",[Q6,IE]=no(I5),pa="MenuSubTrigger",ME=x.forwardRef((t,e)=>{const r=so(pa,t.__scopeMenu),n=Za(pa,t.__scopeMenu),i=IE(pa,t.__scopeMenu),a=Dm(pa,t.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=a,p={__scopeMenu:t.__scopeMenu},m=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),f(null)}},[d,f]),c.jsx(Pm,{asChild:!0,...p,children:c.jsx(EE,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":BE(r.open),...t,ref:yu(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,Fa(g=>{a.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:he(t.onPointerLeave,Fa(g=>{m();const y=r.content?.getBoundingClientRect();if(y){const b=r.content?.dataset.side,k=b==="right",S=k?-5:5,E=y[k?"left":"right"],C=y[k?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:E,y:y.top},{x:C,y:y.top},{x:C,y:y.bottom},{x:E,y:y.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,g=>{const y=a.searchRef.current!=="";t.disabled||y&&g.key===" "||p5[n.dir].includes(g.key)&&(r.onOpenChange(!0),r.content?.focus(),g.preventDefault())})})})});ME.displayName=pa;var OE="MenuSubContent",LE=x.forwardRef((t,e)=>{const r=wE(Er,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=so(Er,t.__scopeMenu),l=Za(Er,t.__scopeMenu),d=IE(OE,t.__scopeMenu),f=x.useRef(null),p=Ie(e,f);return c.jsx($a.Provider,{scope:t.__scopeMenu,children:c.jsx(Cr,{present:n||a.open,children:c.jsx($a.Slot,{scope:t.__scopeMenu,children:c.jsx(Im,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&f.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:he(t.onFocusOutside,m=>{m.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:he(t.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),y=m5[l.dir].includes(m.key);g&&y&&(a.onOpenChange(!1),d.trigger?.focus(),m.preventDefault())})})})})})});LE.displayName=OE;function BE(t){return t?"open":"closed"}function lu(t){return t==="indeterminate"}function Lm(t){return lu(t)?"indeterminate":t?"checked":"unchecked"}function M5(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function O5(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function L5(t,e,r){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let l=O5(t,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==r));const f=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function B5(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const d=e[a],f=e[l],p=d.x,m=d.y,g=f.x,y=f.y;m>n!=y>n&&r<(g-p)*(n-m)/(y-m)+p&&(i=!i)}return i}function U5(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return B5(r,e)}function Fa(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $5=xE,F5=Pm,z5=bE,V5=SE,W5=Mm,H5=kE,G5=$u,K5=_E,q5=jE,Y5=TE,X5=PE,J5=AE,Q5=DE,Z5=ME,e6=LE,Fu="DropdownMenu",[t6]=_r(Fu,[vE]),Ft=vE(),[r6,UE]=t6(Fu),$E=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:l,modal:d=!0}=t,f=Ft(e),p=x.useRef(null),[m,g]=Js({prop:i,defaultProp:a??!1,onChange:l,caller:Fu});return c.jsx(r6,{scope:e,triggerId:bn(),triggerRef:p,contentId:bn(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(y=>!y),[g]),modal:d,children:c.jsx($5,{...f,open:m,onOpenChange:g,dir:n,modal:d,children:r})})};$E.displayName=Fu;var FE="DropdownMenuTrigger",zE=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=UE(FE,r),l=Ft(r);return c.jsx(F5,{asChild:!0,...l,children:c.jsx(_e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:yu(e,a.triggerRef),onPointerDown:he(t.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:he(t.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});zE.displayName=FE;var n6="DropdownMenuPortal",VE=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ft(e);return c.jsx(z5,{...n,...r})};VE.displayName=n6;var WE="DropdownMenuContent",HE=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=UE(WE,r),a=Ft(r),l=x.useRef(!1);return c.jsx(V5,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:he(t.onCloseAutoFocus,d=>{l.current||i.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:he(t.onInteractOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;(!i.modal||m)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HE.displayName=WE;var s6="DropdownMenuGroup",o6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(W5,{...i,...n,ref:e})});o6.displayName=s6;var i6="DropdownMenuLabel",a6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(H5,{...i,...n,ref:e})});a6.displayName=i6;var l6="DropdownMenuItem",GE=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(G5,{...i,...n,ref:e})});GE.displayName=l6;var c6="DropdownMenuCheckboxItem",u6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(K5,{...i,...n,ref:e})});u6.displayName=c6;var d6="DropdownMenuRadioGroup",f6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(q5,{...i,...n,ref:e})});f6.displayName=d6;var h6="DropdownMenuRadioItem",p6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(Y5,{...i,...n,ref:e})});p6.displayName=h6;var m6="DropdownMenuItemIndicator",g6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(X5,{...i,...n,ref:e})});g6.displayName=m6;var v6="DropdownMenuSeparator",KE=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(J5,{...i,...n,ref:e})});KE.displayName=v6;var y6="DropdownMenuArrow",x6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(Q5,{...i,...n,ref:e})});x6.displayName=y6;var w6="DropdownMenuSubTrigger",b6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(Z5,{...i,...n,ref:e})});b6.displayName=w6;var S6="DropdownMenuSubContent",k6=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ft(r);return c.jsx(e6,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k6.displayName=S6;var E6=$E,_6=zE,C6=VE,j6=HE,N6=GE,T6=KE;function R6({...t}){return c.jsx(E6,{"data-slot":"dropdown-menu",...t})}function P6({...t}){return c.jsx(_6,{"data-slot":"dropdown-menu-trigger",...t})}function A6({className:t,sideOffset:e=4,...r}){return c.jsx(C6,{children:c.jsx(j6,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Be("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function Rc({className:t,inset:e,variant:r="default",...n}){return c.jsx(N6,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Be("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function ph({className:t,...e}){return c.jsx(T6,{"data-slot":"dropdown-menu-separator",className:Be("bg-border -mx-1 my-1 h-px",t),...e})}function D6({activeTab:t,onTabChange:e}){const{state:r,actions:n}=ir(),i=r.user,a=()=>{n.logout()},l=()=>{try{const p=new CustomEvent("showSettingsScreen");window.dispatchEvent(p)}catch(p){console.error("Error dispatching settings event:",p),e("profile")}},d=()=>{try{const p=new CustomEvent("showPlansScreen");window.dispatchEvent(p)}catch(p){console.error("Error dispatching plans event:",p)}},f=[{id:"home",label:"Home",icon:V1},{id:"search",label:"Buscar",icon:fs},{id:"library",label:"Biblioteca",icon:Ue}];return c.jsx(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass border-b border-white/20 px-6 py-4 sticky top-0 z-50",children:c.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(x1,{className:"w-16 h-16 object-contain"}),c.jsx("h1",{className:"text-xl font-semibold text-white",children:"Eclipse Reads"})]}),c.jsx("div",{className:"flex items-center gap-6",children:f.map(p=>{const m=p.icon;return c.jsxs(ge,{variant:"ghost",onClick:()=>e(p.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${t===p.id?"text-white bg-blue-600/30 shadow-lg shadow-blue-500/25":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[c.jsx(m,{size:18}),p.label]},p.id)})}),c.jsxs(R6,{children:[c.jsx(P6,{asChild:!0,children:c.jsxs(ge,{variant:"ghost",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/10 transition-all duration-300",children:[c.jsxs(rE,{className:"w-8 h-8",children:[c.jsx(nE,{src:i?.avatar||""}),c.jsx(sE,{className:"bg-blue-600 text-white text-sm",children:i?.name?.charAt(0)||"U"})]}),c.jsxs("div",{className:"text-left hidden lg:block",children:[c.jsx("p",{className:"text-white text-sm font-medium",children:i?.nickname||i?.name?.split(" ")[0]||"Usurio"}),c.jsx(Lt,{variant:i?.accountType==="premium"?"default":"secondary",className:`text-xs ${i?.accountType==="premium"?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black":"bg-gray-500/50 text-white/80"}`,children:i?.accountType==="premium"?" Premium":" Gratuito"})]}),c.jsx(_M,{size:16,className:"text-white/70"})]})}),c.jsxs(A6,{className:"glass border-white/20 min-w-[200px]",align:"end",children:[c.jsxs(Rc,{onClick:()=>e("profile"),className:"text-white hover:bg-blue-600/20 cursor-pointer",children:[c.jsx(lm,{size:16,className:"mr-2"}),"Ver Perfil"]}),c.jsx(ph,{className:"bg-white/20"}),c.jsx(Rc,{onClick:d,className:"text-yellow-400 hover:bg-yellow-400/20 cursor-pointer",children:i?.accountType==="premium"?c.jsxs(c.Fragment,{children:[c.jsx(yn,{size:16,className:"mr-2"}),"Gerenciar Plano"]}):c.jsxs(c.Fragment,{children:[c.jsx(tn,{size:16,className:"mr-2"}),"Ver Planos"]})}),c.jsx(ph,{className:"bg-white/20"}),c.jsxs(Rc,{onClick:l,className:"text-white hover:bg-blue-600/20 cursor-pointer",children:[c.jsx(Xc,{size:16,className:"mr-2"}),"Configuraes"]}),c.jsx(ph,{className:"bg-white/20"}),c.jsxs(Rc,{onClick:a,className:"text-red-400 hover:bg-red-500/20 cursor-pointer",children:[c.jsx(W1,{size:16,className:"mr-2"}),"Sair da Conta"]})]})]})]})})}function I6({onRefresh:t}){const[e,r]=x.useState(!1),[n,i]=x.useState(!1);x.useEffect(()=>{const d=()=>{performance.getEntriesByType("navigation").length>0;const p=localStorage.getItem("eclipse_api_errors");p&&JSON.parse(p).filter(y=>Date.now()-y.timestamp<300*1e3).length>=3&&r(!0)},f=p=>{console.log(" API Error detected:",p.detail),r(!0);const m=JSON.parse(localStorage.getItem("eclipse_api_errors")||"[]");m.push({timestamp:Date.now(),error:p.detail.error,type:p.detail.type});const g=m.filter(y=>Date.now()-y.timestamp<1440*60*1e3);localStorage.setItem("eclipse_api_errors",JSON.stringify(g))};return d(),window.addEventListener("apiError",f),()=>{window.removeEventListener("apiError",f)}},[]);const a=async()=>{i(!0);try{localStorage.removeItem("eclipse_books_cache"),localStorage.removeItem("eclipse_api_errors"),t&&await t(),await new Promise(d=>setTimeout(d,1e3)),r(!1)}catch(d){console.error("Erro ao tentar refresh:",d)}finally{i(!1)}},l=()=>{r(!1),localStorage.setItem("eclipse_banner_dismissed",(Date.now()+600*1e3).toString())};return x.useEffect(()=>{const d=localStorage.getItem("eclipse_banner_dismissed");d&&Date.now()<parseInt(d)&&r(!1)},[]),c.jsx(rb,{children:e&&c.jsx(Ve.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-yellow-600 to-orange-600 text-white px-4 py-3 shadow-lg",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm",children:" Instabilidade na API do Google Books"}),c.jsx("p",{className:"text-xs text-yellow-100 mt-1",children:"Alguns livros podem mostrar dados temporrios. Tentando reconectar..."})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:a,disabled:n,className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}),"Testando..."]}):c.jsx(c.Fragment,{children:" Tentar Novamente"})}),c.jsx("button",{onClick:l,className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/20 transition-colors","aria-label":"Dispensar aviso",children:""})]})]})})})}function M6(){const[t,e]=x.useState(null),[r,n]=x.useState(!0),i=x.useRef(null),a=x.useRef(!1);return x.useEffect(()=>{const l=()=>e(mu());l();const d=window.setInterval(l,5e3);return()=>clearInterval(d)},[]),x.useEffect(()=>{const l=()=>{n(!0),i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{n(!1),i.current=null},4e3)};return window.addEventListener("supabase:show",l),()=>window.removeEventListener("supabase:show",l)},[]),x.useEffect(()=>{if(t)return t.isReady?a.current?(n(!1),i.current&&(window.clearTimeout(i.current),i.current=null)):(n(!0),i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{n(!1),i.current=null},3500),a.current=!0):(n(!0),i.current&&(window.clearTimeout(i.current),i.current=null)),()=>{i.current&&(window.clearTimeout(i.current),i.current=null)}},[t]),x.useEffect(()=>()=>{i.current&&(window.clearTimeout(i.current),i.current=null)},[]),!t||!r?null:c.jsx("div",{className:`fixed top-2 left-1/2 -translate-x-1/2 z-50 px-3 py-1 rounded-lg text-sm font-medium ${t.isReady?"bg-green-600 text-white":"bg-yellow-600 text-white"}`,children:t.isReady?c.jsx("span",{children:" Supabase pronto (cliente inicializado)"}):c.jsxs("span",{children:[" Supabase no inicializado  URL: ",t.hasUrl?"sim":"no"," | Key: ",t.hasKey?"sim":"no"]})})}function O6({onShow:t}){return c.jsx("button",{onClick:t,title:"Mostrar status do Supabase",className:"fixed bottom-4 right-4 z-50 bg-blue-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg",children:"i"})}function L6(){const[t,e]=x.useState(null),[r,n]=x.useState(!1);x.useEffect(()=>{const l=mu();e(l),(!l.isReady||typeof window<"u"&&window.location.search.includes("debug=true"))&&n(!0);const d=f=>{f.ctrlKey&&f.shiftKey&&f.key==="D"&&n(!r)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[r]);const i=async()=>{if(!ze){alert(" No Supabase client available");return}try{const{data:l,error:d}=await ze.auth.getSession();alert(d?` Session test failed: ${d.message}`:" Supabase connection successful!")}catch(l){alert(` Connection test failed: ${l}`)}},a=async()=>{if(!ze){alert(" No Supabase client available");return}try{const{error:l}=await ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:"test://test",skipBrowserRedirect:!0}});l?l.message.includes("not configured")?alert(" Google OAuth is not configured in your Supabase project"):alert(` OAuth test error: ${l.message}`):alert(" Google OAuth appears to be configured correctly")}catch(l){alert(` OAuth test failed: ${l}`)}};return r?c.jsxs("div",{className:"fixed bottom-4 right-4 z-50 bg-black/90 text-white p-4 rounded-lg max-w-sm text-xs",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h3",{className:"font-bold text-purple-300",children:"Supabase Debug"}),c.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-white",children:""})]}),t&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsx("div",{children:"Client:"}),c.jsx("div",{className:t.hasClient?"text-green-400":"text-red-400",children:t.hasClient?" Available":" Missing"}),c.jsx("div",{children:"URL:"}),c.jsx("div",{className:t.hasUrl?"text-green-400":"text-red-400",children:t.hasUrl?" Detected":" Missing"}),c.jsx("div",{children:"Key:"}),c.jsx("div",{className:t.hasKey?"text-green-400":"text-red-400",children:t.hasKey?" Detected":" Missing"}),c.jsx("div",{children:"Ready:"}),c.jsx("div",{className:t.isReady?"text-green-400":"text-red-400",children:t.isReady?" Yes":" No"})]}),c.jsxs("div",{className:"mt-3 space-y-1",children:[c.jsx("button",{onClick:i,className:"w-full bg-blue-600 hover:bg-blue-700 px-2 py-1 rounded text-xs",children:"Test Connection"}),c.jsx("button",{onClick:a,className:"w-full bg-green-600 hover:bg-green-700 px-2 py-1 rounded text-xs",children:"Test Google OAuth"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-600 hover:bg-gray-700 px-2 py-1 rounded text-xs",children:"Reload Page"})]}),c.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Ctrl+Shift+D to toggle"})]})]}):c.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:c.jsx("button",{onClick:()=>n(!0),className:"bg-purple-600 text-white px-3 py-1 rounded text-xs hover:bg-purple-700",children:"Debug"})})}var B6=(t,e,r,n,i,a,l,d)=>{let f=document.documentElement,p=["light","dark"];function m(b){(Array.isArray(t)?t:[t]).forEach(k=>{let S=k==="class",E=S&&a?i.map(C=>a[C]||C):i;S?(f.classList.remove(...E),f.classList.add(a&&a[b]?a[b]:b)):f.setAttribute(k,b)}),g(b)}function g(b){d&&p.includes(b)&&(f.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)m(n);else try{let b=localStorage.getItem(e)||r,k=l&&b==="system"?y():b;m(k)}catch{}},U6=x.createContext(void 0),$6={setTheme:t=>{},themes:[]},F6=()=>{var t;return(t=x.useContext(U6))!=null?t:$6};x.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:l,themes:d,nonce:f,scriptProps:p})=>{let m=JSON.stringify([r,e,a,t,d,l,n,i]).slice(1,-1);return x.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${B6.toString()})(${m})`}})});const z6=({...t})=>{const{theme:e="system"}=F6();return c.jsx(RD,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},aw=async()=>{console.log(" Testing Supabase Connection...");const t=mu();if(console.log(" Configuration Status:",t),!ze)return console.log(" Cannot test - no Supabase client available"),typeof window<"u"&&(console.log(" Environment debugging:"),console.log("  - Hostname:",window.location.hostname),console.log("  - Search params:",window.location.search),console.log("  - Environment vars available:",{hasImportMeta:typeof import.meta<"u",hasProcess:typeof process<"u",hasWindowEnv:typeof window<"u"&&!!window.ENV})),{success:!1,error:"No Supabase client"};try{console.log(" Testing basic connectivity...");const e=new Promise((a,l)=>setTimeout(()=>l(new Error("Connection timeout")),5e3)),r=ze.auth.getSession(),{data:n,error:i}=await Promise.race([r,e]);i?(console.log("  Auth session error:",i.message),(i.message.includes("Invalid")||i.message.includes("JWT"))&&console.log(" Possible configuration issue - check Supabase credentials")):(console.log(" Auth session check successful"),console.log("  - Current session:",n.session?"Active":"None"),console.log("  - User:",n.session?.user?.email||"Not logged in")),console.log(" Testing Google OAuth configuration...");try{const{error:a}=await ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:"test://test",skipBrowserRedirect:!0}});a?a.message.includes("not configured")?(console.log("  Google OAuth not configured in Supabase project"),console.log("    Configure Google OAuth in Supabase Dashboard > Authentication > Providers")):console.log("  Google OAuth test error:",a.message):console.log(" Google OAuth appears to be configured correctly")}catch(a){console.log("  Could not test Google OAuth:",a)}return console.log(" Supabase connection test completed"),{success:!0,hasSession:!!n?.session,status:t}}catch(e){if(console.log(" Connection test failed:",e),e instanceof Error){const r=e.message.toLowerCase();r.includes("timeout")?console.log("    Connection timeout - check internet or Supabase status"):r.includes("cors")?console.log("    CORS error - check Supabase project configuration"):r.includes("fetch")&&console.log("    Network error - check connectivity")}return{success:!1,error:e instanceof Error?e.message:"Unknown error",status:t}}};typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(aw,1500)}):setTimeout(aw,1500));function V6(){const{state:t,actions:e}=ir(),[r,n]=x.useState("home"),[i,a]=x.useState(!1),[l,d]=x.useState(null),f=vu();x.useEffect(()=>{as(()=>Promise.resolve().then(()=>Oh),void 0).then(S=>{S.cleanPersistentCache&&S.cleanPersistentCache()})},[]),x.useEffect(()=>{document.documentElement.className="",t.theme==="night"&&document.documentElement.classList.add("night")},[t.theme]),x.useEffect(()=>{const S=()=>{a(!0)},E=j=>{const N=j.detail.bookId;d(N),n("bookDetail")},C=()=>{n("plans")};return window.addEventListener("showSettingsScreen",S),window.addEventListener("showBookDetail",E),window.addEventListener("showPlansScreen",C),()=>{window.removeEventListener("showSettingsScreen",S),window.removeEventListener("showBookDetail",E),window.removeEventListener("showPlansScreen",C)}},[]);const p=S=>{n(S),a(!1),S!=="bookDetail"&&d(null)},m=()=>{n("home"),d(null)},g=S=>{n("library"),d(null)},y=()=>{n("profile")};if(t.isLoading)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-white rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-white/90",children:"Carregando Eclipse Reads..."})]})});if(!t.isAuthenticated)return c.jsx("div",{className:"min-h-screen",children:c.jsx(PD,{onLogin:e.login,onSignUp:e.signUp,onGoogleLogin:e.loginWithGoogle,onGuestLogin:e.loginAsGuest})});const b=()=>{if(i)return c.jsx("div",{className:"responsive-scroll",children:c.jsx(QB,{onBack:()=>a(!1)})});if(r==="bookDetail")return c.jsx(WB,{bookId:l,onBack:m,onNavigateToHome:g});if(r==="plans")return c.jsx(HB,{onBack:y});const S={home:c.jsx(p3,{}),search:c.jsx(_B,{}),library:c.jsx(CB,{onSelectBook:E=>{d(E),n("bookDetail")},onNavigateToSearch:()=>n("search")}),profile:c.jsx(VB,{})};return c.jsx("div",{className:"responsive-scroll",children:c.jsx(rb,{mode:"wait",children:c.jsx(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"},children:S[r]},r)})})},k=async()=>{try{await e.loadUserData();const S=await as(()=>Promise.resolve().then(()=>Oh),void 0);S.clearCache&&S.clearCache()}catch(S){console.error("Erro ao atualizar dados:",S)}};return c.jsxs("div",{className:"min-h-screen text-white relative",children:[c.jsx(I6,{onRefresh:k}),c.jsx(M6,{}),c.jsx(O6,{onShow:()=>window.dispatchEvent(new CustomEvent("supabase:show"))}),c.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[f&&r!=="bookDetail"&&r!=="plans"&&c.jsx(D6,{activeTab:r,onTabChange:p}),c.jsx("div",{className:`flex-1 overflow-y-auto ${f?"":"pb-16"}`,children:b()}),!f&&c.jsx(ZB,{activeTab:r,onTabChange:p}),c.jsx(z6,{}),c.jsx(L6,{})]})]})}function W6(){return c.jsx(eD,{children:c.jsx(V6,{})})}XC.createRoot(document.getElementById("root")).render(c.jsx(W6,{}));
